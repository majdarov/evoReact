{"version":3,"sources":["components/Game/Game.js","components/Navbar/Navbar.jsx","redux/navReduser.js","components/Navbar/NavLinkContainer.js","components/Navbar/NavbarContainer.jsx","Assets/img/terminal-5.png","components/common/ProgressBar/ProgressBar.js","api/api_evotor/createRequestAxios.js","api/api_evotor/fetchEvoAxios.js","api/api.js","api/apiIDB.js","api/apiUtils.js","components/Header/Header.jsx","redux/appReducer.js","components/Header/HeaderContainer.jsx","components/common/Tree/treeFunction.js","components/common/Tree/Node.jsx","components/common/Tree/Tree.jsx","Assets/img/placeholder.svg","components/common/Preloader/Preloader.js","components/Commodity/ListCommodities/ListCommodities.jsx","components/Commodity/Forms/FormModalWrapper.jsx","components/Commodity/Forms/frmUtilites.js","components/Commodity/Forms/schemas/ComponentsProducts.jsx","components/common/TextArea/TextArea.jsx","components/Commodity/Forms/FormImg.jsx","components/Commodity/Forms/FormProduct.jsx","components/Commodity/Commodity.jsx","components/Errors/SequelizeErrors.js","components/Errors/EvoErrors.js","components/Errors/chooseError.js","redux/commodityReduser.js","components/Commodity/CommodityContainer.jsx","components/ImpExcel/News/News.jsx","components/ImpExcel/ImpExcel.jsx","components/Example/Example.jsx","components/Example/Wrapper.jsx","components/IdbTest/IdbTest.jsx","api/apiFile.js","components/Settings/MainSettings.jsx","components/Documents/Documents.jsx","App.jsx","redux/MuzikReduser.js","redux/redux-store.js","index.js","components/Commodity/Commodity.module.css","components/common/Tree/Tree.module.css","components/ImpExcel/ImpExcel.module.css","components/Commodity/Forms/FormModalWrapper.module.css","components/Navbar/Navbar.module.css","components/Commodity/Forms/Form.module.css","components/common/TextArea/TextArea.module.css","components/Header/Header.module.css"],"names":["Square","props","className","onClick","value","Board","i","sqSel","this","sq","setTimeout","squares","rows","t","j","push","renderSquare","React","Component","calculateWinner","lines","a","b","c","document","querySelectorAll","forEach","item","index","classList","remove","line","toggle","interval","setInterval","clearInterval","length","Game","state","history","Array","fill","square","xIsNext","stepNumber","slice","setState","concat","firstElementChild","step","e","target","status","current","winner","moves","map","move","coords","Math","floor","desc","jumpTo","handleClick","Navbar","navElements","GET_TITLE","CHOOSE_LANG","getTitleAC","path","type","initialState","langs","ru","en","currentLang","title","navBar","link","navReduser","action","nav","find","undefined","lng","NavLinkContainer","connect","ownProps","to","exact","activeClassName","dispatch","NavLink","getNavElements","navigation","idx","ex","s","active","NavbarContainer","ProgressBar","useState","p","setP","useEffect","limit","timer","delay","text","api_v2","headers","localStorage","appKey","storeUuid","storeKey","params","cursor","request","selectOption","url","method","body","period","dateStart","dateEnd","until","date","Date","setMonth","getMonth","getTime","docType","id","JSON","stringify","createRequest","fetchEvo","baseURL","data","Axios","response","result","paging","next_cursor","items","apiForIdb","stores","initDb","openDB","upgrade","db","oldVersion","newVersion","alert","console","log","objectStoreNames","contains","store","createObjectStore","keyPath","createIndex","apiIDB","getAll","group","get","product","pid","getAllFromIndex","products","resItems","tx","transaction","promises","put","done","Promise","all","nameDb","deleteDB","storeName","delete","compose","fns","x","reduceRight","acc","fn","testNeedUpdate","now","fetchGroupsProducts","res","groups","parent_id","barcodes","photos","setItem","lastUpdate","error","message","Header","isInit","setIsInit","setLastUpdate","updated","setUpdated","needUpdate","setNeedUpdate","toString","styleH5","color","style","src","logo","alt","ev","name","chooseLang","getTitle","checked","onChange","SET_APP_KEY","SET_STORE_KEY","INIT_APP","SET_STORES","SET_LAST_UPDATE","setAppKeyAC","key","setStoreKeyAC","setLastUpdateAC","dateUpdate","setAppKey","setStoreKey","toggleInitApp","init","initAppAC","getState","dateBefore","app","dateAfter","appReducer","chooseLangAC","withRouter","location","pathname","split","addNode","subNode","parentNode","pNode","findNode","childs","sort","label","node","createTree","root","notFoundNodes","notFoundNode","createNode","Node","ul","hidden","closed","open","children","Tree","nodeRoot","price","tree","treeLabel","treeElements","createSubTree","lvl","elem","tagName","getElementById","selected","closest","querySelector","nextSibling","callback","Preloader","spiner","ListCommodities","liElements","commodities","liClick","window","confirm","innerText","deleteProduct","getProductId","comIsLoaded","uuid","clickable","data-price","data-code","code","toFixed","del","FormModalWrapper","useLayoutEffect","overflow","top","container","form","setNewCode","maxCode","random","newCode","viewBarcode","barcode","f1","f2","bcStr","n","Number","String","fromCharCode","substr","validateBarcode","includes","ComponentsProducts","measure_name","handleChange","disabled","schema","measure_names","m","types","description","tax","taxes","g","gLabel","onDivClick","treeView","classTree","closeTree","callbackTree","classDiv","tabIndex","onBlur","onBlurGroup","delBcClick","allow_edit","deleteFromArray","view_barcode","delBc","defaultValue","bc","handleBlur","addBc","divPicture","pictureClick","photo","URL","createObjectURL","TextArea","placeholder","wrong","onKeyDown","ref","refrence","wrap","autoFocus","FormImg","display","height","position","left","verticalAlign","FormProduct","parentId","isNewData","formData","fileInput","createRef","bigImg","currentBarcode","revokeObjectURL","then","formError","err","setFormError","formatPrice","isFinite","required","from","files","Object","values","elements","removeAttribute","currentTarget","newValue","prefix","prompt","A1","repeat","A2","newBarcode","warn","valBc","handleSubmit","preventDefault","stopPropagation","changes","formChanged","createdAt","updatedAt","missData","reqData","keys","validateRequiredData","strMessage","getElementsByName","add","curr","prev","validateZeroData","typeQuery","postFormData","toggleFormPost","setFormData","setViewForm","elemId","arrName","findIndex","arr","splice","pId","setPid","setTreeView","gProps","eId","mnProps","tProps","taxProps","bProps","pProps","picture","addEventListener","removeEventListener","prevElem","previousElementSibling","formPost","onSubmit","ph","noPhoto","multiple","htmlFor","click","code_article","article_number","propertyes","prices","cost_price","defaultChecked","allow_to_sell","buttons","cansel","Commodity","groupName","setGroupName","RegExp","filter","match","setCommodities","li","currentLi","toggleHidden","gName","isLoaded","getGroups","getProducts","setError","head","search","viewForm","list","SequelizeError","Error","SequelizeValidationError","errors","SequelizeUniqueConstraintError","EvoValidationError","subject","toUpperCase","reason","chooseError","GET_GROUPS","SET_PID","GET_COMMODITIES","SET_ERROR","UPDATE_COMMODITY","SET_UPDATED","VIEW_FORM","SET_FORM_DATA","TOGGLE_FORM_POST","SET_FORM_ERROR","SET_FORM_PHOTOS","setPidAC","getCommoditiesAC","setErrorAC","setFormErrorAC","viewFormAC","view","setFormDataAC","toggleFormPostAC","isUpdated","quantity","resMessage","commodityReduser","assign","commodity","updateOk","update","commodityPage","dir","typeData","callbackApi","catch","News","element","article","ImpExcel","childElements","setChildElements","page","readXlsxFile","inpChange","archive","Example","count","Wrapper","setCount","IdbTest","setGroups","isLoading","setIsLoading","butGetGroups","blobFromObj","obj","rest","json","blob","Blob","blobToUrl","fileName","createElement","download","href","getObjfromLocalStorage","getItem","getObjfromIdb","saveConfig","config","readJsonFile","input","file","reader","FileReader","readAsText","resolve","reject","onload","parse","onerror","addKey","setStores","setStoresAC","inpRef","toJSON","setAppKeyAndStores","clean","setClean","storageName","clear","reload","cleareStorage","dateToString","strDate","getFullYear","dblDigit","getDate","dgt","getMinData","min","year","month","day","docs","setDocs","dateMin","setPeriod","changeDate","setHours","docClick","doc","styleSpan","border","paddingTop","paddingLeft","paddingRight","background","max","butGetDocs","margin","initializeApp","getProductsForIdb","component","MainSettings","CommodityContainer","Documents","SET_TEXT","textHTML","muzReduser","redusers","combineReducers","muzik","createStore","applyMiddleware","thunkMidleware","ReactDOM","render","module","exports"],"mappings":"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","file":"static/js/main.bd1c716d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Game.css\";\r\n\r\nfunction Square(props) {\r\n  return (\r\n    <button className={props.className} onClick={props.onClick}>\r\n      {props.value}\r\n    </button>\r\n  );\r\n}\r\n\r\nclass Board extends React.Component {\r\n  renderSquare(i) {\r\n    let sqSel =\r\n      this.props.sq === i && this.props.sqSel ? \"square selected\" : \"square\";\r\n    setTimeout(() => (sqSel = \"square\"), 500);\r\n    return (\r\n      <Square\r\n        value={this.props.squares[i]}\r\n        className={sqSel}\r\n        key={i}\r\n        onClick={() => this.props.onClick(i)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const rows = [];\r\n    let t = 0;\r\n    while (t < 9) {\r\n      for (let j = 1; j <= 3; j++) {\r\n        const sq = [];\r\n        for (let i = 1; i <= 3; i++) {\r\n          sq.push(this.renderSquare(t));\r\n          t++;\r\n        }\r\n        rows.push(\r\n          <div className=\"board-row\" key={j}>\r\n            {sq}\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return <div>{rows}</div>;\r\n  }\r\n}\r\n\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: [\r\n        {\r\n          squares: Array(9).fill(null),\r\n          square: null\r\n        }\r\n      ],\r\n      xIsNext: true,\r\n      stepNumber: 0\r\n    };\r\n  }\r\n\r\n  handleClick(i) {\r\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n    const current = history[history.length - 1];\r\n    const squares = current.squares.slice();\r\n\r\n    if (calculateWinner(squares) || squares[i]) {\r\n      return;\r\n    }\r\n    squares[i] = this.state.xIsNext ? \"X\" : \"O\";\r\n    this.setState({\r\n      history: history.concat([{ squares: squares, square: i }]),\r\n      stepNumber: history.length,\r\n      xIsNext: !this.state.xIsNext\r\n    });\r\n    let arrLi = document.querySelectorAll(\"li\");\r\n    arrLi.forEach(item => {\r\n      item.firstElementChild.classList.remove(\"selected\");\r\n    });\r\n  }\r\n\r\n  jumpTo(step, e) {\r\n    let arrLi = document.querySelectorAll(\"li\");\r\n    arrLi.forEach(item => {\r\n      item.firstElementChild.classList.remove(\"selected\");\r\n    });\r\n    e.target.classList.toggle(\"selected\");\r\n    this.setState({\r\n      stepNumber: step,\r\n      xIsNext: step % 2 === 0\r\n    });\r\n    this.setState({ sqSel: true });\r\n    setTimeout(() => this.setState({ sqSel: false }), 500);\r\n  }\r\n\r\n  render() {\r\n    const history = this.state.history;\r\n    const current = history[this.state.stepNumber];\r\n    const winner = calculateWinner(current.squares);\r\n\r\n    const moves = history.map((step, move) => {\r\n      let i = step.square;\r\n      if (move) {\r\n        var coords =\r\n          \" row: \" + (Math.floor(i / 3) + 1) + \" col: \" + ((i % 3) + 1);\r\n        var desc = \"Goto step #\" + move;\r\n      } else {\r\n        desc = \"Goto Start\";\r\n        coords = \"\";\r\n      }\r\n\r\n      return (\r\n        <li key={move}>\r\n          <button onClick={e => this.jumpTo(move, e)}>{desc}</button>\r\n          {coords}\r\n        </li>\r\n      );\r\n    });\r\n\r\n    let status;\r\n\r\n    if (winner) {\r\n      status = \"Winner \" + winner;\r\n    } else if (history.length === 10) {\r\n      status = \"X === O\";\r\n    } else {\r\n      status = \"Next step \" + (this.state.xIsNext ? \"X\" : \"O\");\r\n    }\r\n\r\n    return (\r\n      <div className=\"game\">\r\n        <h2>Game X vs O</h2>\r\n        <div className=\"game-wrapper\">\r\n          <div className=\"game-board\">\r\n            <Board\r\n              squares={current.squares}\r\n              onClick={i => this.handleClick(i)}\r\n              sqSel={this.state.sqSel}\r\n              sq={current.square}\r\n            />\r\n          </div>\r\n          <div className=\"game-info\">\r\n            <div>{status}</div>\r\n            <ol>{moves}</ol>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction calculateWinner(squares) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6]\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      let arrSq = document.querySelectorAll(\".square\");\r\n      arrSq.forEach((item, index) => {\r\n        item.classList.remove(\"selected\");\r\n        lines[i].forEach(line => {\r\n          if (index === line) {\r\n            item.classList.toggle(\"selected\");\r\n            let interval = setInterval(() => {\r\n              item.classList.toggle(\"selected\");\r\n            }, 500);\r\n            setTimeout(() => {\r\n              clearInterval(interval);\r\n              item.classList.remove(\"selected\");\r\n            }, 3000);\r\n          }\r\n        });\r\n      });\r\n\r\n      return squares[a];\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport default Game;\r\n","import React from 'react';\r\n\r\nconst Navbar = props => {\r\n\r\n  return (\r\n    <nav className='navbar'>\r\n      {props.navElements}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","const GET_TITLE = 'GET-TITLE';\r\n\r\nconst CHOOSE_LANG = 'CHOOSE-LANG';\r\n\r\nexport const getTitleAC = (path) => ({ type: GET_TITLE, path });\r\n\r\nexport const chooseLangAC = (lng) => ({ type: CHOOSE_LANG, lng });\r\n\r\nlet initialState = {\r\n  langs: { ru: 0, en: 1 },\r\n  currentLang: 0,\r\n  title: '',\r\n  navBar: [\r\n    { link: '/', title: ['', 'Start'] },\r\n    { link: '/settings', title: ['', 'Settings'] },\r\n    { link: '/commodity', title: ['', 'Products'] },\r\n    { link: '/documents', title: ['', 'Documents'] },\r\n    { link: '/game', title: ['', 'Game'] },\r\n    { link: '/table', title: [' Excel', 'Export Excel'] },\r\n  ],\r\n};\r\n\r\nconst navReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case GET_TITLE:\r\n      let title;\r\n      let nav = state.navBar.find((item) => item.link === action.path);\r\n      if (nav !== undefined) {\r\n        title = nav.title[state.currentLang];\r\n      }\r\n      return { ...state, title };\r\n\r\n    case CHOOSE_LANG:\r\n      return { ...state, currentLang: state.langs[action.lng] };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getTitle = (path) => {\r\n  return (dispatch) => {\r\n    dispatch(getTitleAC(path));\r\n  };\r\n};\r\n\r\nexport const chooseLang = lng => {\r\n  return dispatch => {\r\n    dispatch(chooseLangAC(lng))\r\n  };\r\n}\r\n\r\nexport default navReduser;\r\n","import { NavLink } from \"react-router-dom\";\r\nimport { getTitleAC } from \"../../redux/navReduser\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapState = (state, ownProps) => {\r\n  let { to, exact, activeClassName } = ownProps;\r\n  return { activeClassName, to, exact };\r\n};\r\n\r\nconst mapDispatch = (dispatch, ownProps) => {\r\n  let { to } = ownProps;\r\n  return {\r\n    onClick: () => {\r\n      dispatch(getTitleAC(to));\r\n    },\r\n  };\r\n};\r\n\r\nconst NavLinkContainer = connect(mapState, mapDispatch)(NavLink);\r\n\r\nexport default NavLinkContainer;\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport Navbar from './Navbar';\r\nimport { connect } from 'react-redux';\r\nimport NavLinkContainer from './NavLinkContainer';\r\n\r\nfunction getNavElements(state) {\r\n\r\n  let currentLang = state.navigation.currentLang;\r\n  let navElements = state.navigation.navBar.map((nav, idx) => {\r\n    let ex;\r\n    nav.link === \"/\" ? ex = true : ex = false;\r\n    return (\r\n      <div className={s.item} key={idx}>\r\n        <NavLinkContainer\r\n          exact={ex}\r\n          to={nav.link}\r\n          activeClassName={s.active}>\r\n          {nav.title[currentLang]}\r\n        </NavLinkContainer>\r\n      </div>\r\n    );\r\n  });\r\n  return navElements;\r\n}\r\n\r\nconst mapState = state => {\r\n  return {\r\n    navElements: getNavElements(state)\r\n  }\r\n}\r\n\r\nconst NavbarContainer = connect(mapState)(Navbar);\r\n\r\nexport default NavbarContainer;","export default __webpack_public_path__ + \"static/media/terminal-5.6357e026.png\";","import React, { useEffect, useState } from 'react';\r\n\r\nlet ProgressBar = (props) => {\r\n  const [p, setP] = useState('_');\r\n\r\n  useEffect(() => {\r\n    let limit = props.limit;\r\n    let c = 0;\r\n    let timer = setInterval(() => {\r\n      c++;\r\n      if (c > limit) {\r\n        c = 0;\r\n        setP('_');\r\n      }\r\n      setP((p) => (p += '_'));\r\n    }, props.delay);\r\n    return () => clearInterval(timer);\r\n  }, [props.delay, props.limit]);\r\n\r\n  return (\r\n    <div>\r\n      <h5>\r\n        {props.text}\r\n        {p}\r\n      </h5>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;\r\n","import api_v2 from './api_v2_axios.json';\r\n\r\nasync function createRequest(action) {\r\n  api_v2.headers['X-Authorization'] = localStorage.appKey;\r\n\r\n  action.storeUuid = localStorage.storeKey;\r\n\r\n  api_v2.params = action.cursor ? { cursor: action.cursor } : null;\r\n\r\n  let request = selectOption(action);\r\n\r\n  return { ...request, action: action.type };\r\n}\r\n\r\nfunction selectOption(action) {\r\n  let url, method, body, headers;\r\n\r\n  switch (action.type) {\r\n    case 'store_v2':\r\n      url = 'stores';\r\n      return { ...api_v2, method: 'GET', url };\r\n\r\n    case 'bulks_v1':\r\n      if (action.value) {\r\n        url = 'bulks/' + action.value;\r\n      } else {\r\n        url = 'bulks';\r\n      }\r\n      return { ...api_v2, method: 'GET', url };\r\n\r\n    /*    ID    */\r\n    case 'products_v2':\r\n      method = 'GET';\r\n      url = 'stores/' + action.storeUuid + '/products';\r\n      if (action.value) {\r\n        url += '/' + action.value;\r\n        action.value = '';\r\n      }\r\n      return { ...api_v2, method, url };\r\n    /*-------------------------------------*/\r\n\r\n    /*    ID    */\r\n    case 'groups_v2':\r\n      method = 'GET';\r\n      if (action.value) {\r\n        url = 'stores/' + action.storeUuid + '/product-groups/' + action.value;\r\n        action.value = '';\r\n      } else {\r\n        url = 'stores/' + action.storeUuid + '/product-groups';\r\n      }\r\n      return { ...api_v2, method, url };\r\n    /*--------------------------------------*/\r\n\r\n    /*   ( . , ) */\r\n    /*\r\n      ACCEPT -  ,\r\n      INVENTORY -  ,\r\n      REVALUATION - ,\r\n      RETURN -  ,\r\n      WRITE_OFF - ,\r\n      SELL - ,\r\n      PAYBACK - ,\r\n\r\n    */\r\n    case 'documents_v2':\r\n      method = 'GET';\r\n      if (action.value) {\r\n        url = 'stores/' + action.storeUuid + '/documents/' + action.value;\r\n      } else {\r\n        url = 'stores/' + action.storeUuid + '/documents';\r\n        if (!api_v2.cursor) {\r\n          if (action.period) {\r\n            let dateStart = action.period.dateStart;\r\n            let dateEnd = action.period.dateEnd;\r\n            let until = dateEnd ? `&until=${dateEnd}` : null;\r\n            url += `?since=${dateStart}${until}`;\r\n          } else {\r\n            let date = new Date();\r\n            date.setMonth(date.getMonth() - 1);\r\n            url += `?since=${date.getTime()}`;\r\n          }\r\n          url += `&type=${action.docType}`;\r\n        }\r\n      }\r\n      return { ...api_v2, method, url };\r\n    /*----------------------------------------------*/\r\n\r\n    case 'put_product_v2':\r\n      method = 'PUT';\r\n      url = 'stores/' + action.storeUuid + '/products/' + action.body.id;\r\n      body = JSON.stringify(action.body);\r\n      return { ...api_v2, method, url, body };\r\n\r\n    case 'post_product_v2':\r\n      method = 'POST';\r\n      url = 'stores/' + action.storeUuid + '/products';\r\n      body = JSON.stringify(action.body);\r\n      return { ...api_v2, method, url, body };\r\n\r\n    case 'delete_product_v2':\r\n      method = 'DELETE';\r\n      url = 'stores/' + action.storeUuid + '/products/' + action.id;\r\n      return { ...api_v2, method, url };\r\n\r\n    case 'put_array_products_v2':\r\n      if (!action.body || !action.body.length) {\r\n        return {};\r\n      }\r\n      method = 'PUT';\r\n      headers = {\r\n        ...api_v2.headers,\r\n        'Content-Type': 'application/vnd.evotor.v2+bulk+json',\r\n      };\r\n      url = 'stores/' + action.storeUuid + '/products';\r\n      body = JSON.stringify(action.body);\r\n      return { ...api_v2, method, headers, url, body };\r\n\r\n    case 'put_array_groups_v2':\r\n      method = 'PUT';\r\n      headers = {\r\n        ...api_v2.headers,\r\n        'Content-Type': 'application/vnd.evotor.v2+bulk+json',\r\n      };\r\n      url = 'stores/' + action.storeUuid + '/product-groups';\r\n      body = JSON.stringify(action.body);\r\n      return { ...api_v2, method, headers, url, body };\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport default createRequest;\r\n","import { default as Axios } from 'axios';\r\n\r\nasync function fetchEvo({\r\n  baseURL,\r\n  url,\r\n  headers,\r\n  method,\r\n  body,\r\n  params,\r\n  action,\r\n}) {\r\n  try {\r\n    let request = { baseURL, url, headers, method, params };\r\n    // console.log(request);\r\n    if (body) {\r\n      request.data = body;\r\n    }\r\n    let response = await Axios(request);\r\n    let result;\r\n    if (method === 'DELETE') {\r\n      result = response;\r\n    } else {\r\n      result = await response.data;\r\n    }\r\n    if (result.paging && result.paging.next_cursor) {\r\n      request.params = { cursor: result.paging.next_cursor };\r\n      let response = await fetchEvo(request);\r\n      result.items = result.items.concat(response.items);\r\n    }\r\n    result.paging = {};\r\n    return result;\r\n  } catch (err) {\r\n    return err;\r\n  }\r\n}\r\n\r\nexport default fetchEvo;\r\n","import { createRequest, fetchEvo } from './api_evotor';\r\n\r\nexport const apiForIdb = {\r\n\r\n  async getStores() {\r\n    let request = await createRequest({ type: 'store_v2' });\r\n    let stores = await fetchEvo(request);\r\n    return stores.items;\r\n  },\r\n\r\n  async getGroupsEvo() {\r\n    let request = await createRequest({ type: 'groups_v2' });\r\n    return await fetchEvo(request);\r\n  },\r\n\r\n  async getProductsEvo() {\r\n    let request = await createRequest({ type: 'products_v2' });\r\n    return await fetchEvo(request);\r\n  },\r\n\r\n  async postData(path, body) {\r\n    let request = await createRequest({ type: `post_${path}_v2`, body });\r\n    return await fetchEvo(request);\r\n  },\r\n  async putData(path, body) {\r\n    let request = await createRequest({ type: `put_${path}_v2`, body });\r\n    return await fetchEvo(request);\r\n  },\r\n  async deleteData(path, id) {\r\n    let request = await createRequest({ type: `delete_${path}_v2`, id });\r\n    return await fetchEvo(request);\r\n  },\r\n  async getDocuments(docType, period = null, value = null) {\r\n    let request = await createRequest({ type: 'documents_v2', docType, period, value });\r\n    return await fetchEvo(request);\r\n  },\r\n};\r\n","import { deleteDB, openDB } from 'idb';\r\n\r\nexport async function initDb() {\r\n  const db = await openDB('Evo', 3, {\r\n    async upgrade(db, oldVersion, newVersion) {\r\n      if (oldVersion < newVersion) {\r\n        alert('     : ' + newVersion);\r\n        // await db.delete();\r\n        console.log(`New version: ${newVersion}`);\r\n      }\r\n      if (!db.objectStoreNames.contains('groups')) {\r\n        const store = db.createObjectStore('groups', { keyPath: 'id' });\r\n        store.createIndex('name', 'name');\r\n        store.createIndex('date', 'created_at');\r\n      }\r\n      if (!db.objectStoreNames.contains('products')) {\r\n        const store = db.createObjectStore('products', { keyPath: 'id' });\r\n        store.createIndex('name', 'name');\r\n        store.createIndex('date', 'created_at');\r\n        store.createIndex('parent_id', 'parent_id');\r\n        store.createIndex('code', 'code');\r\n        store.createIndex('price', 'price');\r\n      }\r\n    },\r\n  });\r\n\r\n  return db;\r\n}\r\n\r\nexport const apiIDB = {\r\n\r\n  async getGroup(id) {\r\n    const db = await initDb();\r\n    let group;\r\n    if (id === 'all') {\r\n      group = await db.getAll('groups');\r\n    } else {\r\n      group = await db.get('groups', id);\r\n    }\r\n    return group;\r\n  },\r\n\r\n  async getProduct(id) {\r\n    const db = await initDb();\r\n    let product;\r\n    if (id === 'all' || !id) {\r\n      product = await db.getAll('products');\r\n    } else {\r\n      product = await db.get('products', id);\r\n    }\r\n    return product;\r\n  },\r\n\r\n  async getProductsPid(pid) {\r\n    const db = await initDb();\r\n    const products = await db.getAllFromIndex('products', 'parent_id', pid);\r\n    return products;\r\n  },\r\n\r\n  async getProductsName(name) {\r\n    const db = await initDb();\r\n    const products = await db.getAllFromIndex('products', 'name', name);\r\n    return products;\r\n  },\r\n\r\n  async pushItems(store, items) {\r\n    let resItems = [];\r\n    items.forEach((item) => {\r\n      resItems.push(item);\r\n    });\r\n    /* Init IDB */\r\n    const db = await initDb();\r\n    const tx = db.transaction(store, 'readwrite');\r\n    const promises = resItems.map((item) => {\r\n      return tx.store.put(item);\r\n    });\r\n    promises.push(tx.done);\r\n    await Promise.all(promises);\r\n  },\r\n\r\n  async delDb(nameDb) {\r\n    await deleteDB(nameDb);\r\n  },\r\n\r\n  async putData(storeName, data) {\r\n    const db = await initDb();\r\n    await db.put(storeName, data);\r\n    return data;\r\n  },\r\n\r\n  async deleteData(storeName, id) {\r\n    const db = await initDb();\r\n    await db.delete(storeName, id);\r\n    return id;\r\n  },\r\n}\r\n","import { apiForIdb } from \"./api\";\r\nimport { apiIDB } from \"./apiIDB\";\r\n\r\nexport function compose(...fns) {\r\n  return (x) => fns.reduceRight((acc, fn) => fn(acc), x);\r\n}\r\n\r\nexport function map(cb) {\r\n  return (arr) => arr.map(cb);\r\n}\r\n\r\nexport function testNeedUpdate(date) {\r\n  if (!date) return true;\r\n  let needUpdate = (Date.now() - date) / 1000 / 3600 / 24;\r\n  if (needUpdate > 1) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport async function fetchGroupsProducts() {\r\n  // Get groups\r\n  try {\r\n    let res = await apiForIdb.getGroupsEvo();\r\n    let groups = await res.items;\r\n    await apiIDB.pushItems('groups', groups);\r\n    // Get products\r\n    res = await apiForIdb.getProductsEvo();\r\n    let products = await res.items;\r\n    products = products.map(item => {\r\n      if (!item.parent_id) item.parent_id = '0';\r\n      if (!item.barcodes) item.barcodes = [];\r\n      if (!item.photos) item.photos = [];\r\n      return item;\r\n    })\r\n    await apiIDB.pushItems('products', products);\r\n    localStorage.setItem('lastUpdate', Date.now())\r\n    console.log('LS: ' + new Date(+localStorage.lastUpdate));\r\n    return true;\r\n  } catch (e) {\r\n    console.error(e.message);\r\n    return e;\r\n  }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport './Header.module.css';\r\nimport logo from '../../Assets/img/terminal-5.png';\r\nimport ProgressBar from '../common/ProgressBar/ProgressBar';\r\nimport { fetchGroupsProducts, testNeedUpdate } from '../../api/apiUtils';\r\n\r\nconst Header = (props) => {\r\n\r\n    const [isInit, setIsInit] = useState(false);\r\n    const [lastUpdate, setLastUpdate] = useState(null);\r\n    const [updated, setUpdated] = useState(false);\r\n    const [needUpdate, setNeedUpdate] = useState(false);\r\n\r\n    function clickLang(ev) {\r\n        let lng;\r\n        if (ev.target.name === 'lng') {\r\n            lng = ev.target.value;\r\n            props.chooseLang(lng);\r\n            props.getTitle(props.path);\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n    async function clickDateUpdate() {\r\n        setUpdated(true);\r\n        await fetchGroupsProducts();\r\n        props.setLastUpdate();\r\n        setUpdated(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.isInit) {\r\n            setIsInit(true)\r\n            setTimeout(() => {\r\n                setIsInit(false)\r\n                let date = new Date(+props.lastUpdate);\r\n                setLastUpdate(date.toString());\r\n            }, 2000);\r\n        }\r\n    }, [props.isInit, props.lastUpdate])\r\n\r\n    useEffect(() => {\r\n        setNeedUpdate(testNeedUpdate(props.lastUpdate));\r\n    }, [props])\r\n\r\n    let styleH5 = (needUpdate && { color: 'red' }) || { color: 'blue' };\r\n\r\n    return (\r\n        <header>\r\n            { !props.isInit && <h4>Initializing App...</h4>}\r\n            { isInit && <h4>App Is Init!</h4>}\r\n            {updated && <ProgressBar limit={20} delay={500} text='updated' />}\r\n            {!isInit && !updated && <div style={{ cursor: 'pointer' }} onClick={clickDateUpdate}>\r\n                <h5 style={styleH5}> - {lastUpdate}</h5>\r\n            </div>}\r\n            <img src={logo} alt='Logo'></img>\r\n            <h2>{props.title}</h2>\r\n            <div onClick={clickLang}>\r\n                <input name=\"lng\" type=\"radio\" value='ru' checked={!props.currentLang} onChange={(ev) => ev.target.checked = !props.currentLang} />RU\r\n                <input name=\"lng\" type=\"radio\" value='en' checked={props.currentLang} onChange={(ev) => ev.target.checked = props.currentLang} />EN\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","const SET_APP_KEY = 'SET-APP-KEY';\r\nconst SET_STORE_KEY = 'SET-STORE-KEY';\r\nconst INIT_APP = 'INIT-APP';\r\nconst SET_STORES = 'SET-STORES';\r\nconst SET_LAST_UPDATE = 'SET-LAST-UPDATE';\r\n\r\nexport const setAppKeyAC = (key) => {\r\n  return { type: SET_APP_KEY, key };\r\n};\r\n\r\nexport const setStoreKeyAC = (key) => {\r\n  return { type: SET_STORE_KEY, key };\r\n};\r\n\r\nexport const initAppAC = (init) => {\r\n  return { type: INIT_APP, init };\r\n};\r\n\r\nexport const setStoresAC = (stores) => {\r\n  return { type: SET_STORES, stores };\r\n};\r\n\r\nexport const setLastUpdateAC = (dateUpdate) => {\r\n  return { type: SET_LAST_UPDATE, dateUpdate };\r\n};\r\n\r\nconst initialState = {\r\n  appKey: null,\r\n  storeKey: null,\r\n  isInit: false,\r\n  stores: [],\r\n  lastUpdate: null,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_APP_KEY:\r\n      return { ...state, appKey: action.key };\r\n    case SET_STORE_KEY:\r\n      return { ...state, storeKey: action.key };\r\n    case INIT_APP:\r\n      return { ...state, isInit: action.init };\r\n    case SET_STORES:\r\n      return { ...state, stores: [...action.stores] };\r\n    case SET_LAST_UPDATE:\r\n      return { ...state, lastUpdate: +action.dateUpdate };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAppKey = (key) => (dispatch) => {\r\n  dispatch(setAppKeyAC(key));\r\n};\r\n\r\nexport const setStoreKey = (key) => (dispatch) => {\r\n  dispatch(setStoreKeyAC(key));\r\n};\r\n\r\nexport const toggleInitApp = (init) => (dispatch) => {\r\n  dispatch(initAppAC(init));\r\n};\r\n\r\nexport const setStores = (stores) => (dispatch) => {\r\n  dispatch(setStoresAC(stores));\r\n};\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  if (localStorage.appKey) {\r\n    dispatch(setAppKeyAC(localStorage.appKey));\r\n    if (localStorage.storeKey) {\r\n      dispatch(setStoreKeyAC(localStorage.storeKey));\r\n    }\r\n    if (localStorage.lastUpdate) {\r\n      dispatch(setLastUpdateAC(localStorage.lastUpdate));\r\n    }\r\n  }\r\n};\r\n\r\nexport const setLastUpdate = () => (dispatch, getState) => {\r\n  const dateBefore = getState().app.lastUpdate;\r\n  console.log('Date Before: ' + (new Date(dateBefore)).toString());\r\n  dispatch(setLastUpdateAC(localStorage.lastUpdate));\r\n  const dateAfter = getState().app.lastUpdate;\r\n  console.log('Date After: ' + (new Date(dateAfter)).toString());\r\n};\r\n\r\nexport default appReducer;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getTitle, chooseLang } from '../../redux/navReduser';\r\nimport { useEffect } from 'react';\r\nimport { setLastUpdate } from '../../redux/appReducer';\r\n\r\nconst HeaderContainer = props => {\r\n\r\n    let path = '/' + props.location.pathname.split('/')[1];\r\n\r\n    const getTitle = props.getTitle;\r\n    useEffect(() => {\r\n        getTitle(path);\r\n    }, [path, getTitle])\r\n\r\n    return <Header {...props} path={path} />\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n    let className;\r\n    return {\r\n        navBar: state.navigation.navBar,\r\n        title: state.navigation.title,\r\n        className,\r\n        currentLang: state.navigation.currentLang,\r\n        isInit: state.app.isInit,\r\n        lastUpdate: state.app.lastUpdate,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { getTitle, chooseLang, setLastUpdate })(withRouter(HeaderContainer));\r\n","/* Target\r\n    tree = {\r\n        id:'root',\r\n        label: 'root'\r\n        childs: [\r\n            node:{\r\n                id: 'id',\r\n                pid: 'pid',\r\n                label: 'label',\r\n                childs: [\r\n                    node: {\r\n                        id: 'id',\r\n                        pid: 'pid',\r\n                        label: 'label',\r\n                        childs: []\r\n                    },\r\n                    node: {...},\r\n                    node: {...},\r\n                    node: {...},\r\n                ]\r\n            },\r\n            node: {...},\r\n            node: {...},\r\n        ]\r\n    }\r\n*/\r\n\r\nfunction createNode(item) {\r\n  let node = {...item};\r\n  node.childs = [];\r\n  return node;\r\n}\r\n\r\nfunction addNode(subNode, parentNode) {\r\n  let pNode = findNode(subNode.pid, parentNode);\r\n  try {\r\n    if (pNode === undefined) return subNode;\r\n    pNode.childs.push(subNode);\r\n    pNode.childs.sort((a, b) => {\r\n      if (a.label > b.label) return 1;\r\n      if (a.label < b.label) return -1;\r\n      return 0;\r\n    });\r\n    return false;\r\n  } catch (e) {\r\n    console.error(e.message);\r\n  }\r\n}\r\n\r\nfunction findNode(pid, pNode) {\r\n  if (pid === null) pid = 0;\r\n  let result = pNode.childs.find(item => item.id === pid);\r\n\r\n  if (result === undefined) {\r\n    for (let node of pNode.childs) {\r\n      result = findNode(pid, node);\r\n      if (result) break;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction createTree(data, root) {\r\n  let notFoundNodes = [];\r\n  data.forEach(item => {\r\n    let node = createNode(item);\r\n    let notFoundNode = addNode(node, root);\r\n    if (notFoundNode) {\r\n      notFoundNodes.push(notFoundNode);\r\n    }\r\n  });\r\n  if (notFoundNodes.length) {\r\n    createTree(notFoundNodes, root);\r\n  }\r\n  notFoundNodes = [];\r\n  return root;\r\n}\r\nexport default createTree;\r\n","import React from \"react\";\r\n\r\nconst Node = props => {\r\n  let ul;\r\n  const [closed, open] = props.hidden ? [\"fas fa-folder\", \"closed\"] : [\"fas fa-folder-open\", \"open\"];\r\n  if (props.children.length) {\r\n    ul = <ul hidden={props.hidden}>{props.children}</ul>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <li id={props.id} className={open}>\r\n        <i className={closed}></i>\r\n        <span >\r\n          {props.label}\r\n        </span>\r\n        {ul}\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Node;\r\n","import React from \"react\";\r\nimport s from \"./Tree.module.css\";\r\nimport createTree from \"./treeFunction\";\r\nimport Node from \"./Node\";\r\n\r\nconst Tree = props => {\r\n  let nodeRoot = { id: 0, label: props.price, childs: [] };\r\n  let tree = { id: \"Tree\", label: props.treeLabel, childs: [nodeRoot] };\r\n  createTree(props.data, tree);\r\n\r\n  function handleClick(e) {\r\n    if (e.target.tagName !== \"SPAN\" && e.target.tagName !== \"I\" && e.target.tagName !== \"LI\") return;\r\n    // ***SPAN toggle selected\r\n    document\r\n      .getElementById(\"Tree\")\r\n      .querySelectorAll(\"span\")\r\n      .forEach(item => {\r\n        if (item.className === s.selected) item.className = null;\r\n      });\r\n    let elem;\r\n    if (e.target.tagName === \"SPAN\") {\r\n      e.target.className = s.selected;\r\n      elem = e.target.closest(\"li\");\r\n    } else if (e.target.tagName === \"LI\") {\r\n      e.target.querySelector('span').className = s.selected;\r\n      elem = e.target;\r\n    } else {\r\n      e.target.nextSibling.className = s.selected;\r\n      elem = e.target.closest(\"li\");\r\n    }\r\n    // SPAN***\r\n    if (!elem) return;\r\n    if (elem.id !== \"0\") {\r\n      let target = elem.querySelector(\"ul\");\r\n      if (target) {\r\n        target.hidden = !target.hidden;\r\n        if (target.hidden) {\r\n          elem.className = \"closed\";\r\n          elem.firstElementChild.className = \"fas fa-folder\";\r\n        } else {\r\n          elem.className = \"open\";\r\n          elem.firstElementChild.className = \"fas fa-folder-open\";\r\n        }\r\n      }\r\n    }\r\n\r\n    if (props.callback) {\r\n      props.callback(elem.id);\r\n    }\r\n\r\n  }\r\n\r\n  function createSubTree(item, lvl = 0) {\r\n    let hidden;\r\n    lvl += 1;\r\n    let children = [];\r\n    if (item.childs?.length) {\r\n      children = item.childs.map(elem => {\r\n        return createSubTree(elem, lvl);\r\n      });\r\n    }\r\n    hidden = lvl > 1 ? \"hidden\" : null;\r\n    return (\r\n      <Node\r\n        id={item.id}\r\n        key={item.id}\r\n        label={item.label}\r\n        children={children}\r\n        hidden={hidden}\r\n      />\r\n    );\r\n  }\r\n\r\n  let treeElements = createSubTree(nodeRoot);\r\n\r\n  return (\r\n    <div id={tree.id} className={s.tree} onClick={/* (e) => props.handleClick(e) */ handleClick}>\r\n      <h3>{tree.label}</h3>\r\n      <ul>{treeElements}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tree;\r\n","export default __webpack_public_path__ + \"static/media/placeholder.e2f04097.svg\";","import React from \"react\";\r\nimport spiner from \"../../../Assets/img/placeholder.svg\";\r\n\r\nlet Preloader = (props) => {\r\n  return (\r\n    <div>\r\n      <img src={spiner} alt=\"\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport s from '../Commodity.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\n\r\nconst ListCommodities = props => {\r\n    let liElements;\r\n    let commodities = props.commodities;\r\n\r\n    async function liClick(e) {\r\n        let id;\r\n        if (e.target.tagName === 'SPAN') {\r\n            let elem = e.target.closest('li')\r\n\r\n            if (window.confirm(`${elem.innerText}\\n\\rYou'r realy wanted delete this product?`)) {\r\n                let res = await props.deleteProduct(elem.id, props.pid);\r\n                alert(`Product id: ${res}\\n\\rDELETED!`)\r\n            } else {\r\n                alert('NOT DELETED!');\r\n            }\r\n            return;\r\n        } else {\r\n            id = e.target.id;\r\n        }\r\n        // console.log(e.target);\r\n        props.getProductId(id);\r\n    }\r\n\r\n    if (props.error) {\r\n        return props.error.message;\r\n    } else if (!props.comIsLoaded) {\r\n        return <Preloader />\r\n    } else {\r\n        liElements = commodities.sort(item => item.name).map(item => {\r\n            return (\r\n                <li id={item.uuid} key={item.uuid} className={s.clickable}\r\n                    onClick={liClick} data-price={item.price} data-code={item.code}>\r\n                    {item.label} | {item.price ? item.price.toFixed(2) : '0.00'}\r\n                    <span className={s.del}></span>\r\n                </li>\r\n            )\r\n        })\r\n\r\n        return (\r\n            <>\r\n                <ul>\r\n                    {liElements}\r\n                </ul>\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default ListCommodities;\r\n","import React, { useLayoutEffect } from \"react\";\r\nimport s from './FormModalWrapper.module.css';\r\n\r\nconst FormModalWrapper = props => {\r\n\r\n  const showForm = () => {\r\n    document.body.style.overflow = 'hidden';\r\n    setTimeout(() => document.getElementById(s['container']).style.top = 0, 0);\r\n  }\r\n\r\n  useLayoutEffect(showForm, []);\r\n\r\n  return (\r\n    <>\r\n      <div id={s['cover-div']}></div>\r\n      <div className={s.container} id={s['container']}>\r\n        {props.form}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default FormModalWrapper;\r\n","export const setNewCode = async () => {\r\n  let maxCode = Math.floor(Math.random() * 1e5);//await productsApi.getData('products', { max: 'code' });\r\n  let newCode = maxCode + 1;\r\n  return newCode;\r\n};\r\n\r\nexport function newBarcode(code, prefix = '0000') {\r\n  // if (!prefix) prefix = '0000';\r\n  let A1 =\r\n    '20'.concat(prefix) +\r\n    '0'.repeat(6 - code.toString().length) +\r\n    code.toString();\r\n  let A2 = 0;\r\n  A1.split('').forEach((item, i) => {\r\n    if (i % 2 !== 0) {\r\n      A2 += Number(item) * 3;\r\n    } else {\r\n      A2 += Number(item);\r\n    }\r\n  });\r\n  A2 = (10 - (A2 % 10)) % 10;\r\n  return A1.concat(A2);\r\n}\r\n\r\nexport function viewBarcode(barcode) {\r\n  let f1 = 65;\r\n  let f2 = 75;\r\n  let s = [\r\n    [f1, f1, f1, f1, f1, f1],\r\n    [f1, f1, f2, f1, f2, f2],\r\n    [f1, f1, f2, f2, f1, f2],\r\n    [f1, f1, f2, f2, f2, f1],\r\n    [f1, f2, f1, f1, f2, f2],\r\n    [f1, f2, f2, f1, f1, f2],\r\n    [f1, f2, f2, f2, f1, f1],\r\n    [f1, f2, f1, f2, f1, f2],\r\n    [f1, f2, f1, f2, f2, f1],\r\n    [f1, f2, f2, f1, f2, f1],\r\n  ];\r\n\r\n  let bcStr = barcode.split('')[0];\r\n  let n = Number(bcStr);\r\n\r\n  for (let i = 1; i <= 6; i++) {\r\n    bcStr += String.fromCharCode(Number(barcode.substr(i, 1)) + s[n][i - 1]);\r\n  }\r\n  bcStr += String.fromCharCode(42);\r\n  for (let i = 7; i <= 12; i++) {\r\n    bcStr += String.fromCharCode(Number(barcode.substr(i, 1)) + 97);\r\n  }\r\n\r\n  bcStr += String.fromCharCode(43);\r\n  return bcStr;\r\n}\r\n\r\nexport function validateBarcode(barcode) {\r\n  if (![7, 8, 12, 13].includes(barcode.length)) {\r\n    return `Not valid Length barcode: ${barcode.length}`;\r\n  }\r\n  let res = 0;\r\n  barcode.split('').forEach((item, i) => {\r\n    if (i % 2 !== 0) {\r\n      res += Number(item) * 3;\r\n      res = res % 10;\r\n    } else {\r\n      res += Number(item);\r\n      res = res % 10;\r\n    }\r\n  });\r\n  if (res !== 0) {\r\n    let message = '';\r\n    if (barcode.length === 13 || barcode.length === 8) {\r\n      let errDig = barcode.slice(-1);\r\n      message += 'Not valid control digit: ' + errDig + '\\r\\n';\r\n      message += validateBarcode(barcode.slice(0, -1));\r\n    } else if (barcode.length === 12 || barcode.length === 7) {\r\n      let newRes = 10 - res;\r\n      message += 'Need add control digit: ' + newRes;\r\n    } else {\r\n      message += 'Not valid Length barcode: ' + barcode.length;\r\n    }\r\n    return message;\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function validateZeroData(curr, prev) {\r\n  for (let key in curr) {\r\n    /* let arrNotChanged = false;\r\n    if (Array.isArray(curr[key])) {\r\n      let compare = arrCompare(curr[key], prev[key]);\r\n      arrNotChanged = !compare.resArrMinus.length && !compare.resArrPlus.length;\r\n    } */\r\n\r\n    let isNotData =\r\n      curr[key] === null ||\r\n      curr[key] === undefined\r\n      // (curr.isNewData && !curr[key]);\r\n\r\n    // let isNotChanged = !curr.isNewData && curr[key] === prev[key];\r\n\r\n    if (/* arrNotChanged || */ isNotData /* || isNotChanged */) {\r\n        delete curr[key];\r\n    }\r\n  }\r\n}\r\n\r\nexport function validateRequiredData(body) {\r\n  const reqData = [\r\n    'type',\r\n    'name',\r\n    'price',\r\n    'measure_name',\r\n    'tax',\r\n    'allow_to_sell'\r\n  ]\r\n\r\n  let missData = [];\r\n\r\n  Object.keys(body).forEach(key => {\r\n    if (!body[key] && reqData.includes(key)) {\r\n      missData.push(key);\r\n    }\r\n  })\r\n\r\n  return missData;\r\n}\r\n\r\nexport function arrCompare(arr1 = [], arr2 = []) {\r\n  let resArrPlus = [];\r\n  arr2.forEach((item) => {\r\n    if (!arr1.includes(item)) {\r\n      resArrPlus.push(item);\r\n    }\r\n  });\r\n  let resArrMinus = [];\r\n  arr1.forEach((item) => {\r\n    if (!arr2.includes(item)) {\r\n      resArrMinus.push(item);\r\n    }\r\n  });\r\n  return { resArrPlus, resArrMinus };\r\n}\r\n","import React from 'react';\r\nimport schema from './products.json';\r\nimport { viewBarcode } from '../frmUtilites';\r\nimport Tree from '../../../common/Tree/Tree';\r\n\r\nexport const ComponentsProducts = {\r\n    MeasureNames: props => {\r\n        return (\r\n            <label>\r\n                Measure Name\r\n                <select name=\"measure_name\"\r\n                    id={props.id}\r\n                    value={props.measure_name}\r\n                    onChange={props.handleChange}\r\n                    disabled={props.disabled}>\r\n                    {\r\n                        schema.measure_names.map((m, i) => {\r\n                            return <option key={i} value={m}>{m}</option>\r\n                        })\r\n                    }\r\n                </select>\r\n            </label>\r\n        )\r\n    },\r\n    Types: props => {\r\n        return (\r\n            <label>\r\n                Type\r\n                <select name=\"type\"\r\n                    id={props.id}\r\n                    value={props.type}\r\n                    onChange={props.handleChange}\r\n                    disabled={props.disabled}>\r\n                    {\r\n                        schema.types.map((t, i) => {\r\n                            return <option key={i} value={t.type}>{t.description}</option>\r\n                        })\r\n                    }\r\n                </select>\r\n            </label>\r\n        )\r\n    },\r\n    Taxes: props => {\r\n        return (\r\n            <label>\r\n                Tax\r\n                <select name=\"tax\"\r\n                    id={props.id}\r\n                    value={props.tax}\r\n                    onChange={props.handleChange}\r\n                    disabled={props.disabled}>\r\n                    {\r\n                        schema.taxes.map((t, i) => {\r\n                            return <option key={i} value={t.tax}>{t.description}</option>\r\n                        })\r\n                    }\r\n                </select>\r\n            </label>\r\n        )\r\n    },\r\n    Groups: props => {\r\n        let groups = props.groups.sort((a, b) => {\r\n            if (a.label > b.label) return 1;\r\n            if (a.label < b.label) return -1;\r\n            return 0;\r\n        })\r\n        return (\r\n            <label>\r\n                Group:\r\n                <select name=\"parent_id\" id={props.id}\r\n                    value={props.parent_id} onChange={props.handleChange} disabled={props.disabled}>\r\n                    <option key='0' value='0'>Root</option>\r\n                    {groups.map(g => {\r\n                        return <option key={g.id} value={g.id}>{g.label}</option>\r\n                    })}\r\n                </select>\r\n            </label>\r\n        )\r\n    },\r\n    GroupsTree: props => {\r\n        // gProps = { groups: props.groups, disabled, handleChange, parent_id: state.parent_id, id: s.group }\r\n        let groups = props.groups;\r\n        let g = groups.find(item => item.id === props.parent_id);\r\n        let gLabel = g ? g.label : 'Root';\r\n        let onDivClick = props.disabled ? null : props.onClick;\r\n\r\n\r\n\r\n        return (\r\n            <>\r\n                {props.treeView &&\r\n                    <div className={props.classTree} onClick={props.closeTree}>\r\n                        <Tree data={props.groups} price=\"Price\" treeLabel=\"Groups\" callback={props.callbackTree} />\r\n                        <i className='fas fa-angle-down'></i>\r\n                    </div>\r\n                }\r\n                <div className={props.classDiv} onClick={onDivClick} tabIndex={-1} onBlur={props.onBlurGroup}>\r\n                    <div name='parent_id'>\r\n                        {gLabel}\r\n                        <i className='fa fa-angle-down'></i>\r\n                    </div>\r\n                </div >\r\n            </>\r\n        )\r\n    },\r\n    Barcodes: props => {\r\n\r\n        const delBcClick = ev => {\r\n            if (!props.allow_edit) return;\r\n            let elem;\r\n            if (ev.target.tagName === 'SPAN') {\r\n                elem = ev.target.closest('li');\r\n            }\r\n            if (!elem) return;\r\n            props.deleteFromArray(elem.id, 'barcodes');\r\n        }\r\n\r\n        return (\r\n            <fieldset name='img_barcodes'>\r\n                <legend>Barcodes</legend>\r\n                <div className={props.view_barcode}>\r\n                    <ul>\r\n                        {props.barcodes.map(b => {\r\n                            return (\r\n                                <li key={b} id={b} onClick={delBcClick}>{viewBarcode(b)}\r\n                                    <span className={props.delBc}></span>\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                    <input name='barcodes' type=\"text\" defaultValue={props.bc}\r\n                        onChange={props.handleChange} onBlur={props.handleBlur} disabled={props.disabled} />\r\n                    <span className={props.addBc}></span>\r\n                </div>\r\n            </fieldset >\r\n        )\r\n    },\r\n    Picture: props => {\r\n        return (\r\n            <div className={props.divPicture} onClick={props.pictureClick}>\r\n                <img id={props.photo.name} className={props.className}\r\n                    src={URL.createObjectURL(props.photo)}\r\n                    alt=\"no\" tabIndex='-1'\r\n                />\r\n                <span></span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport s from './TextArea.module.css';\r\n\r\nfunction TextArea(props) {\r\n\r\n  let placeholder;\r\n  let className;\r\n  if (props.placeholder) {\r\n    placeholder = props.placeholder;\r\n    className = s.wrong;\r\n  } else {\r\n    placeholder = \"add new ...\";\r\n    className = \"\";\r\n  }\r\n\r\n    return (\r\n        <textarea\r\n          name={props.name}\r\n          onChange={props.onChange}\r\n          onBlur={props.onBlur}\r\n          onKeyDown={props.onKeyDown}\r\n          ref={props.refrence}\r\n          wrap={\"hard\"}\r\n          value={props.value}\r\n          placeholder={placeholder}\r\n          className={className}\r\n          disabled={props.disabled}\r\n          autoFocus\r\n        />\r\n    );\r\n}\r\nexport default TextArea;\r\n","import React from \"react\";\r\nimport s from './Form.module.css';\r\n\r\nconst FormImg = ({photo}) => {\r\n\r\n  return (\r\n    <>\r\n      <img className={s['big-img']}\r\n        src={photo}\r\n        alt=\"no\" tabIndex='-1'\r\n        style={{display: 'inline-block', height: '60vh',\r\n               position: 'fixed', top: '10vh', left: '30vw',\r\n               verticalAlign: 'middle'}}\r\n      /><span></span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FormImg;\r\n","import React, { useEffect } from 'react';\r\nimport s from './Form.module.css';\r\nimport { useState } from \"react\";\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport { ComponentsProducts } from './schemas/ComponentsProducts';\r\nimport TextArea from '../../common/TextArea/TextArea';\r\nimport { setNewCode, newBarcode, validateBarcode, validateZeroData, validateRequiredData } from './frmUtilites';\r\nimport FormImg from './FormImg';\r\nimport FormModalWrapper from './FormModalWrapper';\r\nimport noPhoto from '../../../Assets/img/terminal-5.png';\r\n\r\nconst FormProduct = props => {\r\n\r\n  let parentId = props.pid; /* props.formData.parent_id === null ? '0' : props.formData.parent_id; */\r\n  let isNewData = !props.formData.id;\r\n  const fileInput = React.createRef();\r\n  const [state, setState] = useState({\r\n    ...props.formData,\r\n    allow_edit: isNewData,\r\n    parent_id: parentId,\r\n    photos: [...props.formData.photos],\r\n    barcodes: [...props.formData.barcodes],\r\n    isNewData,\r\n    bigImg: null,\r\n    currentBarcode: '',\r\n    // treeView: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (state.photos.length) {\r\n        state.photos.forEach(item => URL.revokeObjectURL(item))\r\n      }\r\n    }\r\n  })\r\n\r\n\r\n  if (!state.code) {\r\n    setNewCode().then(code => setState({ ...state, code }));\r\n  }\r\n\r\n  if (props.formError) {\r\n    let err = props.formError;\r\n    alert(err.message);\r\n    props.setFormError(null);\r\n  }\r\n\r\n  const disabled = !isNewData && !state.allow_edit;\r\n\r\n  const formChanged = () => {\r\n    let changes = [];\r\n    for (let key in props.formData) {\r\n      if (key === 'photos' || key === 'barcodes') {\r\n\r\n        if (state[key].length !== props.formData[key].length)\r\n          changes.push({ [key]: state[key] });\r\n      } else {\r\n        if (state[key] !== props.formData[key]) {\r\n          changes.push({ [key]: state[key] });\r\n        }\r\n      }\r\n    }\r\n    if (changes.length === 1 && changes[0].code) changes = [];\r\n    return changes.length;\r\n  }\r\n\r\n  const formatPrice = price => {\r\n    return isFinite(price) ? Number(price).toFixed(2) : '0.00';\r\n  }\r\n\r\n  const handleChange = (ev) => {\r\n\r\n    let elem = ev.target;\r\n    let name = elem.name;\r\n    let value = elem.value;\r\n\r\n    elem.classList.remove(s.required);\r\n\r\n    if (name === 'barcodes') {\r\n      if (state.barcodes.includes(value)) {\r\n        alert(`Barcode ${value} is exist in this product!`);\r\n        return;\r\n      }\r\n      setState({ ...state, currentBarcode: value });\r\n      return;\r\n    } else if (name === 'picture') {\r\n      let photos = state.photos;\r\n      Array.from(fileInput.current.files).forEach(item => {\r\n        photos.push(item);\r\n      })\r\n      setState({ ...state, photos });\r\n      return;\r\n    } else if (name === 'allow_edit') {\r\n      let form = document.getElementById(s['form-product']);\r\n      Object.values(form.elements).forEach(item => {\r\n        if (item.disabled && item.id !== s.uuid) item.removeAttribute('disabled');\r\n      })\r\n      setState({ ...state, allow_edit: true });\r\n      form.allow_edit.parentNode.remove();\r\n    } else {\r\n      setState({ ...state, [name]: value });\r\n    }\r\n  }\r\n\r\n  const handleBlur = ev => {\r\n    let name = ev.target.name || ev.currentTarget.name;\r\n    let value = ev.target.value || ev.currentTarget.value;\r\n\r\n    if (name === 'barcodes') {\r\n      let newValue;\r\n      if (!value) {\r\n        let prefix = window.prompt(` !\\r\\n\r\n            4  .\\r\\n\r\n            -> '0000'`, '7321');\r\n        // if (!prefix || !isFinite(prefix)) prefix = '0000';\r\n        newValue = newBarcode(state.code, prefix);\r\n        if (state.barcodes.includes(newValue)) {\r\n          console.warn(`Barcode ${newValue} is Exist!`)\r\n          return;\r\n        }\r\n\r\n      }\r\n      let valBc = validateBarcode(value || newValue);\r\n      if (valBc !== 0) {\r\n        window.alert(valBc);\r\n        return;\r\n      }\r\n      let barcodes = [...state.barcodes, state.currentBarcode || newValue];\r\n      setState({ ...state, barcodes });\r\n      ev.target.value = '';\r\n      return;\r\n    }\r\n\r\n    if (name === 'price' || name === 'cost_price') {\r\n      value = isFinite(value) ? Number(value) : 0;\r\n    }\r\n    setState({ ...state, [name]: value });\r\n    ev.target.value = formatPrice(value);\r\n  }\r\n\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    ev.stopPropagation();\r\n    if (state.allow_edit && formChanged() && window.confirm('Save changes')) {\r\n      // if (state.photos.length) setFormPhotos([...state.photos]);\r\n      let body = { ...state };\r\n      if (body.parent_id === '0' || body.parent_id === 0) {\r\n        delete body.parent_id;\r\n      }\r\n      delete body.createdAt;\r\n      delete body.updatedAt;\r\n      delete body.allow_edit;\r\n      delete body.bigImg;\r\n      delete body.currentBarcode;\r\n      delete body.treeView;\r\n\r\n      let missData = validateRequiredData(body);\r\n      if (missData.length) {\r\n        let strMessage = '';\r\n        missData.forEach(item => {\r\n          strMessage += ` ${item},`;\r\n          document.getElementsByName(item).forEach(elem => {\r\n            elem.classList.add(s.required);\r\n          })\r\n        });\r\n        strMessage.slice(-1);\r\n        alert(`  :\\n\\r${strMessage}!`);\r\n        return;\r\n      }\r\n\r\n      validateZeroData(body, props.formData);\r\n      if (!state.isNewData) body.id = state.id;\r\n      delete body.isNewData;\r\n\r\n      // alert(JSON.stringify(body, null, 2));\r\n\r\n      let i = 0;\r\n      Object.keys(body).forEach(item => i++);\r\n      if (i <= 1) {\r\n        alert('  !');\r\n        return;\r\n      }\r\n      let typeQuery = !state.isNewData ? 'put' : 'post';\r\n      props.postFormData('product', typeQuery, body);\r\n      props.toggleFormPost(true);\r\n    } else {\r\n      props.setFormData();\r\n      props.setViewForm(false);\r\n    }\r\n    document.body.style.overflow = 'auto';\r\n  }\r\n\r\n  const canselClick = (ev) => {\r\n    props.setViewForm(false);\r\n    props.setFormData(null);\r\n    document.body.style.overflow = 'auto';\r\n  }\r\n\r\n  const pictureClick = ev => {\r\n    let p = ev.target;\r\n    if (p.tagName === 'SPAN') {\r\n      if (!state.allow_edit) return;\r\n      let prevElem = p.previousElementSibling;\r\n      deleteFromArray(prevElem.id, 'photos');\r\n      return;\r\n    }\r\n    p.addEventListener('blur', () => {\r\n      setState({ ...state, bigImg: null })\r\n      p.removeEventListener('blur', this);\r\n    })\r\n    setState({ ...state, bigImg: p.src })\r\n  }\r\n\r\n  const onPicInputClick = ev => {\r\n    ev.preventDefault();\r\n    let picInput = document.getElementById('picInput');\r\n    picInput.click();\r\n  }\r\n\r\n  const deleteFromArray = (elemId, arrName) => {\r\n    let i = state[arrName].findIndex(item => item === elemId);\r\n    let arr = state[arrName];\r\n    arr.splice(i, 1);\r\n    setState({ ...state, [arrName]: arr });\r\n  }\r\n\r\n  const [pId, setPid] = useState(parentId);\r\n\r\n  const [treeView, setTreeView] = useState(false);\r\n\r\n  const callbackTree = (eId) => {\r\n    let parent_id = eId ? eId : 0;\r\n    setPid(parent_id);\r\n  }\r\n\r\n  const clickGroups = () => {\r\n    setTreeView(!treeView);\r\n  }\r\n\r\n  const onBlurGroup = () => {\r\n    setState({ ...state, parent_id: pId });\r\n  }\r\n\r\n  const closeTree = e => {\r\n    if (e.target.tagName !== 'I') return;\r\n    setState({ ...state, parent_id: pId });\r\n    setTreeView(false);\r\n  }\r\n\r\n  const gProps = {\r\n    groups: props.groups, disabled, parent_id: pId, onClick: clickGroups, onBlurGroup,\r\n    treeView, classDiv: s['g-tree'], classTree: s.tree, callbackTree, closeTree\r\n  };\r\n\r\n  const mnProps = { disabled, handleChange, id: s.measure_name, measure_name: state.measure_name };\r\n  const tProps = { disabled, handleChange, id: s.type, type: state.type };\r\n  const taxProps = { disabled, handleChange, id: s.tax, tax: state.tax };\r\n\r\n  const bProps = {\r\n    barcodes: state.barcodes, bc: state.currentBarcode, addBc: s['add-bc'], delBc: s['del-bc'],\r\n    handleChange, handleBlur, deleteFromArray, allow_edit: state.allow_edit, disabled,\r\n    view_barcode: s['view-barcode']\r\n  };\r\n\r\n  const pProps = { id: s.picture, className: s['picture-small'], divPicture: s['div-picture'], pictureClick };\r\n\r\n  if (props.formPost) {\r\n    return <Preloader />\r\n  } else {\r\n    return (\r\n      <>\r\n        {state.bigImg &&\r\n          <FormModalWrapper\r\n            form={<FormImg photo={state.bigImg} />}\r\n          />}\r\n        <form id={s['form-product']} onSubmit={handleSubmit} >\r\n          <div className={s['menu-buttons']}><span className='fa fa-window-close' onClick={handleSubmit}></span></div>\r\n          <fieldset name='Product'>\r\n            <legend>Product Info</legend>\r\n            <div>\r\n              <b>ID: </b><input id={s.uuid} value={state.id || ''} disabled={!isNewData} onChange={handleChange} />\r\n              {\r\n                state.isNewData ? null :\r\n                  <label>\r\n                    Allow Edit:\r\n            <input type='checkbox' id={s['allow-edit']} name={'allow_edit'} checked={state.allow_edit} onChange={handleChange} />\r\n                  </label>\r\n              }\r\n            </div>\r\n            <div>\r\n              {\r\n                !state.photos?.length ?\r\n                  // <ComponentsProducts.Picture {...pProps} photo='image3D.png' /> :\r\n                  <div><img src={noPhoto} alt=\"NoPhotos\" className={s['picture-small']} /></div> :\r\n                  state.photos.map(ph => {\r\n                    return <ComponentsProducts.Picture {...pProps} photo={ph} key={ph.name} />\r\n                  })\r\n              }\r\n            </div>\r\n            {\r\n              state.photo || !state.allow_edit ? null :\r\n                <>\r\n                  <input type=\"file\" name=\"picture\" id='picInput' multiple={true}\r\n                    onChange={handleChange} ref={fileInput} style={{ display: 'none' }} />\r\n                  <label htmlFor=\"picture\" onClick={onPicInputClick}>Input Image</label>\r\n                </>\r\n            }\r\n            <ComponentsProducts.Barcodes {...bProps} />\r\n            <div className={s.code_article}>\r\n              <label>Code:</label>\r\n              <input type=\"text\" name=\"code\" value={state.code} onChange={handleChange} disabled={disabled} />\r\n              <label>Aticle:</label>\r\n              <input type=\"text\" name='article_number' value={state.article_number || ''}\r\n                onChange={handleChange} disabled={disabled} />\r\n            </div>\r\n            <div className={s.propertyes}>\r\n              <ComponentsProducts.MeasureNames {...mnProps} />\r\n              <ComponentsProducts.Types {...tProps} />\r\n              <ComponentsProducts.Taxes {...taxProps} />\r\n            </div>\r\n            <ComponentsProducts.GroupsTree {...gProps} />\r\n            <label>\r\n              Name:\r\n              <TextArea name=\"name\" value={state.name} placeholder='Input name ...' onChange={handleChange} disabled={disabled} />\r\n            </label>\r\n            <label>Description:\r\n              <input type=\"text\" name=\"description\" value={state.description || ''} onChange={handleChange} disabled={disabled} />\r\n            </label>\r\n            <div className={s.prices}>\r\n              <label htmlFor='price'>Price:</label>\r\n              <input name=\"price\" defaultValue={formatPrice(state.price)} className={s.price}\r\n                onBlur={handleBlur} onChange={handleChange} disabled={disabled} /><span></span>\r\n              <label htmlFor='cost_price'>Cost Price:</label>\r\n              <input name=\"cost_price\" defaultValue={formatPrice(state.cost_price)} className={s.price}\r\n                onBlur={handleBlur} disabled={disabled} /><span></span>\r\n              <label>Allow to sell:</label>\r\n              <input type=\"checkbox\" name=\"allow_to_sell\" defaultChecked={state.allow_to_sell} disabled={disabled} />\r\n            </div>\r\n          </fieldset>\r\n          <div className={s.buttons}>\r\n            <input type=\"submit\" value=\"Ready\" />\r\n            <button id={s.cansel} onClick={canselClick}>Cansel</button>\r\n          </div>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default FormProduct;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport s from \"./Commodity.module.css\";\r\nimport Tree from \"../common/Tree/Tree\";\r\nimport ListCommodities from \"./ListCommodities/ListCommodities\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport FormModalWrapper from \"./Forms/FormModalWrapper\";\r\nimport FormProduct from \"./Forms/FormProduct\";\r\nimport { apiIDB } from \"../../api/apiIDB\";\r\n\r\nfunction toggleHidden(pid) {\r\n  let tree = document.getElementById('Tree');\r\n  tree.querySelectorAll('span').forEach(item => {\r\n    item.className = '';\r\n  })\r\n  let li = document.getElementById(pid);\r\n  li.querySelector('span').className = s.selected;\r\n  if (pid === '0') return;\r\n\r\n  let ul = li.closest('ul');\r\n  if (ul.hidden) {\r\n    ul.hidden = !ul.hidden;\r\n  }\r\n  let currentLi = ul.closest('li');\r\n  while (currentLi.id !== '0') {\r\n    currentLi.classList = 'open';\r\n    currentLi.closest('ul').hidden = false;\r\n    currentLi = currentLi.closest('ul').closest('li');\r\n  }\r\n}\r\n\r\nconst Commodity = props => {\r\n\r\n  if (!props.isInit) {\r\n    props.history.push('/settings');\r\n  }\r\n\r\n  const [groupName, setGroupName] = useState('Commodities');\r\n\r\n  useEffect(() => {\r\n    if (props.groups.length) {\r\n      toggleHidden(props.pid);\r\n      if (props.pid !== '0') {\r\n        const group = props.groups.find(item => item.id === props.pid);\r\n        var gName = group.label;\r\n      } else {\r\n        gName = 'Commodities';\r\n      }\r\n      setGroupName(gName);\r\n    }\r\n  }, [props.groups, props.pid]);\r\n\r\n  if (!props.isLoaded && props.isInit) {\r\n    props.setPid('0');\r\n    props.getGroups();\r\n  }\r\n  if (!props.comIsLoaded && props.isInit) {\r\n    props.getProducts(props.pid);\r\n  }\r\n\r\n  if (props.error) {\r\n    alert(`${props.error.name}\\n\\r${props.error.message}`);\r\n    props.setError(null);\r\n  }\r\n\r\n  function newData() {\r\n    props.getProductId();\r\n  }\r\n\r\n  function changePid(eId) {\r\n    if (props.pid === eId) return;\r\n    props.setPid(eId);\r\n  }\r\n\r\n  async function searchProducts(e) {\r\n    setGroupName(' ');\r\n    let name = new RegExp(e.target.value, 'gi');\r\n    let products = (await apiIDB.getProduct()).filter(item => item.name.match(name));\r\n    props.setCommodities(products);\r\n  }\r\n\r\n  function clearSearch(e) {\r\n    if (e.target.tagName !== 'I') return;\r\n    e.target.closest('div').querySelector('input').value = '';\r\n    props.getProducts(props.pid);\r\n    if (props.pid !== '0') {\r\n      var gName = props.groups.find(item => item.id === props.pid).label;\r\n    } else {\r\n      gName = 'Commodities';\r\n    }\r\n    setGroupName(gName);\r\n  }\r\n\r\n  if (props.error) {\r\n    return <div>...{props.error.message}</div>;\r\n  } else if (!props.isLoaded) {\r\n    return <Preloader />\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className={s.head}>\r\n          <div className={s.buttons}>\r\n            <button onClick={newData}>+</button>\r\n          </div>\r\n          <div className={s.search} onClick={clearSearch}>\r\n            <label>\r\n               \r\n              <input type=\"text\" onChange={searchProducts} />\r\n              <i className='fa fa-times'></i>\r\n            </label>\r\n          </div>\r\n        </div>\r\n        {props.viewForm ?\r\n          // <FormProductFormik />\r\n          <FormModalWrapper\r\n            form={\r\n              <FormProduct\r\n                groups={props.groups}\r\n                formData={props.formData}\r\n                formPost={props.formPost}\r\n                formError={props.formError}\r\n                setViewForm={props.setViewForm}\r\n                setFormData={props.setFormData}\r\n                toggleFormPost={props.toggleFormPost}\r\n                postFormData={props.postFormData}\r\n                setFormError={props.setFormError}\r\n                pid={props.pid}\r\n              />\r\n            }\r\n          />\r\n          : null}\r\n        <div className={s.container}>\r\n          <Tree\r\n            data={props.groups}\r\n            price=\"Price\"\r\n            treeLabel=\"Groups\"\r\n            callback={changePid}\r\n            pId={props.pid}\r\n          />\r\n          <div className={s.list}>\r\n            <h3>{groupName}</h3>\r\n            <ListCommodities\r\n              commodities={props.commodities}\r\n              comIsLoaded={props.comIsLoaded}\r\n              error={props.error}\r\n              getProductId={props.getProductId}\r\n              deleteProduct={props.deleteProduct}\r\n              pid={props.pid}\r\n            />\r\n          </div>\r\n\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Commodity;\r\n","export class SequelizeError extends Error {};\r\n\r\nexport class SequelizeValidationError extends SequelizeError {\r\n  constructor(errors = []) {\r\n    super(`  :\\n\\r ${errors[0].message}`);\r\n    this.name = 'SequelizeValidationError';\r\n    this.errors = errors;\r\n  }\r\n}\r\nexport class SequelizeUniqueConstraintError extends SequelizeError {\r\n  constructor(errors = []) {\r\n    super(\r\n      `  :\r\n        ${errors[0].path}: ${errors[0].value}\r\n              PUT`,\r\n    );\r\n    this.name = 'SequelizeUniqueConstraintError';\r\n    this.errors = errors;\r\n  }\r\n}\r\n","export class EvoError extends Error {}\r\n\r\nexport class EvoValidationError extends EvoError {\r\n  constructor(err) {\r\n    let message = err.message;\r\n    err.errors.forEach((item) => {\r\n      message += `\\n${item.subject.toUpperCase()} -> ${item.reason}`;\r\n    });\r\n    super(`   !\\n${message}`);\r\n    this.name = 'EvoValidationError';\r\n    this.errors = err.errors;\r\n  }\r\n}\r\n","import { SequelizeValidationError, SequelizeUniqueConstraintError } from \"./SequelizeErrors\";\r\nimport { /* EvoError, */ EvoValidationError } from \"./EvoErrors\";\r\n\r\nexport const chooseError = (err) => {\r\n    let res = err.response;\r\n    if (res.data.name === 'SequelizeValidationError') {\r\n      return new SequelizeValidationError(res.data.errors);\r\n    } else if (res.data.name === 'SequelizeUniqueConstraintError') {\r\n      return new SequelizeUniqueConstraintError(res.data.errors);\r\n    } else if (res.data.name === 'validation_failed') {\r\n      return new EvoValidationError({ message: res.data.message, errors: res.data.errors});\r\n    } else {\r\n        return new Error(res.data.message);\r\n    }\r\n};\r\n","import { apiForIdb } from '../api/api';\r\nimport { apiIDB } from '../api/apiIDB';\r\nimport { chooseError } from '../components/Errors/chooseError';\r\n\r\nconst GET_GROUPS = 'GET-GROUPS';\r\nconst SET_PID = 'SET-PID';\r\nconst GET_COMMODITIES = 'GET-COMMODITIES';\r\nconst SET_ERROR = 'SET-ERROR';\r\nconst UPDATE_COMMODITY = 'UPDATE-COMMODITY';\r\nconst SET_UPDATED = 'SET-UPDATED';\r\nconst VIEW_FORM = 'VIEW-FORM';\r\nconst SET_FORM_DATA = 'SET-FORM-DATA';\r\nconst TOGGLE_FORM_POST = 'TOGGLE-FORM-POST';\r\nconst SET_FORM_ERROR = 'SET-FORM-ERROR';\r\nconst SET_APP_KEY = 'SET-APP-KEY';\r\nconst SET_FORM_PHOTOS = 'SET-FORM-FOTOS';\r\n\r\nexport const getGroupsAC = (groups) => {\r\n  return { type: GET_GROUPS, groups };\r\n};\r\n\r\nexport const setPidAC = (pid) => {\r\n  return { type: SET_PID, pid: pid };\r\n};\r\n\r\nexport const getCommoditiesAC = (commodities) => {\r\n  return { type: GET_COMMODITIES, commodities };\r\n};\r\n\r\nexport const setErrorAC = (error) => {\r\n  return { type: SET_ERROR, error };\r\n};\r\n\r\nexport const setFormErrorAC = (error) => {\r\n  return { type: SET_FORM_ERROR, error };\r\n};\r\n\r\nexport const updateCommodityAC = () => {\r\n  return { type: UPDATE_COMMODITY };\r\n};\r\n\r\nexport const setUpdatedAC = (update) => {\r\n  return { type: SET_UPDATED, update };\r\n};\r\n\r\nexport const viewFormAC = (view) => {\r\n  return { type: VIEW_FORM, viewForm: view };\r\n};\r\n\r\nexport const setFormDataAC = (formData) => {\r\n  formData = formData === null ? initialState.form.formData : formData;\r\n  return { type: SET_FORM_DATA, formData };\r\n};\r\n\r\nexport const toggleFormPostAC = (formPost) => {\r\n  return { type: TOGGLE_FORM_POST, formPost };\r\n};\r\n\r\nexport const setAppKeyAC = (key) => {\r\n  return { type: SET_APP_KEY, key };\r\n};\r\n\r\nexport const setFormPhotosAC = (photos) => {\r\n  return { type: SET_FORM_PHOTOS, photos };\r\n};\r\n\r\nlet initialState = {\r\n  groups: [],\r\n  commodities: [],\r\n  pid: null,\r\n  isLoaded: false,\r\n  comIsLoaded: false,\r\n  error: null,\r\n  lastUpdate: 1585166400000,\r\n  isUpdated: false,\r\n  viewForm: false,\r\n  form: {\r\n    formData: {\r\n      id: null,\r\n      name: '',\r\n      code: '',\r\n      measure_name: '',\r\n      tax: 'NO_VAT',\r\n      allow_to_sell: true,\r\n      description: '',\r\n      article_number: '',\r\n      // parent_id: null,\r\n      type: 'NORMAL',\r\n      price: 0,\r\n      cost_price: 0,\r\n      quantity: 0,\r\n      photos: [],\r\n      barcodes: [],\r\n    },\r\n    formPost: false,\r\n    resMessage: null,\r\n    formError: null,\r\n    photos: [],\r\n  },\r\n};\r\n\r\nconst commodityReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_GROUPS:\r\n      let groups = [];\r\n      action.groups.forEach((item) => {\r\n        let group = {\r\n          id: item.id,\r\n          pid: item.parent_id ? item.parent_id : null,\r\n          label: item.name,\r\n          // code: Date.parse(item.createdAt)\r\n        };\r\n        groups.push(group);\r\n      });\r\n      // groups.sort((a,b) => a.code - b.code);\r\n      return { ...state, groups: [...groups], isLoaded: true };\r\n\r\n    case SET_PID:\r\n      return Object.assign({}, state, {\r\n        pid: action.pid,\r\n        comIsLoaded: false,\r\n      });\r\n\r\n    case GET_COMMODITIES:\r\n      let commodities = [];\r\n      action.commodities.forEach((item) => {\r\n        // if (item.g) return;\r\n        let commodity = {\r\n          uuid: item.id,\r\n          code: item.code,\r\n          label: item.name,\r\n          price: item.price,\r\n        };\r\n        commodities.push(commodity);\r\n      });\r\n      return Object.assign({}, state, {\r\n        commodities: commodities,\r\n        comIsLoaded: true,\r\n      });\r\n\r\n    case SET_ERROR:\r\n      return Object.assign({}, state, {\r\n        error: action.error,\r\n      });\r\n\r\n    case SET_FORM_ERROR:\r\n      return { ...state, form: { ...state.form, formError: action.error } };\r\n\r\n    case UPDATE_COMMODITY:\r\n      let lastUpdate = Date.now();\r\n      if (!state.updateOk) {\r\n        lastUpdate = state.lastUpdate;\r\n      } else {\r\n        lastUpdate = Date.now();\r\n      }\r\n      return { ...state, lastUpdate };\r\n\r\n    case SET_UPDATED:\r\n      return { ...state, isUpdated: action.update };\r\n\r\n    case VIEW_FORM:\r\n      return { ...state, viewForm: action.viewForm };\r\n\r\n    case TOGGLE_FORM_POST:\r\n      return { ...state, form: { ...state.form, formPost: action.formPost } };\r\n\r\n    case SET_FORM_DATA:\r\n      return { ...state, form: { ...state.form, formData: action.formData } };\r\n\r\n    case SET_FORM_PHOTOS:\r\n      return { ...state, form: action.photos };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getProducts = (pId) => {\r\n  return (dispatch) => {\r\n    apiIDB.getProductsPid(pId).then((res) => dispatch(getCommoditiesAC(res)));\r\n  };\r\n};\r\n\r\nexport const getProductId = (id) => {\r\n  if (!id) return (dispatch) => dispatch(viewFormAC(true));\r\n  return (dispatch) => {\r\n    apiIDB\r\n      .getProduct(id)\r\n      .then((res) => {\r\n        dispatch(setFormDataAC(res));\r\n        return true;\r\n      })\r\n      .then((result) => {\r\n        if (result) dispatch(viewFormAC(true));\r\n      });\r\n  };\r\n};\r\n\r\nexport const getGroups = () => {\r\n  return (dispatch) => {\r\n    apiIDB.getGroup('all').then((res) => {\r\n      dispatch(getGroupsAC(res));\r\n    });\r\n  };\r\n};\r\n\r\nexport const setViewForm = (view) => (dispatch) => {\r\n  dispatch(viewFormAC(view));\r\n};\r\n\r\nexport const setFormData = (formData) => (dispatch) => {\r\n  formData = formData ? formData : initialState.form.formData;\r\n  dispatch(setFormDataAC(formData));\r\n};\r\n\r\nexport const postFormData = (typeData, typeQuery, body) => (dispatch) => {\r\n  // debugger\r\n  let path;\r\n  switch (typeData) {\r\n    case 'product':\r\n      path = 'product';\r\n      break;\r\n    case 'group':\r\n      path = 'group';\r\n      break;\r\n    default:\r\n      path = 'product';\r\n      break;\r\n  }\r\n  let callbackApi;\r\n  switch (typeQuery) {\r\n    case 'post':\r\n      callbackApi = apiForIdb.postData;\r\n      break;\r\n    case 'put':\r\n      callbackApi = apiForIdb.putData;\r\n      break;\r\n    default:\r\n      callbackApi = apiForIdb.postData;\r\n      break;\r\n  }\r\n  callbackApi(path, body)\r\n    .then((res) => {\r\n      apiIDB.putData(`${path}s`, res);\r\n      return res;\r\n    })\r\n    .then((res) => {\r\n      // console.log(res);\r\n      return res.parent_id;\r\n    })\r\n    .then((pid) => {\r\n      dispatch(toggleFormPostAC(false));\r\n      dispatch(viewFormAC(false));\r\n      dispatch(setFormDataAC(initialState.form.formData));\r\n      dispatch(setPidAC(pid || 0));\r\n    })\r\n    .catch((err) => {\r\n      console.dir(err);\r\n      dispatch(setFormErrorAC(chooseError(err)));\r\n      dispatch(toggleFormPostAC(false));\r\n    });\r\n};\r\n\r\nexport const deleteProduct = (id, pid) => async (dispatch) => {\r\n  try {\r\n    let res = await apiForIdb.deleteData('product', id);\r\n    console.log(res.status);\r\n    await apiIDB.deleteData('products', id);\r\n    dispatch(setPidAC(pid));\r\n    return id;\r\n  } catch (err) {\r\n    console.dir(err);\r\n    dispatch(setErrorAC(chooseError(err)));\r\n  }\r\n};\r\n\r\nexport const setCommodities = (commodities) => (dispatch) =>\r\n  dispatch(getCommoditiesAC(commodities));\r\n\r\nexport const setFormPhotos = (photos) => (dispatch) =>\r\n  dispatch(setFormPhotosAC(photos));\r\n\r\nexport default commodityReduser;\r\n","import Commodity from \"./Commodity\";\r\nimport {\r\n  setPidAC, getGroups, getProducts,\r\n  setViewForm, getProductId, deleteProduct, setFormData,\r\n  toggleFormPostAC, postFormData, setFormErrorAC, setErrorAC, setCommodities\r\n} from \"../../redux/commodityReduser\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapState = state => {\r\n  const isInit = state.app.isInit;\r\n  state = state.commodityPage;\r\n  return {\r\n    isLoaded: state.isLoaded,\r\n    groups: state.groups,\r\n    price: \"Price\",\r\n    pid: state.pid,\r\n    commodities: state.commodities,\r\n    comIsLoaded: state.comIsLoaded,\r\n    error: state.error,\r\n    viewForm: state.viewForm,\r\n    formData: state.form.formData,\r\n    formPost: state.form.formPost,\r\n    formError: state.form.formError,\r\n    isInit\r\n  };\r\n};\r\n\r\nconst setPid = (pId) => {\r\n  return (dispatch) => {\r\n    dispatch(setPidAC(pId));\r\n  };\r\n};\r\n\r\nconst toggleFormPost = formPost => {\r\n  return dispatch => dispatch(toggleFormPostAC(formPost));\r\n}\r\n\r\nconst setFormError = err => {\r\n  return dispatch => dispatch(setFormErrorAC(err));\r\n}\r\n\r\nconst setError = err => {\r\n  return dispatch => dispatch(setErrorAC(err));\r\n}\r\n\r\nexport default connect(mapState, {\r\n  getGroups,\r\n  getProducts,\r\n  setPid,\r\n  setViewForm,\r\n  getProductId,\r\n  deleteProduct,\r\n  setFormData,\r\n  toggleFormPost,\r\n  postFormData,\r\n  setFormError,\r\n  setError,\r\n  setCommodities\r\n})(Commodity);\r\n","import React from \"react\";\r\nimport s from \"../ImpExcel.module.css\";\r\n\r\nconst News = props => {\r\n  let element;\r\n\r\n  element = (\r\n    <div >\r\n      {props.name}<hr />\r\n      {props.description}<hr />\r\n      {props.article}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <article className={s.article}>\r\n      {/* {props.index}\r\n      {rowsElements} */}\r\n      <h3>{props.index}</h3>\r\n      {element}\r\n    </article>\r\n  );\r\n};\r\nexport default News;\r\n","import React from \"react\";\r\nimport News from \"./News/News\";\r\nimport s from \"./ImpExcel.module.css\";\r\nimport readXlsxFile from \"read-excel-file\";\r\nimport { useState } from \"react\";\r\n\r\nconst ImpExcel = props => {\r\n\r\n  const [childElements, setChildElements] = useState([]);\r\n\r\n  let elements = [];\r\n\r\n  const inpChange = (e) => {\r\n    readXlsxFile(e.target.files[0]).then(rows => {\r\n      rows.forEach((item, idx) => {\r\n        if (!idx) return;\r\n        const element = <News\r\n          index={item[3]}\r\n          key={item[0]}\r\n          name={item[1]}\r\n          description={item[8]}\r\n          article={item[9]} />;\r\n        elements.push(element);\r\n      });\r\n    }).then(() => {\r\n      setChildElements(elements)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={s.page}>\r\n      <input type=\"file\" id=\"input\" onChange={(e) => inpChange(e)} />\r\n      <h1>LATEST NEWS</h1>\r\n      <div className={s.archive}>{childElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImpExcel;\r\n","import React, { useEffect } from 'react';\r\n/* import { withCompose, withDouble, map, getName } from './testCompose';\r\n\r\nconsole.log(withCompose(5)); //21\r\n\r\nconst arr = [1, 2, 3, 4, 5];\r\nconsole.log(withDouble(arr)); // [ 2, 4, 6, 8, 10 ]\r\n\r\nconst people = [\r\n    { name: \"Alex\" },\r\n    { name: \"Julia\" },\r\n    { name: \"Leo\" },\r\n    { name: \"Den\" }\r\n  ];\r\n\r\nconsole.log(map(getName)(people)); */\r\n\r\nconst Example = ({ count }) => {\r\n\r\n    useEffect(() => {\r\n        console.log('render - ' + count)\r\n        return () => {\r\n            console.log('unmount - ' + count);\r\n        }\r\n    }, [count])\r\n\r\n    return (\r\n        <div>example: {count}</div>\r\n    );\r\n}\r\n\r\nexport default Example;\r\n","import React, { useState } from 'react';\r\nimport ProgressBar from '../common/ProgressBar/ProgressBar';\r\nimport Example from './Example';\r\n\r\nconst Wrapper = (props) => {\r\n\r\n    const [count, setCount] = useState(0);\r\n    const clickButton = () => {\r\n        setCount(count + 1);\r\n        if (count > 5) setCount(0);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <button onClick={clickButton}>{count}</button>\r\n            {count < 5 && <Example count={count} />}\r\n            {count < 5 && <Example count={-1} />}\r\n            { (count < 3) && <ProgressBar limit={10} text='test' delay={500} /> }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Wrapper;\r\n","import React, { useState } from 'react';\r\nimport { apiForIdb } from '../../api/api';\r\nimport Tree from '../common/Tree/Tree';\r\nimport { apiIDB } from '../../api/apiIDB';\r\n\r\nconst IdbTest = () => {\r\n\r\n    const [groups, setGroups] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    async function callbackTree(id) {\r\n        let group = await apiIDB.getGroup(id);\r\n        console.log(group);\r\n        alert(JSON.stringify(group, null, 2));\r\n    }\r\n\r\n    async function butGetGroups() {\r\n        setIsLoading(true);\r\n        let res = await apiForIdb.getGroupsEvo();\r\n        console.log(res);\r\n        let g = await res.items;\r\n        await apiIDB.pushItems('groups', g);\r\n        /*\r\n         created_at: \"2018-08-01T06:00:27.605+0000\"\r\n         id: \"96639e0c-6409-9faa-d4e0-a8212b9fa795\"\r\n         name: \"\"\r\n         parent_id: \"3257cd3d-6e61-4315-8d83-084578c507be\"\r\n         store_id: \"20180608-EEA0-408D-807D-6AB73272E383\"\r\n         updated_at: \"2019-04-13T07:58:19.537+0000\"\r\n         user_id: \"01-000000000910281\"\r\n         */\r\n        let groups = await apiIDB.getGroup('all');\r\n        groups.forEach((item) => {\r\n            // if (idx === 1) console.log(item);\r\n            item.pid = item.parent_id ? item.parent_id : null;\r\n            item.label = item.name;\r\n        });\r\n        setGroups(groups);\r\n        setIsLoading(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1>IDB Test</h1>\r\n            <button onClick={() => butGetGroups()} disabled={isLoading}>get Groups Evo</button>\r\n            { isLoading && <p>Loading...</p>}\r\n            { !!groups.length && <Tree data={groups} price=\"Price\" treeLabel=\"Groups\" callback={callbackTree} />}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default IdbTest;\r\n","import { apiIDB } from './apiIDB';\r\nimport { compose } from './apiUtils';\r\n\r\nfunction blobFromObj({ obj, ...rest }) {\r\n  let json = JSON.stringify(obj, null, 2);\r\n  let blob = new Blob([json], { type: 'application/json' });\r\n  return { blob, ...rest };\r\n}\r\n\r\nfunction blobToUrl({ blob, fileName = 'test' }) {\r\n  let link = document.createElement('a');\r\n  link.download = `${fileName}.json`;\r\n  link.href = URL.createObjectURL(blob);\r\n  link.click();\r\n  URL.revokeObjectURL(link.href);\r\n}\r\n\r\nfunction getObjfromLocalStorage() {\r\n  let keys = Object.keys(localStorage);\r\n  let obj = {};\r\n  for (let key of keys) {\r\n    obj[key] = localStorage.getItem(key);\r\n  }\r\n  return obj;\r\n}\r\n\r\nasync function getObjfromIdb() {\r\n  let obj = {};\r\n\r\n  obj.groups = await apiIDB.getGroup('all');\r\n\r\n  obj.products = await apiIDB.getProduct('all');\r\n\r\n  return obj;\r\n}\r\n\r\nexport async function saveConfig({ type, fileName = 'config' }) {\r\n  let obj = {};\r\n\r\n  switch (type) {\r\n    case 'config':\r\n      obj.config = getObjfromLocalStorage();\r\n      break;\r\n    case 'commodities':\r\n      obj.commodities = await getObjfromIdb();\r\n      break;\r\n    default:\r\n      obj.config = getObjfromLocalStorage();\r\n      break;\r\n  }\r\n  compose(blobToUrl, blobFromObj)({ obj, fileName });\r\n}\r\n\r\nexport async function readJsonFile(input) {\r\n  let file = input.files[0];\r\n  let reader = new FileReader();\r\n  reader.readAsText(file);\r\n\r\n  return new Promise((resolve, reject) => {\r\n    reader.onload = function () {\r\n      var json = JSON.parse(reader.result);\r\n      resolve(json);\r\n    };\r\n\r\n    reader.onerror = function () {\r\n      console.error(reader.error);\r\n      reject(reader.error);\r\n    };\r\n  });\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setAppKey, setStoreKey, setStores, toggleInitApp } from \"../../redux/appReducer\";\r\nimport { apiForIdb } from \"../../api/api\";\r\nimport { readJsonFile, saveConfig } from \"../../api/apiFile\";\r\nimport { apiIDB } from \"../../api/apiIDB\";\r\n\r\nfunction addKey(id) {\r\n    var key = document.getElementById(id).value;\r\n    if (!key) return;\r\n    window.localStorage[id] = key;\r\n    return key;\r\n}\r\n\r\nconst MainSettings = props => {\r\n\r\n\r\n    let inpRef = React.createRef();\r\n\r\n    async function saveData() {\r\n\r\n        await saveConfig({ fileName: `backup_config_${new Date().toJSON()}` });\r\n\r\n        console.log('File with config saved');\r\n        let saveData = window.confirm('  ?');\r\n        if (saveData) {\r\n            await saveConfig({ type: 'commodities', fileName: `backup_commodities_${new Date().toJSON()}` });\r\n            console.log('File with Data saved');\r\n        }\r\n    }\r\n\r\n\r\n    async function setAppKeyAndStores(key) {\r\n        localStorage.appKey = key;\r\n        props.setAppKey(key);\r\n        try {\r\n            let stores = await apiForIdb.getStores();\r\n            props.setStores(stores);\r\n        } catch (err) {\r\n            delete localStorage.appKey;\r\n            props.setAppKey(null);\r\n            console.error(err);\r\n        }\r\n    }\r\n\r\n    async function clickAddAppKey() {\r\n        var key = addKey('appKey');\r\n        if (!key) return;\r\n        await setAppKeyAndStores(key);\r\n    }\r\n\r\n    function liClick(e) {\r\n        let storeKey = e.target.id;\r\n        localStorage.storeKey = storeKey;\r\n        props.setStoreKey(storeKey);\r\n        // props.initApp(true);\r\n    }\r\n\r\n    const [clean, setClean] = useState(false);\r\n\r\n    async function cleareStorage(storageName) {\r\n        setClean(true);\r\n        localStorage.clear();\r\n        await apiIDB.delDb(storageName);\r\n        props.setAppKey(null);\r\n        props.setStoreKey(null);\r\n        props.toggleInitApp(false);\r\n        setClean(false);\r\n        window.location.reload();\r\n    }\r\n\r\n    async function restoreConfig() {\r\n        let file = inpRef.current;\r\n        let config = (await readJsonFile(file)).config;\r\n        await setAppKeyAndStores(config.appKey);\r\n        localStorage.storeKey = config.storeKey;\r\n        props.setStoreKey(config.storeKey);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {props.appKey && props.storeKey && !props.isInit &&\r\n                <div>\r\n                    <h2>  ...</h2>\r\n                </div>\r\n            }\r\n            {!props.appKey &&\r\n                <div>\r\n                    <h2>  !</h2>\r\n                    <p>  ...</p>\r\n                </div>\r\n            }\r\n            {clean &&\r\n                <div>\r\n                    <h2>  ...</h2>\r\n                    <p>  .</p>\r\n                    <p>  ,   .</p>\r\n                </div>\r\n            }\r\n            {!props.appKey &&\r\n                <div>\r\n                    <input id={'appKey'} />\r\n                    <button onClick={clickAddAppKey}>  </button>\r\n                </div>\r\n            }\r\n            {!!props.appKey && !props.isInit &&\r\n                <div>\r\n                    <h3> </h3>\r\n                    <p>{props.appKey}</p>\r\n                </div>\r\n            }\r\n            { props.appKey && !!props.stores.length && !props.storeKey &&\r\n                <div style={{ cursor: 'pointer' }}>\r\n                    <h3> </h3>\r\n                    <ul>\r\n                        {props.stores.map(item => {\r\n                            return (\r\n                                <li key={item.id} id={item.id} onClick={liClick}>{item.id}: {item.name}</li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            }\r\n            { !!props.storeKey && !props.isInit &&\r\n                <div>\r\n                    <h3> </h3>\r\n                    <p>{props.storeKey}</p>\r\n                </div>\r\n            }\r\n            { props.isInit && !clean && <h2> !</h2>}\r\n            { props.isInit && !clean &&\r\n                <div>\r\n                    <button onClick={() => cleareStorage('Evo')}>cleare Storage</button>\r\n                    <button onClick={saveData}>Save Config</button>\r\n                </div>\r\n            }\r\n            {\r\n                !props.appKey &&\r\n                <div>\r\n                    <p>   ...</p>\r\n                    <label>   \r\n                    <input type=\"file\" ref={inpRef} onChange={restoreConfig} hidden />\r\n                    </label>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapState = state => {\r\n    return {\r\n        appKey: state.app.appKey,\r\n        storeKey: state.app.storeKey,\r\n        isInit: state.app.isInit,\r\n        stores: state.app.stores\r\n    }\r\n}\r\n\r\nexport default connect(mapState, { setAppKey, setStoreKey, setStores, toggleInitApp })(MainSettings);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { apiForIdb } from '../../api/api';\r\n\r\nfunction dateToString(date = new Date()) {\r\n    if (!date) return;\r\n    function dblDigit(dgt) {\r\n        if (dgt.toString().length < 2) {\r\n            return `0${dgt}`;\r\n        } else { return dgt };\r\n    }\r\n    let strDate = `${date.getFullYear()}-${dblDigit(date.getMonth() + 1)}-${dblDigit(date.getDate())}`;\r\n    return strDate;\r\n}\r\n\r\nfunction getMinData(key) {\r\n    if (!key) return '';\r\n    try {\r\n        let min = key.split('-')[0];\r\n        let year = min.slice(0, 4);\r\n        let month = min.slice(4, 6);\r\n        let day = min.slice(6)\r\n        return `${year}-${month}-${day}`;\r\n    } catch(e) {\r\n        console.error(e.message)\r\n    }\r\n}\r\n\r\nconst mapState = state => {\r\n    return {\r\n        isInit: state.app.isInit,\r\n        storeKey: state.app.storeKey,\r\n    }\r\n}\r\n\r\nconst Documents = (props) => {\r\n\r\n    if (!props.isInit) {\r\n        props.history.push('/settings');\r\n    }\r\n\r\n    const typesOfDocs = [\r\n        ['ACCEPT', ' '],\r\n        ['INVENTORY', ' '],\r\n        ['REVALUATION', ''],\r\n        ['RETURN', ' '],\r\n        ['WRITE_OFF', ''],\r\n        ['SELL', ''],\r\n        ['PAYBACK', '']\r\n    ]\r\n\r\n    const [docs, setDocs] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const [period, setPeriod] = useState({\r\n        dateStart: new Date(),\r\n        dateEnd: new Date(),\r\n        dateMin: getMinData(props.storeKey)\r\n    });\r\n\r\n    useEffect(() => {\r\n        period.dateStart.setHours(0, 0, 0);\r\n    }, [period])\r\n\r\n    async function butGetDocs() {\r\n        setIsLoading(true);\r\n        let docType = document.getElementById('typeDocs').value;\r\n        console.log(docType);\r\n        let p = {\r\n            dateStart: period.dateStart.getTime(),\r\n            dateEnd: period.dateEnd.getTime()\r\n        }\r\n        let res = await apiForIdb.getDocuments(docType, p);\r\n        console.log(res);\r\n        setDocs(res.items);\r\n        setIsLoading(false);\r\n    }\r\n\r\n    function changeDate(e) {\r\n        let date = new Date(e.currentTarget.value);\r\n        if (e.currentTarget.name === 'dateStart') {\r\n            date.setHours(0);\r\n        } else {\r\n            date.setHours(23);\r\n        }\r\n        setPeriod({ ...period, [e.currentTarget.name]: date });\r\n        // console.log(e.currentTarget.name + ' : ' + e.currentTarget.value)\r\n    }\r\n\r\n    async function docClick(e) {\r\n        if (e.target.tagName !== 'SPAN') return;\r\n        let id = e.currentTarget.id;\r\n        let doc = await apiForIdb.getDocuments(null, null, id);\r\n        console.log(doc.body);\r\n    }\r\n\r\n    const styleSpan = {\r\n        cursor: 'pointer',\r\n        border: '1px solid green',\r\n        paddingTop: '0.5rem',\r\n        paddingLeft: '0.5rem',\r\n        paddingRight: '0.5rem',\r\n        background: 'yellow'\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1>Documents</h1>\r\n            <div>\r\n                <label htmlFor=\"dateStart\">Date start:</label>\r\n                <input type=\"date\" name=\"dateStart\"\r\n                    id=\"dateStart\"\r\n                    value={dateToString(period.dateStart)}\r\n                    min={period.dateMin}\r\n                    max={dateToString(period.dateEnd)}\r\n                    onChange={changeDate}\r\n                />\r\n                <label htmlFor=\"dateEnd\">Date end:</label>\r\n                <input type=\"date\" name=\"dateEnd\"\r\n                    id=\"dateEnd\"\r\n                    value={dateToString(period.dateEnd)}\r\n                    min={period.dateMin}\r\n                    max={dateToString(period.dateEnd)}\r\n                    onChange={changeDate}\r\n                />\r\n            </div>\r\n            <label>\r\n                DocType\r\n            <select name=\"type_docs\" id=\"typeDocs\">\r\n                    {\r\n                        typesOfDocs.map(item => {\r\n                            return <option key={item[0]} value={item[0]}>{item[1]}</option>\r\n                        })\r\n                    }\r\n                </select>\r\n            </label>\r\n            <button onClick={() => butGetDocs()} disabled={isLoading}>get Documents</button>\r\n            { isLoading && <p>Loading...</p>}\r\n            { !!docs.length &&\r\n                <ul>\r\n                    {docs.map((item, idx) => {\r\n                        return (idx < 20) && <li key={item.id} id={item.id} onClick={docClick} style={{ margin: '0.5rem' }}>\r\n                            <span style={styleSpan}>{item.id}</span>\r\n                        </li>\r\n                    })}\r\n                </ul>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default connect(mapState)(Documents);\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport \"./css/fontawesome.css\";\r\nimport \"./css/solid.css\";\r\nimport \"./css/regular.css\";\r\nimport \"./css/brands.css\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Game from \"./components/Game/Game\";\r\nimport NavbarContainer from \"./components/Navbar/NavbarContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport CommodityContainer from \"./components/Commodity/CommodityContainer\";\r\nimport ImpExcel from \"./components/ImpExcel/ImpExcel\";\r\nimport Wrapper from \"./components/Example/Wrapper\";\r\nimport IdbTest from \"./components/IdbTest/IdbTest\";\r\nimport MainSettings from \"./components/Settings/MainSettings\";\r\nimport { initializeApp, toggleInitApp, setAppKey, setStoreKey, setLastUpdate } from './redux/appReducer';\r\nimport { connect } from \"react-redux\";\r\nimport Documents from \"./components/Documents/Documents\";\r\nimport { fetchGroupsProducts, testNeedUpdate } from \"./api/apiUtils\";\r\n\r\n\r\n\r\nconst App = props => {\r\n\r\n  async function getProductsForIdb(lastUpdate) {\r\n    if (testNeedUpdate(lastUpdate)) {\r\n      await fetchGroupsProducts();\r\n      props.setLastUpdate();\r\n    }\r\n  }\r\n\r\n  if (!props.isInit) props.initializeApp();\r\n\r\n  if (props.appKey && props.storeKey && !props.isInit) {\r\n    getProductsForIdb(props.lastUpdate)\r\n      .then(() => props.toggleInitApp(true))\r\n      .catch(e => alert(e.message));\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <HeaderContainer />\r\n      <NavbarContainer />\r\n      <div className=\"app-content\">\r\n        <Route exact path=\"/\" />\r\n        <Route exact path=\"/settings\" component={MainSettings} />\r\n        <Route path=\"/example\" component={Wrapper} />\r\n        <Route path=\"/commodity\" component={CommodityContainer} />\r\n        <Route path=\"/game\" component={Game} />\r\n        <Route path=\"/table\" component={ImpExcel} />\r\n        <Route path=\"/test\" component={IdbTest} />\r\n        <Route path=\"/documents\" component={Documents} />\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapState = state => {\r\n  return {\r\n    appKey: state.app.appKey,\r\n    storeKey: state.app.storeKey,\r\n    isInit: state.app.isInit,\r\n    lastUpdate: state.app.lastUpdate\r\n  }\r\n}\r\n\r\nexport default connect(mapState, { initializeApp, toggleInitApp, setAppKey, setStoreKey, setLastUpdate })(App);\r\n","const SET_TEXT = \"SET-TEXT\";\r\n\r\nexport const setMuzikTextAC = text => ({ type: SET_TEXT, text: text });\r\n\r\nlet initialState = {\r\n  textHTML: \"text HTML...\"\r\n};\r\n\r\nconst muzReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case SET_TEXT:\r\n      return Object.assign({}, state, {textHTML: action.text});\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default muzReduser;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport navReduser from './navReduser';\r\nimport commodityReduser from './commodityReduser';\r\nimport muzReduser from './MuzikReduser';\r\nimport thunkMidleware from 'redux-thunk';\r\nimport appReducer from './appReducer';\r\n\r\nlet redusers = combineReducers({\r\n  navigation: navReduser,\r\n  commodityPage: commodityReduser,\r\n  muzik: muzReduser,\r\n  app: appReducer\r\n});\r\n\r\nlet store = createStore(redusers, applyMiddleware(thunkMidleware));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport store from \"./redux/redux-store\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\n\r\n/** RENDER */\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n    ,document.getElementById(\"root\")\r\n  );\r\n\r\n  window.store = store;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Commodity_container__2O07C\",\"list\":\"Commodity_list__2ILIG\",\"selected\":\"Commodity_selected__3t5hz\",\"del\":\"Commodity_del__RIa5V\",\"head\":\"Commodity_head__2sL_Q\",\"buttons\":\"Commodity_buttons__lNlz7\",\"search\":\"Commodity_search__2fDTI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tree\":\"Tree_tree__2BiYs\",\"selected\":\"Tree_selected__3nfeH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImpExcel_image__3T78n\",\"page\":\"ImpExcel_page__escWJ\",\"archive\":\"ImpExcel_archive__39uKW\",\"article\":\"ImpExcel_article__23hzN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cover-div\":\"FormModalWrapper_cover-div__R6V-a\",\"container\":\"FormModalWrapper_container__zgoYM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Navbar_item__3BYsL\",\"active\":\"Navbar_active__2-ZqH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-product\":\"Form_form-product__rFtLH\",\"uuid\":\"Form_uuid__390Ur\",\"barcodes\":\"Form_barcodes__U-W5R\",\"g-tree\":\"Form_g-tree__e4Uyg\",\"tree\":\"Form_tree__3nwNl\",\"price\":\"Form_price__Khzda\",\"picture-small\":\"Form_picture-small__3G_dV\",\"div-picture\":\"Form_div-picture__1ZjeF\",\"select\":\"Form_select__JfE4L\",\"buttons\":\"Form_buttons__3k3hF\",\"big-img\":\"Form_big-img__1-g2E\",\"view-barcode\":\"Form_view-barcode__1dcmC\",\"del-bc\":\"Form_del-bc__1LwSb\",\"add-bc\":\"Form_add-bc__3ZUsN\",\"menu-buttons\":\"Form_menu-buttons__5lLq7\",\"required\":\"Form_required__3vB1c\",\"propertyes\":\"Form_propertyes__39JHl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrong\":\"TextArea_wrong__3jbCe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"needupdate\":\"Header_needupdate__3Q571\",\"updated\":\"Header_updated__306tT\",\"loginBlock\":\"Header_loginBlock__3g8c-\"};"],"sourceRoot":""}