(this["webpackJsonpevo-react"]=this["webpackJsonpevo-react"]||[]).push([[0],{110:function(e,t,r){e.exports={wrong:"TextArea_wrong__19g7T"}},121:function(e,t,r){},122:function(e,t,r){},123:function(e,t,r){},124:function(e,t,r){},125:function(e,t,r){},126:function(e,t,r){},132:function(e,t,r){e.exports={needupdate:"Header_needupdate__1B24q",updated:"Header_updated__13H3P",loginBlock:"Header_loginBlock__2Q2GB"}},154:function(e,t){},156:function(e,t){},204:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(47),o=r.n(c),i=r(2),u=r.n(i),s=r(3),l=(r(121),r(122),r(123),r(124),r(125),r(23)),d=r(11),p=r(15),m=r(63),f=r(16),b=r(17);r(126);function v(e){return n.a.createElement("button",{className:e.className,onClick:e.onClick},e.value)}var h=function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return Object(m.a)(r,[{key:"renderSquare",value:function(e){var t=this,r=this.props.sq===e&&this.props.sqSel?"square selected":"square";return setTimeout((function(){return r="square"}),500),n.a.createElement(v,{value:this.props.squares[e],className:r,key:e,onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){for(var e=[],t=0;t<9;)for(var r=1;r<=3;r++){for(var a=[],c=1;c<=3;c++)a.push(this.renderSquare(t)),t++;e.push(n.a.createElement("div",{className:"board-row",key:r},a))}return n.a.createElement("div",null,e)}}]),r}(n.a.Component);function g(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],r=function(r){var a=Object(d.a)(t[r],3),n=a[0],c=a[1],o=a[2];if(e[n]&&e[n]===e[c]&&e[n]===e[o])return document.querySelectorAll(".square").forEach((function(e,a){e.classList.remove("selected"),t[r].forEach((function(t){if(a===t){e.classList.toggle("selected");var r=setInterval((function(){e.classList.toggle("selected")}),500);setTimeout((function(){clearInterval(r),e.classList.remove("selected")}),3e3)}}))})),{v:e[n]}},a=0;a<t.length;a++){var n=r(a);if("object"===typeof n)return n.v}return null}var E=function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(p.a)(this,r),(a=t.call(this,e)).state={history:[{squares:Array(9).fill(null),square:null}],xIsNext:!0,stepNumber:0},a}return Object(m.a)(r,[{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),r=t[t.length-1].squares.slice();g(r)||r[e]||(r[e]=this.state.xIsNext?"X":"O",this.setState({history:t.concat([{squares:r,square:e}]),stepNumber:t.length,xIsNext:!this.state.xIsNext}),document.querySelectorAll("li").forEach((function(e){e.firstElementChild.classList.remove("selected")})))}},{key:"jumpTo",value:function(e,t){var r=this;document.querySelectorAll("li").forEach((function(e){e.firstElementChild.classList.remove("selected")})),t.target.classList.toggle("selected"),this.setState({stepNumber:e,xIsNext:e%2===0}),this.setState({sqSel:!0}),setTimeout((function(){return r.setState({sqSel:!1})}),500)}},{key:"render",value:function(){var e,t=this,r=this.state.history,a=r[this.state.stepNumber],c=g(a.squares),o=r.map((function(e,r){var a=e.square;if(r)var c=" row: "+(Math.floor(a/3)+1)+" col: "+(a%3+1),o="Goto step #"+r;else o="Goto Start",c="";return n.a.createElement("li",{key:r},n.a.createElement("button",{onClick:function(e){return t.jumpTo(r,e)}},o),c)}));return e=c?"Winner "+c:10===r.length?"X === O":"Next step "+(this.state.xIsNext?"X":"O"),n.a.createElement("div",{className:"game"},n.a.createElement("h2",null,"Game X vs O"),n.a.createElement("div",{className:"game-wrapper"},n.a.createElement("div",{className:"game-board"},n.a.createElement(h,{squares:a.squares,onClick:function(e){return t.handleClick(e)},sqSel:this.state.sqSel,sq:a.square})),n.a.createElement("div",{className:"game-info"},n.a.createElement("div",null,e),n.a.createElement("ol",null,o))))}}]),r}(n.a.Component),y=r(64),O=r.n(y),_=function(e){return n.a.createElement("nav",{className:"navbar"},e.navElements)},j=r(7),x=r(32),w=r(1),k="GET-TITLE",N="CHOOSE-LANG",S=function(e){return{type:k,path:e}},C={langs:{ru:0,en:1},currentLang:0,title:"",navBar:[{link:"/",title:["\u041d\u0430\u0447\u0430\u043b\u043e","Start"]},{link:"/muzik",title:["\u041c\u0443\u0437\u044b\u043a\u0430","Music"]},{link:"/commodity",title:["\u0422\u043e\u0432\u0430\u0440\u044b","Products"]},{link:"/game",title:["\u0418\u0433\u0440\u0430\u0442\u044c","Game"]},{link:"/table",title:["\u042d\u043a\u0441\u043f\u043e\u0440\u0442 Excel","Export Excel"]}]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var r,a=e.navBar.find((function(e){return e.link===t.path}));return void 0!==a&&(r=a.title[e.currentLang]),Object(w.a)(Object(w.a)({},e),{},{title:r});case N:return Object(w.a)(Object(w.a)({},e),{},{currentLang:e.langs[t.lng]});default:return e}},I=Object(j.b)((function(e,t){var r=t.to,a=t.exact;return{activeClassName:t.activeClassName,to:r,exact:a}}),(function(e,t){var r=t.to;return{onClick:function(){e(S(r))}}}))(x.b);function L(e){var t=e.navigation.currentLang;return e.navigation.navBar.map((function(e,r){var a;return a="/"===e.link,n.a.createElement("div",{className:O.a.item,key:r},n.a.createElement(I,{exact:a,to:e.link,activeClassName:O.a.active},e.title[t]))}))}var F=Object(j.b)((function(e){return{navElements:L(e)}}))(_),D=r(35),P=r.n(D),A=function(e){return n.a.createElement("div",null,n.a.createElement("div",{className:P.a.item},e.title),n.a.createElement("div",{className:P.a.container},n.a.createElement("div",{className:P.a.textdiv},n.a.createElement("textarea",{className:P.a.text,rows:15,value:e.textHTML,onChange:e.onChangeText},e.textHTML)),n.a.createElement("div",{className:P.a.result,id:"div",dangerouslySetInnerHTML:{__html:e.textHTML}})))},K="SET-TEXT",q={textHTML:"text HTML..."},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object.assign({},e,{textHTML:t.text});default:return e}},M=Object(j.b)((function(e){return{title:e.navigation._title,textHTML:e.muzik.textHTML}}),(function(e){return{onChangeText:function(t){var r=t.target.value;e({type:K,text:r})}}}))(A),R=(r(132),r.p+"static/media/terminal-5.6357e026.png"),U=function(e){return n.a.createElement("header",null,n.a.createElement("img",{src:R,alt:"Logo"}),n.a.createElement("h2",null,e.title),n.a.createElement("div",{onClick:function(t){var r;"lng"===t.target.name&&(r=t.target.value,e.chooseLang(r),e.getTitle(e.path))}},n.a.createElement("input",{name:"lng",type:"radio",value:"ru",checked:!e.currentLang,onChange:function(t){return t.target.checked=!e.currentLang}}),"RU",n.a.createElement("input",{name:"lng",type:"radio",value:"en",checked:e.currentLang,onChange:function(t){return t.target.checked=e.currentLang}}),"EN"))},G=Object(j.b)((function(e){return{navBar:e.navigation.navBar,title:e.navigation.title,className:undefined,currentLang:e.navigation.currentLang}}),{getTitle:function(e){return function(t){t(S(e))}},chooseLang:function(e){return function(t){t(function(e){return{type:N,lng:e}}(e))}}})(Object(l.e)((function(e){var t="/"+e.location.pathname.split("/")[1],r=e.getTitle;return Object(a.useEffect)((function(){r(t)}),[t,r]),n.a.createElement(U,Object.assign({},e,{path:t}))}))),V=r(24),z=r.n(V),H=r(27),J=r.n(H),W=r(109);function X(e,t){var r=Y(e.pid,t);try{return void 0===r?e:(r.childs.push(e),r.childs.sort((function(e,t){return e.label>t.label?1:e.label<t.label?-1:0})),!1)}catch(a){console.error(a.message)}}function Y(e,t){null===e&&(e=0);var r=t.childs.find((function(t){return t.id===e}));if(void 0===r){var a,n=Object(W.a)(t.childs);try{for(n.s();!(a=n.n()).done;){var c=a.value;if(r=Y(e,c))break}}catch(o){n.e(o)}finally{n.f()}}return r}var Z=function e(t,r){var a=[];return t.forEach((function(e){var t=X(function(e){var t=Object(w.a)({},e);return t.childs=[],t}(e),r);t&&a.push(t)})),a.length&&e(a,r),a=[],r},Q=function(e){var t,r=e.hidden?"fas fa-folder":"fas fa-folder-open",a=e.hidden?"closed":"open";return e.children.length&&(t=n.a.createElement("ul",{hidden:e.hidden},e.children)),n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{id:e.id,className:a},n.a.createElement("i",{className:r}),n.a.createElement("span",null,e.label),t))},$=function(e){var t={id:0,label:e.price,childs:[]},r={id:"Tree",label:e.treeLabel,childs:[t]};Z(e.data,r),Object(a.useEffect)((function(){if(e.pId){document.getElementById("Tree").querySelectorAll("span").forEach((function(e){e.className===J.a.selected&&(e.className=null)}));var t=document.getElementById(e.pId);t.querySelector("span").className=J.a.selected;var r=t.closest("ul");r.hidden&&(r.hidden=!1)}}),[e.pId]);var c=function e(t){var r,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c+=1;var o=[];return(null===(r=t.childs)||void 0===r?void 0:r.length)&&(o=t.childs.map((function(t){return e(t,c)}))),a=c>1?"hidden":null,n.a.createElement(Q,{id:t.id,key:t.id,label:t.label,children:o,hidden:a})}(t);return n.a.createElement("div",{id:r.id,className:J.a.tree,onClick:function(t){if("SPAN"===t.target.tagName||"I"===t.target.tagName){document.getElementById("Tree").querySelectorAll("span").forEach((function(e){e.className===J.a.selected&&(e.className=null)})),"SPAN"===t.target.tagName?t.target.className=J.a.selected:t.target.nextSibling.className=J.a.selected;var r=t.target.closest("li");if(r){if("0"!==r.id){var a=r.querySelector("ul");a&&(a.hidden=!a.hidden,a.hidden?(r.className="closed",r.firstElementChild.className="fas fa-folder"):(r.className="open",r.firstElementChild.className="fas fa-folder-open"))}e.callback&&e.callback(r.id)}}}},n.a.createElement("h3",null,r.label),n.a.createElement("ul",null,c))},ee=r.p+"static/media/placeholder.e2f04097.svg",te=function(e){return n.a.createElement("div",null,n.a.createElement("img",{src:ee,alt:""}))},re=function(e){var t,r=e.commodities;function a(e){return c.apply(this,arguments)}function c(){return(c=Object(s.a)(u.a.mark((function t(r){var a,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("SPAN"!==r.target.tagName){t.next=13;break}if(n=r.target.closest("li"),!window.confirm("".concat(n.innerText,"\n\rYou'r realy wanted delete this product?"))){t.next=9;break}return t.next=5,e.deleteProduct(n.id,e.pid);case 5:c=t.sent,alert("Product id: ".concat(c,"\n\rDELETED!")),t.next=10;break;case 9:alert("NOT DELETED!");case 10:return t.abrupt("return");case 13:a=r.target.id;case 14:e.getProductId(a);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.error?e.error.message:e.comIsLoaded?(t=r.sort((function(e){return e.name})).map((function(e){return n.a.createElement("li",{id:e.uuid,key:e.uuid,className:z.a.clickable,onClick:a,"data-price":e.price,"data-code":e.code},e.label," | ",e.price?e.price.toFixed(2):"0.00",n.a.createElement("span",{className:z.a.del}))})),n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",null,t))):n.a.createElement(te,null)},ae=r(43),ne=r.n(ae),ce=function(e){return Object(a.useLayoutEffect)((function(){document.body.style.overflow="hidden",setTimeout((function(){return document.getElementById(ne.a.container).style.top=0}),0)}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:ne.a["cover-div"]}),n.a.createElement("div",{className:ne.a.container,id:ne.a.container},e.form))},oe=r(50),ie=r(26),ue=r(4),se=r.n(ue),le=r(52),de=function(){var e=Object(s.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(1e5*Math.random()),r=t+1,e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function pe(e){if(![7,8,12,13].includes(e.length))return"Not valid Length barcode: ".concat(e.length);var t=0;if(e.split("").forEach((function(e,r){r%2!==0?(t+=3*Number(e),t%=10):(t+=Number(e),t%=10)})),0!==t){var r="";if(13===e.length||8===e.length)r+="Not valid control digit: "+e.slice(-1)+"\r\n",r+=pe(e.slice(0,-1));else if(12===e.length||7===e.length){r+="Need add control digit: "+(10-t)}else r+="Not valid Length barcode: "+e.length;return r}return t}var me=function(e){return n.a.createElement("label",null,"Measure Name",n.a.createElement("select",{name:"measure_name",id:e.id,value:e.measure_name,onChange:e.handleChange,disabled:e.disabled},le.measure_names.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)}))))},fe=function(e){return n.a.createElement("label",null,"Type",n.a.createElement("select",{name:"type",id:e.id,value:e.type,onChange:e.handleChange,disabled:e.disabled},le.types.map((function(e,t){return n.a.createElement("option",{key:t,value:e.type},e.description)}))))},be=function(e){return n.a.createElement("label",null,"Tax",n.a.createElement("select",{name:"tax",id:e.id,value:e.tax,onChange:e.handleChange,disabled:e.disabled},le.taxes.map((function(e,t){return n.a.createElement("option",{key:t,value:e.tax},e.description)}))))},ve=function(e){var t=e.groups.find((function(t){return t.id===e.parent_id})),r=t?t.label:"Root",a=e.disabled?null:e.onClick;return n.a.createElement(n.a.Fragment,null,e.treeView&&n.a.createElement("div",{className:e.classTree,onClick:e.closeTree},n.a.createElement($,{data:e.groups,price:"Price",treeLabel:"Groups",callback:e.callbackTree}),n.a.createElement("i",{className:"fas fa-angle-down"})),n.a.createElement("div",{className:e.classDiv,onClick:a,tabIndex:-1,onBlur:e.onBlurGroup},n.a.createElement("div",{name:"parent_id"},r,n.a.createElement("i",{className:"fa fa-angle-down"}))))},he=function(e){var t=function(t){var r;e.allow_edit&&("SPAN"===t.target.tagName&&(r=t.target.closest("li")),r&&e.deleteFromArray(r.id,"barcodes"))};return n.a.createElement("fieldset",{name:"img_barcodes"},n.a.createElement("legend",null,"Barcodes"),n.a.createElement("div",{className:e.view_barcode},n.a.createElement("ul",null,e.barcodes.map((function(r){return n.a.createElement("li",{key:r,id:r,onClick:t},function(e){for(var t=65,r=75,a=[[t,t,t,t,t,t],[t,t,r,t,r,r],[t,t,r,r,t,r],[t,t,r,r,r,t],[t,r,t,t,r,r],[t,r,r,t,t,r],[t,r,r,r,t,t],[t,r,t,r,t,r],[t,r,t,r,r,t],[t,r,r,t,r,t]],n=e.split("")[0],c=Number(n),o=1;o<=6;o++)n+=String.fromCharCode(Number(e.substr(o,1))+a[c][o-1]);n+=String.fromCharCode(42);for(var i=7;i<=12;i++)n+=String.fromCharCode(Number(e.substr(i,1))+97);return n+String.fromCharCode(43)}(r),n.a.createElement("span",{className:e.delBc}))}))),n.a.createElement("input",{name:"barcodes",type:"text",defaultValue:e.bc,onChange:e.handleChange,onBlur:e.handleBlur,disabled:e.disabled}),n.a.createElement("span",{className:e.addBc})))},ge=function(e){return n.a.createElement("div",{className:e.divPicture,onClick:e.pictureClick},n.a.createElement("img",{id:e.photo,className:e.className,src:"/images/Price/".concat(e.photo),alt:"no",tabIndex:"-1"}),n.a.createElement("span",null))},Ee=r(110),ye=r.n(Ee);var Oe=function(e){var t,r;return e.placeholder?(t=e.placeholder,r=ye.a.wrong):(t="add new ...",r=""),n.a.createElement("textarea",{name:e.name,onChange:e.onChange,onBlur:e.onBlur,onKeyDown:e.onKeyDown,ref:e.refrence,wrap:"hard",value:e.value,placeholder:t,className:r,autoFocus:!0})},_e=function(e){var t=e.photo;return n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{className:se.a["big-img"],src:t,alt:"no",tabIndex:"-1",style:{display:"inline-block",height:"60vh",position:"fixed",top:"10vh",left:"30vw",verticalAlign:"middle"}}),n.a.createElement("span",null))},je=function(e){var t=e.pid,r=!e.formData.id,c=n.a.createRef(),o=Object(a.useState)(Object(w.a)(Object(w.a)({},e.formData),{},{allow_edit:r,parent_id:t,isNewData:r,bigImg:null,currentBarcode:""})),i=Object(d.a)(o,2),u=i[0],s=i[1];if(u.code||de().then((function(e){return s(Object(w.a)(Object(w.a)({},u),{},{code:e}))})),e.formError){var l=e.formError;alert(l.message),e.setFormError(null)}var p,m=!r&&!u.allow_edit,f=function(e){return isFinite(e)?Number(e).toFixed(2):"0.00"},b=function(e){var t=e.target,r=t.name,a=t.value;if(t.classList.remove(se.a.required),"barcodes"===r)return u.barcodes.includes(a)?void alert("Barcode ".concat(a," is exist in this product!")):void s(Object(w.a)(Object(w.a)({},u),{},{currentBarcode:a}));if("picture"===r){var n=u.photos;return Array.from(c.current.files).forEach((function(e){n.push(e.name)})),void s(Object(w.a)(Object(w.a)({},u),{},{photos:n}))}if("allow_edit"===r){var o=document.getElementById(se.a["form-product"]);Object.values(o.elements).forEach((function(e){e.disabled&&e.id!==se.a.uuid&&e.removeAttribute("disabled")})),s(Object(w.a)(Object(w.a)({},u),{},{allow_edit:!0})),o.allow_edit.parentNode.remove()}else s(Object(w.a)(Object(w.a)({},u),{},Object(ie.a)({},r,a)))},v=function(e){var t=e.target.name||e.currentTarget.name,r=e.target.value||e.currentTarget.value;if("barcodes"===t){var a;if(!r){var n=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0435\u0444\u0438\u043a\u0441!\r\n\n          \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 4 \u0446\u0438\u0444\u0440\u044b \u0418\u041d\u041d.\r\n\n          \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e -> '0000'","7321");if(a=function(e){var t="20".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0000")+"0".repeat(6-e.toString().length)+e.toString(),r=0;return t.split("").forEach((function(e,t){r+=t%2!==0?3*Number(e):Number(e)})),r=(10-r%10)%10,t.concat(r)}(u.code,n),u.barcodes.includes(a))return void console.warn("Barcode ".concat(a," is Exist!"))}var c=pe(r||a);if(0!==c)return void window.alert(c);var o=[].concat(Object(oe.a)(u.barcodes),[u.currentBarcode||a]);return s(Object(w.a)(Object(w.a)({},u),{},{barcodes:o})),void(e.target.value="")}"price"!==t&&"cost_price"!==t||(r=isFinite(r)?Number(r):0),s(Object(w.a)(Object(w.a)({},u),{},Object(ie.a)({},t,r))),e.target.value=f(r)},h=function(t){if(t.preventDefault(),t.stopPropagation(),u.allow_edit&&function(){var t=[];for(var r in e.formData)u[r]!==e.formData[r]&&t.push(Object(ie.a)({},r,u[r]));return 1===t.length&&t[0].code&&(t=[]),t.length}()&&window.confirm("Save changes")){var r=Object(w.a)({},u);"0"!==r.parent_id&&0!==r.parent_id||delete r.parent_id,delete r.createdAt,delete r.updatedAt,delete r.allow_edit,delete r.bigImg,delete r.currentBarcode,delete r.treeView;var a=function(e){var t=["type","name","price","measure_name","tax","allow_to_sell"],r=[];return Object.keys(e).forEach((function(a){!e[a]&&t.includes(a)&&r.push(a)})),r}(r);if(a.length){var n="";return a.forEach((function(e){n+=" ".concat(e,","),document.getElementsByName(e).forEach((function(e){e.classList.add(se.a.required)}))})),n.slice(-1),void alert("\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:\n\r".concat(n,"!"))}!function(e,t){for(var r in e)(null===e[r]||void 0===e[r])&&delete e[r]}(r,e.formData),u.isNewData||(r.id=u.id),delete r.isNewData,alert(JSON.stringify(r,null,2));var c=0;if(Object.keys(r).forEach((function(e){return c++})),c<=1)return void alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438\u0441\u044c!");var o=u.isNewData?"post":"put";e.postFormData("product",o,r),e.toggleFormPost(!0)}else e.setFormData(),e.setViewForm(!1);document.body.style.overflow="auto"},g=function(e,t){var r=u[t].findIndex((function(t){return t===e})),a=u[t];a.splice(r,1),s(Object(w.a)(Object(w.a)({},u),{},Object(ie.a)({},t,a)))},E=Object(a.useState)(t),y=Object(d.a)(E,2),O=y[0],_=y[1],j=Object(a.useState)(!1),x=Object(d.a)(j,2),k=x[0],N=x[1],S={groups:e.groups,disabled:m,parent_id:O,onClick:function(){N(!k)},onBlurGroup:function(){s(Object(w.a)(Object(w.a)({},u),{},{parent_id:O}))},treeView:k,classDiv:se.a["g-tree"],classTree:se.a.tree,callbackTree:function(e){_(e||0)},closeTree:function(e){"I"===e.target.tagName&&(s(Object(w.a)(Object(w.a)({},u),{},{parent_id:O})),N(!1))}},C={disabled:m,handleChange:b,id:se.a.measure_name,measure_name:u.measure_name},T={disabled:m,handleChange:b,id:se.a.type,type:u.type},I={disabled:m,handleChange:b,id:se.a.tax,tax:u.tax},L={barcodes:u.barcodes,bc:u.currentBarcode,addBc:se.a["add-bc"],delBc:se.a["del-bc"],handleChange:b,handleBlur:v,deleteFromArray:g,allow_edit:u.allow_edit,disabled:m,view_barcode:se.a["view-barcode"]},F={id:se.a.picture,className:se.a["picture-small"],divPicture:se.a["div-picture"],pictureClick:function(e){var t=e.target;if("SPAN"!==t.tagName)t.addEventListener("blur",(function(){s(Object(w.a)(Object(w.a)({},u),{},{bigImg:null})),t.removeEventListener("blur",undefined)})),s(Object(w.a)(Object(w.a)({},u),{},{bigImg:t.src}));else{if(!u.allow_edit)return;var r=t.previousElementSibling;g(r.id,"photos")}}};return e.formPost?n.a.createElement(te,null):n.a.createElement(n.a.Fragment,null,u.bigImg&&n.a.createElement(ce,{form:n.a.createElement(_e,{photo:u.bigImg})}),n.a.createElement("form",{id:se.a["form-product"],onSubmit:h},n.a.createElement("div",{className:se.a["menu-buttons"]},n.a.createElement("span",{className:"fa fa-window-close",onClick:h})),n.a.createElement("fieldset",{name:"Product"},n.a.createElement("legend",null,"Product Info"),n.a.createElement("div",null,n.a.createElement("b",null,"ID: "),n.a.createElement("input",{id:se.a.uuid,value:u.id||"",disabled:!r,onChange:b}),u.isNewData?null:n.a.createElement("label",null,"Allow Edit:",n.a.createElement("input",{type:"checkbox",id:se.a["allow-edit"],name:"allow_edit",checked:u.allow_edit,onChange:b}))),n.a.createElement("div",null,(null===(p=u.photos)||void 0===p?void 0:p.length)?u.photos.map((function(e){return n.a.createElement(ge,Object.assign({},F,{photo:e,key:e}))})):n.a.createElement("div",null,n.a.createElement("img",{src:R,alt:"NoPhotos",className:se.a["picture-small"]}))),u.photo||!u.allow_edit?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"file",name:"picture",id:"picInput",multiple:!0,onChange:b,ref:c,style:{display:"none"}}),n.a.createElement("label",{htmlFor:"picture",onClick:function(e){e.preventDefault(),document.getElementById("picInput").click()}},"Input Image")),n.a.createElement(he,L),n.a.createElement("div",{className:se.a.code_article},n.a.createElement("label",null,"Code:"),n.a.createElement("input",{type:"text",name:"code",value:u.code,onChange:b,disabled:m}),n.a.createElement("label",null,"Aticle:"),n.a.createElement("input",{type:"text",name:"article_number",value:u.article_number||"",onChange:b,disabled:m})),n.a.createElement("div",{className:se.a.propertyes},n.a.createElement(me,C),n.a.createElement(fe,T),n.a.createElement(be,I)),n.a.createElement(ve,S),n.a.createElement("label",null,"Name:",n.a.createElement(Oe,{name:"name",value:u.name,placeholder:"Input name ...",onChange:b,disabled:m})),n.a.createElement("label",null,"Description:",n.a.createElement("input",{type:"text",name:"description",value:u.description||"",onChange:b,disabled:m})),n.a.createElement("div",{className:se.a.prices},n.a.createElement("label",{htmlFor:"price"},"Price:"),n.a.createElement("input",{name:"price",defaultValue:f(u.price),className:se.a.price,onBlur:v,onChange:b,disabled:m}),n.a.createElement("span",null),n.a.createElement("label",{htmlFor:"cost_price"},"Cost Price:"),n.a.createElement("input",{name:"cost_price",defaultValue:f(u.cost_price),className:se.a.price,onBlur:v,disabled:m}),n.a.createElement("span",null),n.a.createElement("label",null,"Allow to sell:"),n.a.createElement("input",{type:"checkbox",name:"allow_to_sell",defaultChecked:u.allow_to_sell,disabled:m}))),n.a.createElement("div",{className:se.a.buttons},n.a.createElement("input",{type:"submit",value:"Ready"}),n.a.createElement("button",{id:se.a.cansel,onClick:function(t){e.setViewForm(!1),e.setFormData(null),document.body.style.overflow="auto"}},"Cansel"))))},xe=function(e){e.isLoaded||(e.setPid("0"),e.getGroups()),e.comIsLoaded||e.getProducts(e.pid),e.error&&(alert("".concat(e.error.name,"\n\r").concat(e.error.message)),e.setError(null));return e.error?n.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430...",e.error.message):e.isLoaded?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:z.a.head},n.a.createElement("div",{className:z.a.buttons},n.a.createElement("button",{onClick:function(){e.getProductId("")}},"New Product"))),e.viewForm?n.a.createElement(ce,{form:n.a.createElement(je,{groups:e.groups,formData:e.formData,formPost:e.formPost,formError:e.formError,setViewForm:e.setViewForm,setFormData:e.setFormData,toggleFormPost:e.toggleFormPost,postFormData:e.postFormData,setFormError:e.setFormError,pid:e.pid})}):null,n.a.createElement("div",{className:z.a.container},n.a.createElement($,{data:e.groups,price:"Price",treeLabel:"Groups",callback:function(t){e.pid!==t&&e.setPid(t)},pId:e.pid}),n.a.createElement("div",{className:z.a.list},n.a.createElement("h3",null,"Commodities"),n.a.createElement(re,{commodities:e.commodities,comIsLoaded:e.comIsLoaded,error:e.error,getProductId:e.getProductId,deleteProduct:e.deleteProduct,pid:e.pid})))):n.a.createElement(te,null)},we=r(8);function ke(){return(ke=Object(s.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return we.headers["X-Authorization"]=localStorage.appKey,t.storeUuid=localStorage.storeKey,we.params=t.cursor?{cursor:t.cursor}:null,r=Ne(t),e.abrupt("return",Object(w.a)(Object(w.a)({},r),{},{action:t.type}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){var t,r,a,n;switch(e.type){case"store_v2":return t="stores",Object(w.a)(Object(w.a)({},we),{},{method:"GET",url:t});case"bulks_v1":return t=e.value?"bulks/"+e.value:"bulks",Object(w.a)(Object(w.a)({},we),{},{method:"GET",url:t});case"products_v2":return r="GET",t="stores/"+e.storeUuid+"/products",e.value&&(t+="/"+e.value,e.value=""),Object(w.a)(Object(w.a)({},we),{},{method:r,url:t});case"groups_v2":return r="GET",e.value?(t="stores/"+e.storeUuid+"/product-groups/"+e.value,e.value=""):t="stores/"+e.storeUuid+"/product-groups",Object(w.a)(Object(w.a)({},we),{},{method:r,url:t});case"documents_v2":if(r="GET",e.value)t="stores/"+e.storeUuid+"/documents/"+e.value;else if(t="stores/"+e.storeUuid+"/documents",!we.cursor){var c=new Date;c.setMonth(c.getMonth()-1),t+="?since=".concat(c.getTime(),"&type=SELL")}return Object(w.a)(Object(w.a)({},we),{},{method:r,url:t});case"put_product_v2":return r="PUT",t="stores/"+e.storeUuid+"/products/"+e.body.id,a=JSON.stringify(e.body),Object(w.a)(Object(w.a)({},we),{},{method:r,url:t,body:a});case"post_product_v2":return r="POST",t="stores/"+e.storeUuid+"/products",a=JSON.stringify(e.body),Object(w.a)(Object(w.a)({},we),{},{method:r,url:t,body:a});case"delete_product_v2":return r="DELETE",t="stores/"+e.storeUuid+"/products/"+e.id,Object(w.a)(Object(w.a)({},we),{},{method:r,url:t});case"put_array_products_v2":return e.body&&e.body.length?(r="PUT",n=Object(w.a)(Object(w.a)({},we.headers),{},{"Content-Type":"application/vnd.evotor.v2+bulk+json"}),t="stores/"+e.storeUuid+"/products",a=JSON.stringify(e.body),Object(w.a)(Object(w.a)({},we),{},{method:r,headers:n,url:t,body:a})):{};case"put_array_groups_v2":return r="PUT",n=Object(w.a)(Object(w.a)({},we.headers),{},{"Content-Type":"application/vnd.evotor.v2+bulk+json"}),t="stores/"+e.storeUuid+"/product-groups",a=JSON.stringify(e.body),Object(w.a)(Object(w.a)({},we),{},{method:r,headers:n,url:t,body:a})}}var Se=function(e){return ke.apply(this,arguments)},Ce=r(111),Te=r.n(Ce);function Ie(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(s.a)(u.a.mark((function e(t){var r,a,n,c,o,i,s,l,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.baseURL,a=t.url,n=t.headers,c=t.method,o=t.body,i=t.params,t.action,e.prev=1,s={baseURL:r,url:a,headers:n,method:c,params:i},o&&(s.data=o),e.next=6,Te()(s);case 6:if(l=e.sent,"DELETE"!==c){e.next=11;break}d=l,e.next=14;break;case 11:return e.next=13,l.data;case 13:d=e.sent;case 14:if(!d.paging||!d.paging.next_cursor){e.next=20;break}return s.params={cursor:d.paging.next_cursor},e.next=18,Ie(s);case 18:p=e.sent,d.items=d.items.concat(p.items);case 20:return d.paging={},e.abrupt("return",d);case 24:return e.prev=24,e.t0=e.catch(1),e.abrupt("return",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})))).apply(this,arguments)}var Fe=Ie,De={getStores:function(){return Object(s.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se({type:"store_v2"});case 2:return t=e.sent,e.next=5,Fe(t);case 5:return r=e.sent,e.abrupt("return",r.items);case 7:case"end":return e.stop()}}),e)})))()},getGroupsEvo:function(){return Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se({type:"groups_v2"});case 2:return t=e.sent,e.next=5,Fe(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()},getProductsEvo:function(){return Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se({type:"products_v2"});case 2:return t=e.sent,e.next=5,Fe(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()},postData:function(e,t){return Object(s.a)(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Se({type:"post_".concat(e,"_v2"),body:t});case 2:return a=r.sent,r.next=5,Fe(a);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},putData:function(e,t){return Object(s.a)(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Se({type:"put_".concat(e,"_v2"),body:t});case 2:return a=r.sent,r.next=5,Fe(a);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},deleteData:function(e,t){return Object(s.a)(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Se({type:"delete_".concat(e,"_v2"),id:t});case 2:return a=r.sent,r.next=5,Fe(a);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()}},Pe=r(68);function Ae(){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pe.b)("Evo",2,{upgrade:function(e,t,r){return Object(s.a)(u.a.mark((function a(){var n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t<r&&console.log("New version: ".concat(r)),e.objectStoreNames.contains("groups")||((n=e.createObjectStore("groups",{keyPath:"id"})).createIndex("name","name"),n.createIndex("date","created_at")),e.objectStoreNames.contains("products")||((c=e.createObjectStore("products",{keyPath:"id"})).createIndex("name","name"),c.createIndex("date","created_at"),c.createIndex("parent_id","parent_id"),c.createIndex("code","code"),c.createIndex("price","price"));case 3:case"end":return a.stop()}}),a)})))()}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(s.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:if(r=e.sent,"all"!==t){e.next=9;break}return e.next=6,r.getAll("groups");case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,r.get("groups",t);case 11:a=e.sent;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(s.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:if(r=e.sent,"all"!==t){e.next=9;break}return e.next=6,r.getAll("products");case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,r.get("products",t);case 11:a=e.sent;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(s.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:return r=e.sent,e.next=5,r.getAllFromIndex("products","parent_id",t);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(s.a)(u.a.mark((function e(t,r){var a,n,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r.forEach((function(e){a.push(e)})),e.next=4,Ae();case 4:return n=e.sent,c=n.transaction(t,"readwrite"),(o=a.map((function(e){return c.store.put(e)}))).push(c.done),e.next=10,Promise.all(o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return He.apply(this,arguments)}function He(){return(He=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pe.a)(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(s.a)(u.a.mark((function e(t,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:return a=e.sent,e.next=5,a.put(t,r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(s.a)(u.a.mark((function e(t,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:return a=e.sent,e.next=5,a.delete(t,r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=r(51),Ze=function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return r}(Object(Ye.a)(Error)),Qe=function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(p.a)(this,r),(e=t.call(this,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445:\n\r ".concat(a[0].message))).name="SequelizeValidationError",e.errors=a,e}return r}(Ze),$e=function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(p.a)(this,r),(e=t.call(this,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0430:\n        ".concat(a[0].path,": ").concat(a[0].value,"\n        \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 PUT"))).name="SequelizeUniqueConstraintError",e.errors=a,e}return r}(Ze),et=function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(e){var a;Object(p.a)(this,r);var n=e.message;return e.errors.forEach((function(e){n+="\n".concat(e.subject.toUpperCase()," -> ").concat(e.reason)})),(a=t.call(this,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u043e\u0431\u043b\u0430\u043a\u043e!\n".concat(n))).name="EvoValidationError",a.errors=e.errors,a}return r}(function(e){Object(f.a)(r,e);var t=Object(b.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return r}(Object(Ye.a)(Error))),tt=function(e){var t=e.response;return"SequelizeValidationError"===t.data.name?new Qe(t.data.errors):"SequelizeUniqueConstraintError"===t.data.name?new $e(t.data.errors):"validation_failed"===t.data.name?new et({message:t.data.message,errors:t.data.errors}):new Error(t.data.message)},rt="GET-GROUPS",at="SET-PID",nt="GET-COMMODITIES",ct="SET-ERROR",ot="UPDATE-COMMODITY",it="SET-UPDATED",ut="VIEW-FORM",st="SET-FORM-DATA",lt="TOGGLE-FORM-POST",dt="SET-FORM-ERROR",pt=function(e){return{type:at,pid:e}},mt=function(e){return{type:ct,error:e}},ft=function(e){return{type:dt,error:e}},bt=function(e){return{type:ut,viewForm:e}},vt=function(e){return e=null===e?gt.form.formData:e,{type:st,formData:e}},ht=function(e){return{type:lt,formPost:e}},gt={groups:[],commodities:[],pid:null,isLoaded:!1,comIsLoaded:!1,error:null,lastUpdate:15851664e5,isUpdated:!1,viewForm:!1,form:{formData:{id:null,name:"",code:"",measure_name:"\u0448\u0442",tax:"NO_VAT",allow_to_sell:!0,description:"",article_number:"",type:"NORMAL",price:0,cost_price:0,quantity:0,photos:[],barcodes:[]},formPost:!1,resMessage:null,formError:null}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:var r=[];return t.groups.forEach((function(e){var t={id:e.id,pid:e.parent_id?e.parent_id:null,label:e.name};r.push(t)})),Object(w.a)(Object(w.a)({},e),{},{groups:r,isLoaded:!0});case at:return Object.assign({},e,{pid:t.pid,comIsLoaded:!1});case nt:var a=[];return t.commodities.forEach((function(e){var t={uuid:e.id,code:e.code,label:e.name,price:e.price};a.push(t)})),Object.assign({},e,{commodities:a,comIsLoaded:!0});case ct:return Object.assign({},e,{error:t.error});case dt:return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{formError:t.error})});case ot:var n=Date.now();return n=e.updateOk?Date.now():e.lastUpdate,Object(w.a)(Object(w.a)({},e),{},{lastUpdate:n});case it:return Object(w.a)(Object(w.a)({},e),{},{isUpdated:t.update});case ut:return Object(w.a)(Object(w.a)({},e),{},{viewForm:t.viewForm});case lt:return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{formPost:t.formPost})});case st:return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{formData:t.formData})});default:return e}},yt=r(22),Ot=Object(yt.d)(Object(j.b)((function(e){return{isLoaded:(e=e.commodityPage).isLoaded,groups:e.groups,price:"Price",pid:e.pid,commodities:e.commodities,comIsLoaded:e.comIsLoaded,error:e.error,viewForm:e.viewForm,formData:e.form.formData,formPost:e.form.formPost,formError:e.form.formError}}),{getGroups:function(){return function(e){qe("all").then((function(t){var r=t.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{pid:e.parent_id?e.parent_id:null,label:e.name})}));e(function(e){return{type:rt,groups:e}}(r))}))}},getProducts:function(e){return function(t){(function(e){return Ue.apply(this,arguments)})(e).then((function(e){return t({type:nt,commodities:e})}))}},setPid:function(e){return function(t){t(pt(e))}},setViewForm:function(e){return function(t){return t(bt(e))}},getProductId:function(e){return e?function(t){Me(e).then((function(e){return t(vt(e)),!0})).then((function(e){e&&t(bt(!0))}))}:function(e){return e(bt(!0))}},deleteProduct:function(e,t){return function(){var r=Object(s.a)(u.a.mark((function r(a){var n;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,De.deleteData("product",e);case 3:return n=r.sent,console.log(n.status),r.next=7,We("products",e);case 7:return a(pt(t)),r.abrupt("return",e);case 11:r.prev=11,r.t0=r.catch(0),console.dir(r.t0),a(mt(tt(r.t0)));case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},setFormData:function(e){return function(t){e=e||gt.form.formData,t(vt(e))}},toggleFormPost:function(e){return function(t){return t(ht(e))}},postFormData:function(e,t,r){return function(a){var n,c;switch(e){case"product":n="product";break;case"group":n="group";break;default:n="product"}switch(t){case"post":c=De.postData;break;case"put":c=De.putData;break;default:c=De.postData}c(n,r).then((function(e){return function(e,t){Je.apply(this,arguments)}("".concat(n,"s"),e),e})).then((function(e){return console.log(e),e.parent_id})).then((function(e){a(ht(!1)),a(bt(!1)),a(vt(gt.form.formData)),a(pt(e||0))})).catch((function(e){console.dir(e),a(ft(tt(e))),a(ht(!1))}))}},setFormError:function(e){return function(t){return t(ft(e))}},setError:function(e){return function(t){return t(mt(e))}}}))(xe),_t=r(42),jt=r.n(_t),xt=function(e){var t;return t=n.a.createElement("div",null,e.name,n.a.createElement("hr",null),e.description,n.a.createElement("hr",null),e.article),n.a.createElement("article",{className:jt.a.article},n.a.createElement("h3",null,e.index),t)},wt=r(206),kt=function(e){var t=Object(a.useState)([]),r=Object(d.a)(t,2),c=r[0],o=r[1],i=[];return n.a.createElement("div",{className:jt.a.page},n.a.createElement("input",{type:"file",id:"input",onChange:function(e){return function(e){Object(wt.a)(e.target.files[0]).then((function(e){e.forEach((function(e,t){if(t){var r=n.a.createElement(xt,{index:e[3],key:e[0],name:e[1],description:e[8],article:e[9]});i.push(r)}}))})).then((function(){o(i)}))}(e)}}),n.a.createElement("h1",null,"LATEST NEWS"),n.a.createElement("div",{className:jt.a.archive},c))},Nt=function(e){var t=e.count;return Object(a.useEffect)((function(){return console.log("render - "+t),function(){console.log("unmount - "+t)}}),[t]),n.a.createElement("div",null,"example: ",t)},St=function(e){var t=Object(a.useState)(0),r=Object(d.a)(t,2),c=r[0],o=r[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:function(){return o(c+1)}},c),c<5&&n.a.createElement(Nt,{count:c}),c<5&&n.a.createElement(Nt,{count:-1}))},Ct=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),r=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(d.a)(o,2),l=i[0],p=i[1];function m(){return(m=Object(s.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t);case 2:r=e.sent,console.log(r),alert(JSON.stringify(r,null,2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(s.a)(u.a.mark((function e(){var t,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,De.getGroupsEvo();case 3:return t=e.sent,console.log(t),e.next=7,t.items;case 7:return r=e.sent,e.next=10,Ge("groups",r);case 10:return e.next=12,qe("all");case 12:(a=e.sent).forEach((function(e){e.pid=e.parent_id?e.parent_id:null,e.label=e.name})),c(a),p(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"IDB Test"),n.a.createElement("button",{onClick:function(){return function(){return f.apply(this,arguments)}()},disabled:l},"get Groups Evo"),l&&n.a.createElement("p",null,"Loading..."),!!r.length&&n.a.createElement($,{data:r,price:"Price",treeLabel:"Groups",callback:function(e){return m.apply(this,arguments)}}))},Tt="SET-APP-KEY",It="SET-STORE-KEY",Lt="INIT-APP",Ft="SET-STORES",Dt=function(e){return{type:Tt,key:e}},Pt=function(e){return{type:It,key:e}},At={appKey:null,storeKey:null,isInit:!1,stores:[]},Kt=function(e){return function(t){return t(Dt(e))}},qt=function(e){return function(t){return t(Pt(e))}},Bt=function(e){return function(t){return t(function(e){return{type:Lt,init:e}}(e))}},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:return Object(w.a)(Object(w.a)({},e),{},{appKey:t.key});case It:return Object(w.a)(Object(w.a)({},e),{},{storeKey:t.key});case Lt:return Object(w.a)(Object(w.a)({},e),{},{isInit:t.init});case Ft:return Object(w.a)(Object(w.a)({},e),{},{stores:Object(oe.a)(t.stores)});default:return e}};function Rt(e){var t=JSON.stringify(e,null,2);return new Blob([t],{type:"application/json"})}function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"test",r=document.createElement("a");r.download="".concat(t,".json"),r.href=URL.createObjectURL(e),r.click(),URL.revokeObjectURL(r.href)}function Gt(){for(var e={},t=0,r=Object.keys(localStorage);t<r.length;t++){var a=r[t];e[a]=localStorage.getItem(a)}return e}function Vt(){return zt.apply(this,arguments)}function zt(){return(zt=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,qe("all");case 3:return t.groups=e.sent,e.next=6,Me("all");case 6:return t.products=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(s.a)(u.a.mark((function e(t){var r,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.type,a=t.fileName,n=void 0===a?"config":a,c={},e.t0=r,e.next="config"===e.t0?5:"commodities"===e.t0?7:11;break;case 5:return c.config=Gt(),e.abrupt("break",13);case 7:return e.next=9,Vt();case 9:return c.commodities=e.sent,e.abrupt("break",13);case 11:return c.config=Gt(),e.abrupt("break",13);case 13:Ut(Rt(c),n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(s.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.files[0],(a=new FileReader).readAsText(r),e.abrupt("return",new Promise((function(e,t){a.onload=function(){var t=JSON.parse(a.result);e(t)},a.onerror=function(){console.error(a.error),t(a.error)}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e){var t=document.getElementById(e).value;if(t)return window.localStorage[e]=t,t}var Zt=Object(j.b)((function(e){return{appKey:e.app.appKey,storeKey:e.app.storeKey,isInit:e.app.isInit,stores:e.app.stores}}),{setAppKey:Kt,setStoreKey:qt,setStores:function(e){return function(t){return t(function(e){return{type:Ft,stores:e}}(e))}},initApp:Bt})((function(e){var t=n.a.createRef();function r(){return(r=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht({fileName:"backup_config_".concat((new Date).toJSON())});case 2:console.log("File with data saved");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){return c.apply(this,arguments)}function c(){return(c=Object(s.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.appKey=r,e.setAppKey(r),t.prev=2,t.next=5,De.getStores();case 5:a=t.sent,e.setStores(a),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),delete localStorage.appKey,e.setAppKey(null),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}function o(){return(o=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Yt("appKey")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(t){var r=t.target.id;localStorage.storeKey=r,e.setStoreKey(r)}function l(){return(l=Object(s.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.clear(),t.next=3,ze(r);case 3:e.setAppKey(null),e.setStoreKey(null),e.initApp(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return(d=Object(s.a)(u.a.mark((function r(){var n,c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.current,r.next=3,Wt(n);case 3:return c=r.sent.config,r.next=6,a(c.appKey);case 6:localStorage.storeKey=c.storeKey,e.setStoreKey(c.storeKey);case 8:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return n.a.createElement("div",null,n.a.createElement("h1",null,"MAIN"),!e.appKey&&n.a.createElement("div",null,n.a.createElement("input",{id:"appKey"}),n.a.createElement("button",{onClick:function(){return o.apply(this,arguments)}},"AddAppKey")),!!e.appKey&&!e.isInit&&n.a.createElement("p",null,e.appKey),e.appKey&&!!e.stores.length&&!e.storeKey&&n.a.createElement("div",{style:{cursor:"pointer"}},"Select store",n.a.createElement("ul",null,e.stores.map((function(e){return n.a.createElement("li",{key:e.id,id:e.id,onClick:i},e.id,": ",e.name)})))),!!e.storeKey&&!e.isInit&&n.a.createElement("p",null,e.storeKey),e.isInit&&n.a.createElement("h2",null,"App Is Initialized"),e.isInit&&n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return function(e){return l.apply(this,arguments)}("Evo")}},"cleare Storage"),n.a.createElement("button",{onClick:function(){return r.apply(this,arguments)}},"Save Config")),!e.isInit&&n.a.createElement("label",null,"Restore config",n.a.createElement("input",{type:"file",ref:t,onChange:function(){return d.apply(this,arguments)},hidden:!0})))}));function Qt(){return(Qt=Object(s.a)(u.a.mark((function e(){var t,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.getGroupsEvo();case 2:return t=e.sent,e.next=5,t.items;case 5:return r=e.sent,e.next=8,Ge("groups",r);case 8:return e.next=10,De.getProductsEvo();case 10:return t=e.sent,e.next=13,t.items;case 13:return a=(a=e.sent).map((function(e){return e.parent_id||(e.parent_id="0"),e.barcodes||(e.barcodes=[]),e})),e.next=17,Ge("products",a);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $t=Object(j.b)((function(e){return{appKey:e.app.appKey,storeKey:e.app.storeKey,isInit:e.app.isInit}}),{initializeApp:function(){return function(e){localStorage.appKey&&(e(Dt(localStorage.appKey)),localStorage.storeKey&&e(Pt(localStorage.storeKey)))}},initApp:Bt,setAppKey:Kt,setStoreKey:qt})((function(e){return e.isInit||e.initializeApp(),e.appKey&&e.storeKey&&!e.isInit&&function(){return Qt.apply(this,arguments)}().then((function(t){return e.initApp(!0)})),n.a.createElement("div",{className:"app"},n.a.createElement(G,null),n.a.createElement(F,null),n.a.createElement("div",{className:"app-content"},n.a.createElement(l.a,{exact:!0,path:"/",component:Zt}),n.a.createElement(l.a,{path:"/example",component:St}),n.a.createElement(l.a,{path:"/muzik",component:M}),n.a.createElement(l.a,{path:"/commodity",component:Ot}),n.a.createElement(l.a,{path:"/game",component:E}),n.a.createElement(l.a,{path:"/table",component:kt}),n.a.createElement(l.a,{path:"/test",component:Ct})))})),er=r(115),tr=Object(yt.c)({navigation:T,commodityPage:Et,muzik:B,app:Mt}),rr=Object(yt.e)(tr,Object(yt.a)(er.a));o.a.render(n.a.createElement(j.a,{store:rr},n.a.createElement(x.a,null,n.a.createElement($t,null))),document.getElementById("root")),window.store=rr,window.apiForIdb=De},24:function(e,t,r){e.exports={container:"Commodity_container__1LqhZ",list:"Commodity_list__QqPvi",selected:"Commodity_selected__3W-at",buttons:"Commodity_buttons__SywLo",del:"Commodity_del__tLEa_",head:"Commodity_head__ntAD9"}},27:function(e,t,r){e.exports={tree:"Tree_tree__1H_Cp",selected:"Tree_selected__23aTD"}},35:function(e,t,r){e.exports={container:"Muzik_container__18qw7",item:"Muzik_item__2RdRO",textdiv:"Muzik_textdiv__1lKKu",text:"Muzik_text__24yDA",result:"Muzik_result__3JF2L"}},4:function(e,t,r){e.exports={"form-product":"Form_form-product__2bDsP",uuid:"Form_uuid__3ZUEM",barcodes:"Form_barcodes__3eXqh","g-tree":"Form_g-tree__3WZeo",tree:"Form_tree__1spfl",price:"Form_price__1jjy1","picture-small":"Form_picture-small__20BDG","div-picture":"Form_div-picture__1k6r1",select:"Form_select__2MzES",buttons:"Form_buttons__2RRN8","big-img":"Form_big-img__1Na6j","view-barcode":"Form_view-barcode__1VWps","del-bc":"Form_del-bc__14rW3","add-bc":"Form_add-bc__ciQtv","menu-buttons":"Form_menu-buttons__w0Smx",required:"Form_required__OxjrS",propertyes:"Form_propertyes__3Rs1K"}},42:function(e,t,r){e.exports={image:"ImpExcel_image__mhHMd",page:"ImpExcel_page__2mpyc",archive:"ImpExcel_archive__3N_96",article:"ImpExcel_article__1V_lv"}},43:function(e,t,r){e.exports={"cover-div":"FormModalWrapper_cover-div__37lKS",container:"FormModalWrapper_container__3gLRJ"}},52:function(e){e.exports=JSON.parse('{"measure_names":["","\u0448\u0442","\u043a\u0433","\u043b","\u043c","\u043a\u043c","\u043c2","\u043c3","\u043a\u043e\u043c\u043f\u043b","\u0443\u043f\u0430\u043a","\u0435\u0434","\u0434\u0440\u043e\u0431"],"types":[{"type":"NORMAL","description":"\u043e\u0431\u044b\u0447\u043d\u044b\u0439"},{"type":"ALCOHOL_MARKED","description":"\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c"},{"type":"ALCOHOL_NOT_MARKED","description":"\u043d\u0435\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c"},{"type":"TOBACCO_MARKED","description":"\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0430\u0431\u0430\u043a"},{"type":"SHOES_MARKED","description":"\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u043e\u0431\u0443\u0432\u044c"},{"type":"MEDICINE_MARKED","description":"\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430"},{"type":"SERVICE","description":"\u0443\u0441\u043b\u0443\u0433\u0430"}],"taxes":[{"tax":"NO_VAT","description":"\u0431\u0435\u0437 \u041d\u0414\u0421"},{"tax":"VAT_0","description":"\u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 0%"},{"tax":"VAT_10","description":"\u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 10%"},{"tax":"VAT_10_110","description":"\u0440\u0430\u0441\u0447\u0451\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 10%"},{"tax":"VAT_18","description":"\u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 18%. \u0421 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u044f\u043d\u0432\u0430\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 20%"},{"tax":"VAT_18_118","description":"\u0440\u0430\u0441\u0447\u0451\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 18%. \u0421 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u044f\u043d\u0432\u0430\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 20%"}]}')},64:function(e,t,r){e.exports={item:"Navbar_item__Gmt0s",active:"Navbar_active__1akZn"}},8:function(e){e.exports=JSON.parse('{"baseURL":"https://api.evotor.ru/","url":"","headers":{"Accept":"application/vnd.evotor.v2+json","Content-Type":"application/vnd.evotor.v2+json","X-Authorization":""}}')}},[[204,1,2]]]);
//# sourceMappingURL=main.d9720d05.chunk.js.map