(this["webpackJsonpevo-react"]=this["webpackJsonpevo-react"]||[]).push([[0],{11:function(e,t,r){e.exports={"form-container":"FormSearch_form-container__nL_jW","form-search":"FormSearch_form-search__4Tbhm",search:"FormSearch_search__36Xnu","search-name":"FormSearch_search-name__1V_P8","form-search-row":"FormSearch_form-search-row__3xK21","filter-button":"FormSearch_filter-button__1-GiX",filter:"FormSearch_filter__3iscQ",hidden:"FormSearch_hidden__2u_sA","form-search-price":"FormSearch_form-search-price__9GTdv","form-search-date":"FormSearch_form-search-date__1G6F-","price-row":"FormSearch_price-row__2qDoM","date-row":"FormSearch_date-row__UbyR8","input-row":"FormSearch_input-row__2ZUZ8"}},114:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(25),i=r.n(c),s=r(3),o=r.n(s),u=r(5),l=(r(78),r(79),r(80),r(81),r(82),r(10)),d=r(4),p=r(19),b=r(46),j=r(20),f=r(21),m=(r(83),r(0));function h(e){return Object(m.jsx)("button",{className:e.className,onClick:e.onClick,children:e.value})}var O=function(e){Object(j.a)(r,e);var t=Object(f.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"renderSquare",value:function(e){var t=this,r=this.props.sq===e&&this.props.sqSel?"square selected":"square";return setTimeout((function(){return r="square"}),500),Object(m.jsx)(h,{value:this.props.squares[e],className:r,onClick:function(){return t.props.onClick(e)}},e)}},{key:"render",value:function(){for(var e=[],t=0;t<9;)for(var r=1;r<=3;r++){for(var n=[],a=1;a<=3;a++)n.push(this.renderSquare(t)),t++;e.push(Object(m.jsx)("div",{className:"board-row",children:n},r))}return Object(m.jsx)("div",{children:e})}}]),r}(a.a.Component);function v(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],r=function(r){var n=Object(d.a)(t[r],3),a=n[0],c=n[1],i=n[2];if(e[a]&&e[a]===e[c]&&e[a]===e[i])return document.querySelectorAll(".square").forEach((function(e,n){e.classList.remove("selected"),t[r].forEach((function(t){if(n===t){e.classList.toggle("selected");var r=setInterval((function(){e.classList.toggle("selected")}),500);setTimeout((function(){clearInterval(r),e.classList.remove("selected")}),3e3)}}))})),{v:e[a]}},n=0;n<t.length;n++){var a=r(n);if("object"===typeof a)return a.v}return null}var x=function(e){Object(j.a)(r,e);var t=Object(f.a)(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this,e)).state={history:[{squares:Array(9).fill(null),square:null}],xIsNext:!0,stepNumber:0},n}return Object(b.a)(r,[{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),r=t[t.length-1].squares.slice();v(r)||r[e]||(r[e]=this.state.xIsNext?"X":"O",this.setState({history:t.concat([{squares:r,square:e}]),stepNumber:t.length,xIsNext:!this.state.xIsNext}),document.querySelectorAll("li").forEach((function(e){e.firstElementChild.classList.remove("selected")})))}},{key:"jumpTo",value:function(e,t){var r=this;document.querySelectorAll("li").forEach((function(e){e.firstElementChild.classList.remove("selected")})),t.target.classList.toggle("selected"),this.setState({stepNumber:e,xIsNext:e%2===0}),this.setState({sqSel:!0}),setTimeout((function(){return r.setState({sqSel:!1})}),500)}},{key:"render",value:function(){var e,t=this,r=this.state.history,n=r[this.state.stepNumber],a=v(n.squares),c=r.map((function(e,r){var n=e.square;if(r)var a=" row: "+(Math.floor(n/3)+1)+" col: "+(n%3+1),c="Goto step #"+r;else c="Goto Start",a="";return Object(m.jsxs)("li",{children:[Object(m.jsx)("button",{onClick:function(e){return t.jumpTo(r,e)},children:c}),a]},r)}));return e=a?"Winner "+a:10===r.length?"X === O":"Next step "+(this.state.xIsNext?"X":"O"),Object(m.jsxs)("div",{className:"game",children:[Object(m.jsx)("h2",{children:"Game X vs O"}),Object(m.jsxs)("div",{className:"game-wrapper",children:[Object(m.jsx)("div",{className:"game-board",children:Object(m.jsx)(O,{squares:n.squares,onClick:function(e){return t.handleClick(e)},sqSel:this.state.sqSel,sq:n.square})}),Object(m.jsxs)("div",{className:"game-info",children:[Object(m.jsx)("div",{children:e}),Object(m.jsx)("ol",{children:c})]})]})]})}}]),r}(a.a.Component),g=r(2),_=r(12),y=r(23),k=r.n(y),N=r.p+"static/media/terminal-5.6357e026.png",w=function(e){var t=Object(n.useState)("_"),r=Object(d.a)(t,2),a=r[0],c=r[1];Object(n.useEffect)((function(){var t=e.limit,r=0,n=setInterval((function(){++r>t&&(r=0,c("_")),c((function(e){return e+"_"}))}),e.delay);return function(){return clearInterval(n)}}),[e.delay,e.limit]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{style:{display:"inline"},children:e.text}),Object(m.jsx)("span",{style:{backgroundColor:"blue",color:"blue"},children:a})]})},S=r(9);function E(){return(E=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.headers["X-Authorization"]=localStorage.appKey,t.storeUuid=localStorage.storeKey,S.params=t.cursor?{cursor:t.cursor}:null,r=C(t),e.abrupt("return",Object(g.a)(Object(g.a)({},r),{},{action:t.type}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t,r,n,a;switch(e.type){case"store_v2":return t="stores",Object(g.a)(Object(g.a)({},S),{},{method:"GET",url:t});case"bulks_v1":return t=e.value?"bulks/"+e.value:"bulks",Object(g.a)(Object(g.a)({},S),{},{method:"GET",url:t});case"get_schemes":return r="GET",t="/api/v1/inventories/stores/".concat(e.storeUuid,"/products/schemes"),Object(g.a)(Object(g.a)({},S),{},{method:r,url:t});case"post_schemes":return r="POST",t="/api/v1/inventories/stores/".concat(e.storeUuid,"/products/schemes"),Object(g.a)(Object(g.a)({},S),{},{method:r,url:t,body:JSON.stringify(e.body)});case"products_v2":return r="GET",t="stores/"+e.storeUuid+"/products",e.value&&(t+="/"+e.value,e.value=""),Object(g.a)(Object(g.a)({},S),{},{method:r,url:t});case"groups_v2":return r="GET",e.value?(t="stores/"+e.storeUuid+"/product-groups/"+e.value,e.value=""):t="stores/"+e.storeUuid+"/product-groups",Object(g.a)(Object(g.a)({},S),{},{method:r,url:t});case"documents_v2":if(r="GET",e.value)t="stores/"+e.storeUuid+"/documents/"+e.value;else if(t="stores/"+e.storeUuid+"/documents",!S.cursor){if(e.period){var c=e.period.dateStart,i=e.period.dateEnd,s=i?"&until=".concat(i):null;t+="?since=".concat(c).concat(s)}else{var o=new Date;o.setDate(o.getDate()-1),t+="?since=".concat(o.getTime())}t+="&type=".concat(e.docType)}return Object(g.a)(Object(g.a)({},S),{},{method:r,url:t});case"get_employees":return r="GET",e.employee_id?(t="employees/"+e.employee_id,e.employee_id=""):t="employees",Object(g.a)(Object(g.a)({},S),{},{method:r,url:t});case"put_product_v2":return r="PUT",t="stores/"+e.storeUuid+"/products/"+e.body.id,n=JSON.stringify(e.body),Object(g.a)(Object(g.a)({},S),{},{method:r,url:t,body:n});case"post_product_v2":return r="POST",t="stores/"+e.storeUuid+"/products",n=JSON.stringify(e.body),Object(g.a)(Object(g.a)({},S),{},{method:r,url:t,body:n});case"delete_product_v2":return r="DELETE",t="stores/"+e.storeUuid+"/products/"+e.id,Object(g.a)(Object(g.a)({},S),{},{method:r,url:t});case"put_group_v2":return r="PUT",t="stores/"+e.storeUuid+"/product-groups/"+e.body.id,n=JSON.stringify(e.body),Object(g.a)(Object(g.a)({},S),{},{method:r,url:t,body:n});case"post_group_v2":return r="POST",t="stores/"+e.storeUuid+"/product-groups/",n=JSON.stringify(e.body),Object(g.a)(Object(g.a)({},S),{},{method:r,url:t,body:n});case"delete_group_v2":return r="DELETE",t="stores/"+e.storeUuid+"/product-groups/"+e.id,Object(g.a)(Object(g.a)({},S),{},{method:r,url:t});case"put_array_products_v2":return e.body&&e.body.length?(r="PUT",a=Object(g.a)(Object(g.a)({},S.headers),{},{"Content-Type":"application/vnd.evotor.v2+bulk+json"}),t="stores/"+e.storeUuid+"/products",n=JSON.stringify(e.body),Object(g.a)(Object(g.a)({},S),{},{method:r,headers:a,url:t,body:n})):{};case"put_array_groups_v2":return r="PUT",a=Object(g.a)(Object(g.a)({},S.headers),{},{"Content-Type":"application/vnd.evotor.v2+bulk+json"}),t="stores/"+e.storeUuid+"/product-groups",n=JSON.stringify(e.body),Object(g.a)(Object(g.a)({},S),{},{method:r,headers:a,url:t,body:n});case"get_ofd_documents":r="GET",t="/api/v1/ofd/documents/".concat(e.storeUuid);var u=new Date,l={deviceId:"20180608-D09E-409D-8015-A35AAA2D3487",type:"SELL",from:"".concat(u.getFullYear(),"-0").concat(u.getMonth()+1,"-").concat(u.getDate()-1,"T00:00:00.000Z"),to:"".concat(u.getFullYear(),"-0").concat(u.getMonth()+1,"-").concat(u.getDate(),"T00:00:00.000Z")};return Object(g.a)(Object(g.a)({},S),{},{method:r,url:t,params:l})}}var F=function(e){return E.apply(this,arguments)},I=r(65),D=r.n(I);function T(e){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(o.a.mark((function e(t){var r,n,a,c,i,s,u,l,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.baseURL,n=t.url,a=t.headers,c=t.method,i=t.body,s=t.params,t.action,e.prev=1,u={baseURL:r,url:n,headers:a,method:c,params:s},i&&(u.data=i),e.next=6,D()(u);case 6:if(l=e.sent,"DELETE"!==c){e.next=11;break}d=l,e.next=14;break;case 11:return e.next=13,l.data;case 13:d=e.sent;case 14:if(!d.paging||!d.paging.next_cursor){e.next=20;break}return u.params={cursor:d.paging.next_cursor},e.next=18,T(u);case 18:p=e.sent,d.items=d.items.concat(p.items);case 20:return d.paging={},e.abrupt("return",d);case 24:return e.prev=24,e.t0=e.catch(1),e.abrupt("return",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})))).apply(this,arguments)}var L=T,U={getStores:function(){return Object(u.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({type:"store_v2"});case 2:return t=e.sent,e.next=5,L(t);case 5:return r=e.sent,e.abrupt("return",r.items);case 7:case"end":return e.stop()}}),e)})))()},getSchemes:function(){return Object(u.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({type:"get_schemes"});case 2:return t=e.sent,e.next=5,L(t);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))()},postSchemes:function(e){return Object(u.a)(o.a.mark((function t(){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F({type:"post_schemes",body:e});case 2:return r=t.sent,t.next=5,L(r);case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},fetchGroupsEvo:function(){return Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({type:"groups_v2"});case 2:return t=e.sent,e.next=5,L(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()},fetchProductsEvo:function(){return Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({type:"products_v2"});case 2:return t=e.sent,e.next=5,L(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()},postData:function(e,t){return Object(u.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F({type:"post_".concat(e,"_v2"),body:t});case 2:return n=r.sent,r.next=5,L(n);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},putData:function(e,t){return Object(u.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F({type:"put_".concat(e,"_v2"),body:t});case 2:return n=r.sent,r.next=5,L(n);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},deleteData:function(e,t){return Object(u.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F({type:"delete_".concat(e,"_v2"),id:t});case 2:return n=r.sent,r.next=5,L(n);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},getDocuments:function(e){var t=arguments;return Object(u.a)(o.a.mark((function r(){var n,a,c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:null,a=t.length>2&&void 0!==t[2]?t[2]:null,r.next=4,F({type:"documents_v2",docType:e,period:n,value:a});case 4:return c=r.sent,r.next=7,L(c);case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})))()},getOfdDocuments:function(){return Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{items:[{id:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442!"}]});case 1:case"end":return e.stop()}}),e)})))()},getEmoloyees:function(){var e=arguments;return Object(u.a)(o.a.mark((function t(){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:null,t.next=3,F({type:"get_employees",employee_id:r});case 3:return n=t.sent,t.next=6,L(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()}},A=r(52);function K(){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.b)("Evo",4,{upgrade:function(e,t,r){return Object(u.a)(o.a.mark((function n(){var a,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t<r&&(alert("\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0434\u043e \u0432\u0435\u0440\u0441\u0438\u0438: "+r),console.log("New version: ".concat(r))),e.objectStoreNames.contains("groups")||((a=e.createObjectStore("groups",{keyPath:"id"})).createIndex("name","name"),a.createIndex("date","created_at"),a.createIndex("parent_id","parent_id")),e.objectStoreNames.contains("products")||((c=e.createObjectStore("products",{keyPath:"id"})).createIndex("name","name"),c.createIndex("date","created_at"),c.createIndex("parent_id","parent_id"),c.createIndex("code","code"),c.createIndex("price","price"));case 3:case"end":return n.stop()}}),n)})))()}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(e){return Object(u.a)(o.a.mark((function t(){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K();case 2:if(r=t.sent,"all"!==e){t.next=9;break}return t.next=6,r.getAll("groups");case 6:n=t.sent,t.next=16;break;case 9:if("0"!==e){t.next=13;break}return t.abrupt("return",{name:"Root",id:"0"});case 13:return t.next=15,r.get("groups",e);case 15:n=t.sent;case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}}),t)})))()},B=function(e){return Object(u.a)(o.a.mark((function t(){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K();case 2:if(r=t.sent,"all"!==e&&e){t.next=9;break}return t.next=6,r.getAll("products");case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,r.get("products",e);case 11:n=t.sent;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t)})))()},q=function(e){return Object(u.a)(o.a.mark((function t(){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K();case 2:return r=t.sent,t.next=5,r.getAllFromIndex("products","parent_id",e);case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()},M=function(e,t){return Object(u.a)(o.a.mark((function r(){var n,a,c,i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=[],t.forEach((function(e){n.push(e)})),r.next=4,K();case 4:return a=r.sent,c=a.transaction(e,"readwrite"),(i=n.map((function(e){return c.store.put(e)}))).push(c.done),r.next=10,Promise.all(i);case 10:case"end":return r.stop()}}),r)})))()},V=function(e){return Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.a)(e);case 2:case"end":return t.stop()}}),t)})))()},H=function(e,t){return Object(u.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K();case 2:return n=r.sent,r.next=5,n.put(e,t);case 5:return r.abrupt("return",t);case 6:case"end":return r.stop()}}),r)})))()},J=function(e,t){return Object(u.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K();case 2:return n=r.sent,r.next=5,n.delete(e,t);case 5:return r.abrupt("return",t);case 6:case"end":return r.stop()}}),r)})))()},Y=function(e){return Object(u.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K();case 2:return r=t.sent,t.next=5,r.clear(e);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})))()};function z(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;if("string"===typeof e&&(e=new Date(e).getTime()),!e)return!0;var r=(Date.now()-e)/1e3/3600;return r>t}function Z(){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(o.a.mark((function e(){var t,r,n,a,c,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,r=function(e){console.log(e),t&&t(e)},e.prev=2,r("Get groups..."),e.next=6,U.fetchGroupsEvo();case 6:return n=e.sent,e.next=9,n.items;case 9:return a=e.sent,r("Get products..."),e.next=13,U.fetchProductsEvo();case 13:return n=e.sent,e.next=16,n.items;case 16:return c=(c=e.sent).map((function(e){return e.parent_id||(e.parent_id="0"),e.barcodes||(e.barcodes=[]),e.photos||(e.photos=[]),e.created_at=Date.parse(e.created_at),e.updated_at=Date.parse(e.updated_at),e})),localStorage.setItem("lastUpdate",Date.now()),console.log("LS: "+new Date(+localStorage.lastUpdate)),r("Clear storage..."),e.next=23,Y("products");case 23:return e.next=25,Y("groups");case 25:return r("Write groups in IDB..."),e.next=28,M("groups",a);case 28:return r("Write products in IDB..."),e.next=31,M("products",c);case 31:return e.abrupt("return",a);case 34:return e.prev=34,e.t0=e.catch(2),console.error(e.t0.message),e.abrupt("return",e.t0);case 38:case"end":return e.stop()}}),e,null,[[2,34]])})))).apply(this,arguments)}var Q=r(48),$=r.n(Q),ee=function(e){return Object(m.jsx)("nav",{className:"navbar",children:e.navElements})},te=r(27),re="SET-APP-KEY",ne="SET-STORE-KEY",ae="INIT-APP",ce="SET-STORES",ie="SET-LAST-UPDATE",se="SET-PERIOD-UPDATE",oe="SET-SYNC-DATA",ue="CLEAR-SYNC-DATA",le="GET-TITLE",de="CHOOSE-LANG",pe="GET-GROUPS",be="SET-PID",je="GET-COMMODITIES",fe="SET-ERROR",me="VIEW-FORM",he="SET-FORM-DATA",Oe="TOGGLE-FORM-POST",ve="SET-FORM-ERROR",xe="SET-FORM-FOTOS",ge="SET-SCHEMA",_e=function(e){return{type:re,key:e}},ye=function(e){return{type:ne,key:e}},ke=function(e){return{type:ae,init:e}},Ne=function(e){return{type:ie,dateUpdate:e}},we=function(e){return function(t){t(_e(e))}},Se=function(e){return function(t){t(ye(e))}},Ee=function(e){return function(t){t(ke(e))}},Ce=function(){return function(e,t){e(Ne(localStorage.lastUpdate))}},Fe=function(e){return function(t){t(function(e){return e=isNaN(+e)?24:+e<1?1:+e>24?24:+e,{type:se,periodUpdate:e}}(e))}},Ie=function(e){return function(t){t(function(e){return{type:le,path:e}}(e))}},De=r(42),Te=function(e){Object(j.a)(r,e);var t=Object(f.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return r}(Object(De.a)(Error)),Pe=function(e){Object(j.a)(r,e);var t=Object(f.a)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(p.a)(this,r),(e=t.call(this,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445:\n\r ".concat(n[0].message))).name="SequelizeValidationError",e.errors=n,e}return r}(Te),Le=function(e){Object(j.a)(r,e);var t=Object(f.a)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(p.a)(this,r),(e=t.call(this,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0430:\n        ".concat(n[0].path,": ").concat(n[0].value,"\n        \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 PUT"))).name="SequelizeUniqueConstraintError",e.errors=n,e}return r}(Te),Ue=function(e){Object(j.a)(r,e);var t=Object(f.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return r}(Object(De.a)(Error)),Ae=function(e){Object(j.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(p.a)(this,r);var a=e.message;return e.errors.forEach((function(e){a+="\n".concat(e.subject.toUpperCase()," -> ").concat(e.reason)})),(n=t.call(this,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u043e\u0431\u043b\u0430\u043a\u043e!\n".concat(a))).name="EvoValidationError",n.errors=e.violations,n}return r}(Ue),Ke=function(e){Object(j.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(p.a)(this,r);var a=e.message;return e.violations.forEach((function(e){a+="\n".concat(e.subject.toUpperCase()," -> ").concat(e.reason)})),(n=t.call(this,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u043e\u0431\u043b\u0430\u043a\u043e!\n".concat(a))).name=e.code,n.violations=e.violations,n}return r}(Ue),Re=function(e){if(null===e||void 0===e?void 0:e.response){var t,r,n=e.response;return"SequelizeValidationError"===(null===(t=n.data)||void 0===t?void 0:t.name)?new Pe(n.data.errors):n.data.name&&"SequelizeUniqueConstraintError"===n.data.name?new Le(n.data.errors):"validation_failed"===(null===(r=n.data)||void 0===r?void 0:r.code)?new Ae({message:n.data.message,errors:n.data.errors||n.data.violations}):new Ke(n.data)}},Ge=function(e){return{type:pe,groups:e}},Be=function(e){return{type:be,pid:e}},qe=function(e){return{type:je,commodities:e}},Me=function(e){return{type:fe,error:e}},Ve=function(e){return{type:ve,error:e}},He=function(e){return{type:me,viewForm:e}},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:he,formData:e,isGroup:t}},Ye=function(e){return{type:Oe,formPost:e}},ze=Object(_.b)((function(e,t){var r=t.to,n=t.exact;return{activeClassName:t.activeClassName,to:r,exact:n}}),(function(e,t){var r=t.to;return{onClick:function(){Ie(r)}}}))(te.b);function We(e){var t=e.navigation.currentLang;return e.navigation.navBar.map((function(e,r){var n;return n="/"===e.link,Object(m.jsx)("div",{className:$.a.item,children:Object(m.jsx)(ze,{exact:n,to:e.link,activeClassName:$.a.active,children:e.title[t]})},r)}))}var Ze=Object(_.b)((function(e){return{navElements:We(e)}}))(ee),Xe=function(e){var t=Object(n.useState)(!1),r=Object(d.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(null),s=Object(d.a)(i,2),l=s[0],p=s[1],b=Object(n.useState)(!1),j=Object(d.a)(b,2),f=j[0],h=j[1],O=Object(n.useState)(!1),v=Object(d.a)(O,2),x=v[0],g=v[1],_=Object(n.useState)(""),y=Object(d.a)(_,2),S=y[0],E=y[1];function C(){return(C=Object(u.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.next=3,Z(E);case 3:r=t.sent,console.log("fetchGroupsProducts - "+r.length),e.setLastUpdate(),e.setGroups(r),E(""),h(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){e.isInit&&(c(!0),setTimeout((function(){c(!1);var t=new Date(+e.lastUpdate);p(t.toString())}),500))}),[e.isInit,e.lastUpdate]),Object(n.useEffect)((function(){g(W(l,e.periodUpdate))}),[l,e.periodUpdate]);var F=x&&{color:"red"}||{color:"blue"};return Object(m.jsxs)("header",{children:[Object(m.jsxs)("div",{className:k.a["column-1"],children:[Object(m.jsxs)("div",{className:k.a.info,children:[!e.isInit&&Object(m.jsx)("h4",{children:"Initializing App..."}),a&&Object(m.jsx)("h4",{children:"App Is Init!"}),f&&Object(m.jsx)(w,{limit:20,delay:500,text:S}),!a&&!f&&Object(m.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return C.apply(this,arguments)},children:Object(m.jsxs)("h5",{style:F,children:[l&&"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e - ",l]})})]}),Object(m.jsx)("div",{className:k.a.navbar,children:Object(m.jsx)(Ze,{})})]}),Object(m.jsxs)("div",{className:k.a["column-2"],children:[Object(m.jsxs)("div",{className:k.a.title,children:[Object(m.jsx)("h2",{children:e.title}),Object(m.jsx)("img",{src:N,alt:"Logo"})]}),Object(m.jsxs)("div",{className:k.a.lng,onClick:function(t){var r;"lng"===t.target.name&&(r=t.target.value,e.chooseLang(r),e.getTitle(e.path))},children:[Object(m.jsx)("input",{name:"lng",type:"radio",value:"ru",checked:!e.currentLang,onChange:function(t){return t.target.checked=!e.currentLang}}),"RU",Object(m.jsx)("input",{name:"lng",type:"radio",value:"en",checked:e.currentLang,onChange:function(t){return t.target.checked=e.currentLang}}),"EN"]})]})]})},Qe=Object(_.b)((function(e){return{navBar:e.navigation.navBar,title:e.navigation.title,className:undefined,currentLang:e.navigation.currentLang,isInit:e.app.isInit,lastUpdate:e.app.lastUpdate,periodUpdate:e.app.periodUpdate}}),{getTitle:Ie,chooseLang:function(e){return function(t){t(function(e){return{type:de,lng:e}}(e))}},setLastUpdate:Ce,setGroups:function(e){return function(t){t(Ge(e))}}})(Object(l.e)((function(e){var t="/"+e.location.pathname.split("/")[1],r=e.getTitle;return Object(n.useEffect)((function(){r(t)}),[t,r]),Object(m.jsx)(Xe,Object(g.a)(Object(g.a)({},e),{},{path:t}))}))),$e=r(31),et=r.n($e),tt=r.p+"static/media/placeholder.e2f04097.svg",rt=function(e){return Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:tt,alt:""})})},nt=r(13),at=r(7),ct=r(6),it=r.n(ct),st=r(43);function ot(e){return Math.floor(Math.random()*Math.floor(e))}function ut(){for(var e=[];e.length<16;){var t=ot(16).toString(16).concat(ot(16).toString(16));6===e.length&&(t=(15&parseInt("0x"+t,16)|64).toString(16)),8===e.length&&(t=(63&parseInt("0x"+t,16)|128).toString(16)),e.push(t)}var r=e.join(""),n=r.slice(0,8);return n+="-"+r.slice(8,12),n+="-"+r.slice(12,16),n+="-"+r.slice(16,20),n+="-"+r.slice(20)}function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;if(e){var t="".concat(e.getFullYear(),"-").concat(r(e.getMonth()+1),"-").concat(r(e.getDate()));return t}function r(e){return e.toString().length<2?"0".concat(e):e}}function dt(){var e=localStorage.getItem("storeKey");if(!e)return"";try{var t=e.split("-")[0],r=t.slice(0,4),n=t.slice(4,6),a=t.slice(6);return"".concat(r,"-").concat(n,"-").concat(a)}catch(c){console.error(c.message)}}var pt=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,r=t.map((function(e){return+e.code||0})),n=Math.max.apply(null,r),a=n+1,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function bt(e){var t=65,r=75,n=[[t,t,t,t,t,t],[t,t,r,t,r,r],[t,t,r,r,t,r],[t,t,r,r,r,t],[t,r,t,t,r,r],[t,r,r,t,t,r],[t,r,r,r,t,t],[t,r,t,r,t,r],[t,r,t,r,r,t],[t,r,r,t,r,t]];try{for(var a=e.split("")[0],c=Number(a),i=1;i<=6;i++)a+=String.fromCharCode(Number(e.substr(i,1))+n[c][i-1]);a+=String.fromCharCode(42);for(var s=7;s<=12;s++)a+=String.fromCharCode(Number(e.substr(s,1))+97);return{str:a+=String.fromCharCode(43),err:null}}catch(o){return{str:null,err:o.message}}}function jt(e){var t=function(){if(isNaN(Number(e)))return!1;if(![7,8,12,13].includes(e.length))return!1;var t=0;return e.split("").forEach((function(e,r){r%2!==0?(t+=3*Number(e),t%=10):(t+=Number(e),t%=10)})),t}();if(0!==t){var r="";if(13===e.length||8===e.length)r+="Not valid control digit: "+e.slice(-1)+"\r\n",r+=jt(e.slice(0,-1));else if(12===e.length||7===e.length){r+="Need add control digit: "+(10-t)}else r+="Not valid Length barcode: "+e.length;return r}return t}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u044f\u0442","\u0421\u0443\u0431"],r=e.getDay();return"".concat(t[r]," ").concat(e.toLocaleString())}var mt=r(44),ht=r.n(mt),Ot=r(66);function vt(e,t){var r=xt(e.pid,t);try{return void 0===r?e:(r.childs.push(e),r.childs.sort((function(e,t){return e.label>t.label?1:e.label<t.label?-1:0})),!1)}catch(n){console.error(n.message)}}function xt(e,t){null===e&&(e="0");var r=t.childs.find((function(t){return t.id===e}));if(void 0===r){var n,a=Object(Ot.a)(t.childs);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(r=xt(e,c))break}}catch(i){a.e(i)}finally{a.f()}}return r}var gt=function e(t,r){var n=[];return t.forEach((function(e){var t=vt(function(e){var t=Object(g.a)({},e);return t.childs=[],t}(e),r);t&&n.push(t)})),n.length&&e(n,r),n=[],r};var _t=function(e){var t=Object(n.useContext)(yt),r=Object(n.useState)(null),a=Object(d.a)(r,2),c=a[0],i=a[1],s=Object(n.useState)(null),o=Object(d.a)(s,2),u=o[0],l=o[1],p=!!e.children.length,b=Object(n.useState)(e.hidden),j=Object(d.a)(b,2),f=j[0],h=j[1],O=Object(n.useState)(!1),v=Object(d.a)(O,2),x=v[0],g=v[1];Object(n.useEffect)((function(){f?(i("far fa-folder"),l(p?"closed children":"closed")):(i("far fa-folder-open"),l(p?"open children":"open"))}),[f,p,e.id]),Object(n.useEffect)((function(){return e.id===t.pId&&g(!0),t.arrNotHidden.length&&t.arrNotHidden.includes(e.id)&&h(!1),function(){return g(!1)}}),[t.arrNotHidden,t.pId,e.id]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("li",{id:e.id,className:u,onClick:function(t){if(t.stopPropagation(),"0"!==e.id&&h((function(e){return!e})),e.callback){var r=t.target.tagName,n=t.target.className;e.callback(e.id.toString(),r,n)}},children:[Object(m.jsx)("i",{className:c}),Object(m.jsx)("span",{className:x&&e.classSelected||"",children:e.label}),"0"!==e.id&&p&&Object(m.jsx)("span",{className:e.className,children:e.children.length}),e.viewEdit&&"0"!==e.id&&Object(m.jsx)("i",{className:"fa fa-edit"}),p&&Object(m.jsx)("ul",{hidden:f,children:e.children})]})})},yt=a.a.createContext({pId:"no"}),kt=function(e){var t={id:"0",label:e.price,childs:[]},r={id:"Tree",label:e.treeLabel,childs:[t]},a=Object(n.useState)([]),c=Object(d.a)(a,2),i=c[0],s=c[1],o={pId:e.pId,arrNotHidden:i};return gt(e.data,r),Object(n.useEffect)((function(){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||"0"===e||!t.length)return[];var r=[],n=t.find((function(t){return t.id===e}));if(!n||!n.pid)return[];for(;"0"!==n.pid;){var a=t.find((function(e){return e.id===n.pid}));if(!a)break;r.push(a.id),n=a}return r}(e.pId,e.data);s(Object(at.a)(t))}),[e.data,e.pId]),Object(m.jsx)(yt.Provider,{value:o,children:Object(m.jsx)("div",{id:r.id,className:ht.a.tree,children:Object(m.jsx)("ul",{children:function t(r){var n,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c+=1;var s=[];return(null===(n=r.childs)||void 0===n?void 0:n.length)&&(s=r.childs.map((function(e){return t(e,c)}))),a=c>1&&!i.includes((function(e){return e.id===r.id})),Object(m.jsx)(_t,{id:r.id,parent_id:r.pid,label:r.label,children:s,hidden:a,className:ht.a["children-length"],classSelected:ht.a.selected,callback:e.callback,viewEdit:e.viewEdit},r.id)}(t)})})})},Nt=function(e){return Object(m.jsxs)("label",{children:["Measure Name",Object(m.jsx)("select",{name:"measure_name",id:e.id,value:e.measure_name,onChange:e.handleChange,disabled:e.disabled,children:st.measure_names.map((function(e,t){return Object(m.jsx)("option",{value:e,children:e},t)}))})]})},wt=function(e){return Object(m.jsxs)("label",{children:["Type",Object(m.jsx)("select",{name:"type",id:e.id,value:e.type,onChange:e.handleChange,disabled:e.disabled,children:st.types.map((function(e,t){return Object(m.jsx)("option",{value:e.type,children:e.description},t)}))})]})},St=function(e){return Object(m.jsxs)("label",{className:it.a.tax,children:["Tax",Object(m.jsx)("select",{name:"tax",id:e.id,value:e.tax,onChange:e.handleChange,disabled:e.disabled,children:st.taxes.map((function(e,t){return Object(m.jsx)("option",{value:e.tax,children:e.description},t)}))})]})},Et=function(e){var t=Object(at.a)(e.groups),r=t.find((function(t){return t.id===e.parent_id})),n=r?r.label:"Root",a=e.disabled?null:e.onClick;return Object(m.jsxs)("div",{className:it.a["tree-container"],children:[e.treeView&&Object(m.jsx)("div",{className:it.a.tree,children:Object(m.jsx)(kt,{data:t,price:"Price",treeLabel:"Groups",callback:e.callbackTree,pId:e.parent_id})}),Object(m.jsx)("div",{className:it.a["g-tree"],onClick:a,children:Object(m.jsxs)("div",{name:"parent_id",children:[n,Object(m.jsx)("i",{className:"fa fa-share-alt fa-1x"})]})})]})},Ct=function(e){var t,r=Object(n.useState)(!1),a=Object(d.a)(r,2),c=a[0],i=a[1],s=[];(null===(t=e.barcodes)||void 0===t?void 0:t.length)&&(s=Object(at.a)(e.barcodes));var o=function(t){var r;e.allow_edit&&(t.target.className===it.a["del-bc"]&&(r=t.target.closest("li")),r&&e.deleteFromArray(r.id,"barcodes"))};return Object(m.jsxs)("fieldset",{name:"img_barcodes",children:[Object(m.jsx)("legend",{onClick:function(){i((function(e){return!e}))},style:{cursor:"pointer"},children:"Barcodes"}),Object(m.jsxs)("div",{className:c?it.a.barcodes:"".concat(it.a.barcodes," ").concat(it.a["barcodes-hidden"]),children:[Object(m.jsx)("div",{className:it.a["view-barcode"],children:Object(m.jsx)("ul",{children:s.map((function(t){return Object(m.jsxs)("li",{id:t,onClick:o,children:[Object(m.jsxs)("div",{className:it.a.barcode,children:[bt(t).str||Object(m.jsxs)("div",{className:it.a["barcode-err"],children:[bt(t).err," ",Object(m.jsx)("br",{}),Object(m.jsx)("b",{children:"'\u041e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0439 \u0448\u0442\u0440\u0438\u0445\u043a\u043e\u0434!!!'"})]}),Object(m.jsx)("span",{children:t})]}),e.allow_edit&&Object(m.jsx)("span",{className:it.a["del-bc"]})]},t)}))})}),Object(m.jsx)("input",{name:"barcodes",type:"text",defaultValue:e.bc,onChange:e.handleChange,onBlur:e.handleBlur,disabled:e.disabled}),Object(m.jsx)("span",{className:it.a["add-bc"]})]})]})},Ft=function(e){return Object(m.jsxs)("div",{className:e.divPicture,onClick:e.pictureClick,children:[Object(m.jsx)("img",{id:e.photo.name,className:e.className,src:URL.createObjectURL(e.photo),alt:"no",tabIndex:"-1"}),Object(m.jsx)("span",{})]})},It=function(e){var t=e.attributes,r=e.clickChoice,a=e.disabled,c=e.attributes_choices,i=Object(n.useCallback)((function(){var e;c&&(null===(e=Object.keys(c))||void 0===e?void 0:e.length)&&Object.keys(c).forEach((function(e){var t=document.getElementById(c[e]);t&&t.classList.add(it.a.selected)}))}),[c]);return Object(n.useEffect)((function(){i()}),[i]),Object(m.jsxs)("div",{className:it.a["attr-container"],children:[Object(m.jsx)("label",{children:"\u0410\u0442\u0442\u0440\u0438\u0431\u0443\u0442\u044b"}),Object(m.jsx)("div",{className:it.a.attr,children:!!(null===t||void 0===t?void 0:t.length)&&t.map((function(e){return!a||c[e.id]?Object(m.jsxs)("div",{className:it.a["attr-select"],children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsx)("div",{id:e.id,className:it.a["attr-choices"],onClick:a?void 0:r,children:e.choices.map((function(t){return a&&c[e.id]!==t.id?null:Object(m.jsx)("span",{id:t.id,className:it.a.choice,children:t.name},t.id)}))})]},e.id):null}))})]})},Dt=function(e){var t=e.photo;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{className:it.a["big-img"],src:t,alt:"no",tabIndex:"-1",style:{display:"inline-block",width:"100vh",position:"fixed",top:"10vh",left:"calc((100vw - 100vh)/2)",verticalAlign:"middle"}}),Object(m.jsx)("span",{})]})},Tt=r(37),Pt=r.n(Tt),Lt=function(e){return Object(n.useLayoutEffect)((function(){document.body.style.overflow="hidden",setTimeout((function(){document.getElementById(Pt.a.container).style.top="1rem"}),0)}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{id:Pt.a["cover-div"]}),Object(m.jsx)("div",{className:Pt.a.container,id:Pt.a.container,children:e.children})]})},Ut=r(51),At=r.n(Ut),Kt=document.getElementById("modal-root");function Rt(e){var t=Object(n.useState)(null),r=Object(d.a)(t,2),a=r[0],c=r[1];return Object(n.useEffect)((function(){var t=9e3+Kt.childElementCount+1,r=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:At.a["div-cover"],style:{zIndex:t}}),Object(m.jsx)("div",{className:At.a["div-container"],style:{zIndex:t+1},children:e.children})]});return c(r),document.body.style.overflow="hidden",function(){c(null),document.body.style.overflow="auto"}}),[e.children]),i.a.createPortal(a,Kt)}var Gt=r(22),Bt=r.n(Gt);function qt(e){var t=e.action,r=e.typeElem,n=e.label;return Object(m.jsx)("div",{style:{cursor:"pointer"},children:Object(m.jsxs)("strong",{"data-action":"".concat(t,"-").concat(r),children:["+ ",n]})})}function Mt(e){var t=e.value,r=e.label,n=e.nameOfAttr,a=e.onChange,c=e.handleClick;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{"data-name":"form-change-name",className:Bt.a["form-change-name"],children:[!!n&&Object(m.jsxs)("h3",{children:["\u0410\u0442\u0442\u0440\u0438\u0431\u0443\u0442: ",n]}),Object(m.jsx)("label",{htmlFor:"input-name",children:r}),Object(m.jsx)("input",{type:"text",name:"input-name",value:t,onChange:a,autoFocus:!0}),Object(m.jsx)("i",{className:"fa fa-plus",onClick:c})]})})}function Vt(e){var t=e.id,r=e.name,n=e.className,a=e.disabled,c=e.children,i=e.typeLi,s=e.inputHidden;return Object(m.jsxs)("li",{id:t,"data-name":r,className:n,children:[Object(m.jsx)("label",{children:r}),!a&&Object(m.jsx)("i",{"data-action":"edit-".concat(i),className:"fa fa-edit"}),Object(m.jsxs)("ul",{className:Bt.a["choices-ul"],children:[function(){if(null===c||void 0===c?void 0:c.length)return c.map((function(e){var t,r;return e.choices?(t=e.choices,r=Bt.a.attribut):(t=null,r=Bt.a.choice),Object(m.jsx)(Vt,{id:e.id,name:e.name,children:t,className:r,disabled:a,typeLi:"attr"===i?"choice":"attr",inputHidden:s},e.id)}))}(),"attr"===i&&!a&&s&&Object(m.jsx)(qt,{action:"add",typeElem:"choice",label:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"},"add-choice")]})]})}function Ht(e,t){var r,a=Object(n.useState)(!0),c=Object(d.a)(a,2),i=c[0],s=c[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),l=u[0],p=u[1],b=Object(n.useState)(""),j=Object(d.a)(b,2),f=j[0],m=j[1],h=Object(n.useState)(""),O=Object(d.a)(h,2),v=O[0],x=O[1],_=Object(n.useState)(""),y=Object(d.a)(_,2),k=y[0],N=y[1];function w(t){return e.find((function(e){return e.id===t}))}function S(){s(!i)}return{onBlocModClick:function(e){if("I"===e.target.tagName||"STRONG"===e.target.tagName){var t=e.target.dataset.action;x(t);var r=e.target,n="",a="",c="";switch(t){case"edit-choice":a=r.closest("li").id,c=r.closest("li").dataset.name,m(a),N(c),n=r.closest("ul").closest("li").id,p(n);break;case"add-choice":n=r.closest("li").id,p(n);break;case"edit-attr":a=r.closest("li").id,c=r.closest("li").dataset.name,m(a),N(c)}S()}},handleClick:function(r){r.stopPropagation();var n=v.split("-")[0],a=v.split("-")[1];"add"===n?function(r,n,a){var c=function(e){if(e)return{id:ut(),name:e}}(n);if(c)if("attr"===r)t([].concat(Object(at.a)(e),[Object(g.a)(Object(g.a)({},c),{},{choices:[]})]));else if("choice"===r){var i;if(!a)return;var o=w(a);null===o||void 0===o||null===(i=o.choices)||void 0===i||i.push(c),t(Object(at.a)(e))}s(!0)}(a,k,l):"edit"===n&&function(r,n,a,c){if(!r||!n)return;var i,s,o;c&&(i=e.find((function(e){return e.id===c})));if("choice"===a){if(null===(s=i)||void 0===s||null===(o=s.choices)||void 0===o?void 0:o.length){var u={id:r,name:n};!function(e,t){var r=t.findIndex((function(t){return t.id===e}));t.splice(r,1)}(r,i.choices),i.choices.push(u)}}else"attr"===a&&(i=e.find((function(e){return e.id===r})))&&(i.name=n);S(),t(Object(at.a)(e))}(f,k,a,l),N(""),m(""),p(""),x(""),S()},changeParamName:function(e){N(e.target.value||"")},nameOfAttr:null===(r=w(l))||void 0===r?void 0:r.name,paramName:k,action:v,inputHidden:i}}function Jt(e){var t=e.attributes,r=e.setAttributes,n=e.disabled,a=Ht(t,r),c=a.onBlocModClick,i=a.handleClick,s=a.changeParamName,o=a.nameOfAttr,u=a.paramName,l=a.action,d=a.inputHidden;return Object(m.jsxs)("div",{className:Bt.a.attributes,onClick:c,children:[!d&&Object(m.jsx)(Rt,{children:Object(m.jsx)(Mt,{nameOfAttr:o||"",label:"attr"===l.split("-")[1]?"\u0410\u0442\u0442\u0440\u0438\u0431\u0443\u0442":"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435",value:u,onChange:s,handleClick:i})}),Object(m.jsxs)("ul",{className:Bt.a["attributes-ul"],children:[!!t.length&&t.map((function(e,t){return Object(m.jsx)(Vt,{typeLi:"attr",inputHidden:d,id:e.id,name:e.name,className:Bt.a.attribut,disabled:n,children:e.choices},e.id)})),!n&&d&&Object(m.jsx)(qt,{action:"add",typeElem:"attr",label:"\u0410\u0442\u0442\u0440\u0438\u0431\u0443\u0442"},"add-attr")]})]})}var Yt=function(e){var t,r,c=Object(n.useState)(!e.formData.id),i=Object(d.a)(c,2),s=i[0],o=i[1],u=a.a.createRef(),l=Object(n.useState)(e.isGroup),p=Object(d.a)(l,2),b=p[0],j=p[1],f=Object(n.useState)(Object(g.a)(Object(g.a)({},e.formData),{},{allow_edit:s,parent_id:s?e.pid:e.formData.parent_id||0,photos:(null===(t=e.formData.photos)||void 0===t?void 0:t.length)&&Object(at.a)(e.formData.photos)||[],barcodes:(null===(r=e.formData.barcodes)||void 0===r?void 0:r.length)&&Object(at.a)(e.formData.barcodes)||[],bigImg:null,currentBarcode:"",created_at:e.formData.created_at?new Date(e.formData.created_at):new Date,updated_at:e.formData.updated_at?new Date(e.formData.updated_at):new Date})),h=Object(d.a)(f,2),O=h[0],v=h[1],x=Object(n.useState)(!1),_=Object(d.a)(x,2),y=_[0],k=_[1],N=Object(n.useState)(!1),w=Object(d.a)(N,2),S=w[0],E=w[1],C=Object(n.useState)(!!e.formData.attributes&&Object(at.a)(e.formData.attributes)||[]),F=Object(d.a)(C,2),I=F[0],D=F[1],T=Object(n.useState)(!!e.formData.attributes_choices&&Object(g.a)({},e.formData.attributes_choices)||[]),P=Object(d.a)(T,2),L=P[0],U=P[1],A=!s&&!O.allow_edit,K=e.setViewForm,R=e.setFormData,B=Object(n.useCallback)((function(e){K(!1),R(null),document.body.style.overflow="auto"}),[R,K]);Object(n.useEffect)((function(){if(O.code||pt().then((function(e){return v(Object(g.a)(Object(g.a)({},O),{},{code:e}))})),e.formError){var t=e.formError;alert(t.message),e.setFormError(null)}}),[e,O]);var q=function(e){var t=Object(n.useState)(null),r=Object(d.a)(t,2),a=r[0],c=r[1],i=Object(n.useCallback)((function(e){var t=e.parentId;"0"!==t&&t&&G(t).then((function(e){return c(e.attributes||null)}))}),[]);return i({parentId:e}),{attributesP:a,getAttributes:i}}(O.parent_id),M=q.attributesP,V=q.getAttributes;Object(n.useEffect)((function(){V({parentId:O.parent_id})}),[V,O.parent_id]),Object(n.useEffect)((function(){return function(){var e;(null===(e=O.photos)||void 0===e?void 0:e.length)&&O.photos.forEach((function(e){return URL.revokeObjectURL(e)}))}})),Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&B()};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[B]);var H,J=function(e){return isFinite(e)?Number(e).toFixed(2):"0.00"},Y=function(e){var t=e.target,r=t.name,n=t.value;if(t.classList.remove(it.a.required),"barcodes"===r)return O.barcodes.includes(n)?void alert("Barcode ".concat(n," is exist in this product!")):void v(Object(g.a)(Object(g.a)({},O),{},{currentBarcode:n}));if("picture"===r){var a=O.photos;return Array.from(u.current.files).forEach((function(e){a.push(e)})),void v(Object(g.a)(Object(g.a)({},O),{},{photos:a}))}if("allow_edit"===r){var c=document.getElementById(it.a["form-product"]);Object.values(c.elements).forEach((function(e){e.disabled&&e.id!==it.a.uuid&&e.removeAttribute("disabled")})),v(Object(g.a)(Object(g.a)({},O),{},{allow_edit:!0})),c.allow_edit.parentNode.remove()}else"allow_to_sell"===r?(n=t.checked,v(Object(g.a)(Object(g.a)({},O),{},Object(nt.a)({},r,n)))):v(Object(g.a)(Object(g.a)({},O),{},Object(nt.a)({},r,n)))},z=function(e){var t=e.target.name||e.currentTarget.name,r=e.target.value||e.currentTarget.value;if("barcodes"===t){var n;if(!r){var a=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0435\u0444\u0438\u043a\u0441!\r\n\n          \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 4 \u0446\u0438\u0444\u0440\u044b \u0418\u041d\u041d.\r\n\n          \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e -> '0000'","7321");if(n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0000";e="";for(var r=1;r<=6;r++)e+=ot(9).toString();var n="20".concat(t)+e,a=0;return n.split("").forEach((function(e,t){a+=t%2!==0?3*Number(e):Number(e)})),a=(10-a%10)%10,n.concat(a)}(O.code,a),O.barcodes.includes(n))return void console.warn("Barcode ".concat(n," is Exist!"))}var c=jt(r||n);if(0!==c)return void window.alert(c);var i=[].concat(Object(at.a)(O.barcodes),[O.currentBarcode||n]);return v(Object(g.a)(Object(g.a)({},O),{},{barcodes:i})),void(e.target.value="")}"price"!==t&&"cost_price"!==t||(r=isFinite(r)?Number(r):0),v(Object(g.a)(Object(g.a)({},O),{},Object(nt.a)({},t,r))),e.target.value=J(r)},W=function(t){if(t.preventDefault(),t.stopPropagation(),O.allow_edit&&function(){var t=[];for(var r in e.formData)"photos"===r||"barcodes"===r?O[r].length!==e.formData[r].length&&t.push(Object(nt.a)({},r,O[r])):O[r]!==e.formData[r]&&t.push(Object(nt.a)({},r,O[r]));return O.parent_id&&!e.formData.parent_id&&t.push({parent_id:O.parent_id}),1===t.length&&s&&t[0].code&&(t=[]),t.length}()&&window.confirm("Save changes")){var r;b?r={id:O.id,parent_id:O.parent_id,name:O.name,attributes:!!I.length&&I||null,barcodes:O.barcodes,isNewData:s}:(delete(r=Object(g.a)(Object(g.a)({},O),{},{attributes_choices:L&&!!Object.keys(L).length&&L||null})).createdAt,delete r.updatedAt,delete r.allow_edit,delete r.bigImg,delete r.currentBarcode,delete r.treeView,delete r.alcocodes),"0"!==r.parent_id&&0!==r.parent_id||delete r.parent_id;var n=function(e){var t;t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?["name"]:["type","name","measure_name","tax","allow_to_sell"];var r=[];return Object.keys(e).forEach((function(n){!e[n]&&t.includes(n)&&r.push(n)})),r}(r,b);if(n.length){var a="";return n.forEach((function(e){a+=" ".concat(e,","),document.getElementsByName(e).forEach((function(e){e.classList.add(it.a.required)}))})),a.slice(-1),void alert("\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:\n\r".concat(a,"!"))}!function(e){for(var t in e)(null===e[t]||void 0===e[t])&&delete e[t]}(r),s||(r.id=O.id);var c=0;if(Object.keys(r).forEach((function(e){return c++})),c<=1&&!r.name)return void alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438\u0441\u044c!");var i=s?"post":"put",o=b?"group":"product";e.postFormData(o,i,r),e.toggleFormPost(!0)}else e.setFormData(null),e.setViewForm(!1);document.body.style.overflow="auto"},Z=function(e,t){var r=O[t].findIndex((function(t){return t===e})),n=O[t];n.splice(r,1),v(Object(g.a)(Object(g.a)({},O),{},Object(nt.a)({},t,n)))},X={groups:e.groups,disabled:A,parent_id:O.parent_id,onClick:function(){k(!y)},treeView:y,callbackTree:function(e,t){var r=e||0;"SPAN"===t&&(v(Object(g.a)(Object(g.a)({},O),{},{parent_id:r})),k(!1))}},Q={disabled:A,handleChange:Y,id:it.a.measure_name,measure_name:O.measure_name},$={disabled:A,handleChange:Y,id:it.a.type,type:O.type},ee={disabled:A,handleChange:Y,id:it.a.tax,tax:O.tax},te={barcodes:O.barcodes,bc:O.currentBarcode,handleChange:Y,handleBlur:z,deleteFromArray:Z,allow_edit:O.allow_edit,disabled:A},re={id:it.a.picture,className:it.a["picture-small"],divPicture:it.a["div-picture"],pictureClick:function(e){var t=e.target;if("SPAN"!==t.tagName)t.addEventListener("blur",(function(){v(Object(g.a)(Object(g.a)({},O),{},{bigImg:null})),t.removeEventListener("blur",undefined)})),v(Object(g.a)(Object(g.a)({},O),{},{bigImg:t.src}));else{if(!O.allow_edit)return;var r=t.previousElementSibling;Z(r.id,"photos")}}};return e.formPost?Object(m.jsx)(rt,{}):Object(m.jsxs)(m.Fragment,{children:[O.bigImg&&Object(m.jsx)(Lt,{form:Object(m.jsx)(Dt,{photo:O.bigImg})}),Object(m.jsxs)("form",{id:it.a["form-product"],onSubmit:W,children:[Object(m.jsxs)("div",{className:it.a["menu-buttons"],children:[Object(m.jsx)("i",{className:"fa fa-clone",id:it.a.copy,onClick:function(){o(!0),v(Object(g.a)(Object(g.a)({},O),{},{id:null,barcodes:[],allow_edit:!0}));var t=Object(g.a)({},O);delete t.code,delete t.allow_edit,delete t.bigImg,delete t.currentBarcode,delete t.created_at,delete t.updated_at,e.setFormData(t)}}),Object(m.jsx)("span",{className:it.a["menu-buttons-groups"],onClick:function(){s&&j(!b)},children:b?"Group":"Product"}),Object(m.jsx)("i",{className:"fa fa-times",id:it.a.close,onClick:W})]}),Object(m.jsxs)("fieldset",{className:it.a["product-info"],children:[Object(m.jsxs)("legend",{children:[b?"Group":"Product"," Info"]}),Object(m.jsxs)("div",{className:it.a["id-barcodes-photos"],children:[Object(m.jsxs)("div",{className:it.a["allow-to-sell"],children:[Object(m.jsx)("label",{htmlFor:"allow_to_sell",children:"Allow to sell:"}),Object(m.jsx)("input",{type:"checkbox",name:"allow_to_sell",id:"allow_to_sell",defaultChecked:O.allow_to_sell,disabled:A,onChange:Y})]}),Object(m.jsxs)("div",{className:it.a.uuid,children:[Object(m.jsx)("label",{htmlFor:"uuid",children:"ID:"}),Object(m.jsx)("input",{name:"uuid",value:O.id||"",disabled:!s,onChange:Y})]}),!s&&Object(m.jsxs)("div",{className:it.a["allow-edit"],children:[Object(m.jsx)("label",{htmlFor:"allow-edit",children:"Allow Edit:"}),Object(m.jsx)("input",{type:"checkbox",id:it.a["allow-edit"],name:"allow_edit",checked:O.allow_edit,onChange:Y})]})]}),!!(null===(H=O.photos)||void 0===H?void 0:H.length)&&Object(m.jsx)("div",{className:it.a["form-photo"],children:O.photos.map((function(e){return Object(n.createElement)(Ft,Object(g.a)(Object(g.a)({},re),{},{photo:e,key:e.name}))}))}),O.photo||!O.allow_edit?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{type:"file",name:"picture",id:"picInput",multiple:!0,onChange:Y,ref:u,style:{display:"none"}}),Object(m.jsx)("label",{htmlFor:"picture",onClick:function(e){e.preventDefault(),document.getElementById("picInput").click()},children:"Input Image"})]}),Object(m.jsx)(Ct,Object(g.a)({},te)),!b&&Object(m.jsxs)("div",{className:it.a.code_article,children:[Object(m.jsxs)("div",{className:it.a.code,children:[Object(m.jsx)("label",{htmlFor:"code",children:"Code:"}),Object(m.jsx)("input",{type:"text",name:"code",value:O.code||"",onChange:Y,disabled:A})]}),Object(m.jsxs)("div",{className:it.a["article-number"],children:[Object(m.jsx)("label",{htmlFor:"article_number",children:"Aticle:"}),Object(m.jsx)("input",{type:"text",name:"article_number",value:O.article_number||"",onChange:Y,disabled:A})]})]}),!b&&Object(m.jsxs)("div",{className:it.a.propertyes,children:[Object(m.jsx)(Nt,Object(g.a)({},Q)),Object(m.jsx)(wt,Object(g.a)({},$)),Object(m.jsx)(St,Object(g.a)({},ee))]}),Object(m.jsx)(Et,Object(g.a)({},X)),Object(m.jsxs)("div",{className:it.a.name,children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(m.jsx)("input",{name:"name",value:O.name,placeholder:"Input name ...",onChange:Y,disabled:A})]}),b&&!I.length&&Object(m.jsxs)("div",{className:it.a["add-mod"],children:[Object(m.jsx)("label",{htmlFor:"add_mod",children:"\u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}),Object(m.jsx)("input",{type:"checkbox",name:"add_mod",onChange:function(){return E(!S)}})]}),(S||!!I.length)&&Object(m.jsx)(Jt,{attributes:I,setAttributes:D,disabled:A}),!!(null===M||void 0===M?void 0:M.length)&&!b&&Object(m.jsx)(It,{attributes:M,clickChoice:function(e){if("SPAN"===e.target.tagName){var t=e.target,r=t.parentNode.id;t.parentNode.querySelectorAll("span").forEach((function(e){e.classList.remove(it.a.selected)})),L[r]?(delete L[r],U(Object(g.a)({},L))):(U(Object(g.a)(Object(g.a)({},L),{},Object(nt.a)({},r,t.id))),t.classList.add(it.a.selected))}},disabled:A,attributes_choices:L}),!b&&Object(m.jsxs)("div",{className:it.a.description,children:[Object(m.jsx)("label",{children:"Description:"}),Object(m.jsx)("input",{type:"text",name:"description",value:O.description||"",onChange:Y,disabled:A})]}),!b&&Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:it.a.prices,children:[Object(m.jsxs)("div",{className:it.a.price,children:[Object(m.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(m.jsx)("input",{name:"price",defaultValue:J(O.price),onBlur:z,onChange:Y,disabled:A}),Object(m.jsx)("i",{className:"fa fa-ruble-sign"})]}),Object(m.jsxs)("div",{className:it.a.price,children:[Object(m.jsx)("label",{htmlFor:"cost_price",children:"Cost Price:"}),Object(m.jsx)("input",{name:"cost_price",defaultValue:J(O.cost_price),onBlur:z,disabled:A}),Object(m.jsx)("i",{className:"fa fa-ruble-sign"})]})]})}),Object(m.jsxs)("div",{className:it.a["product-dates"],children:[Object(m.jsxs)("div",{className:it.a.created_at,children:[Object(m.jsx)("h4",{children:"\u0421\u043e\u0437\u0434\u0430\u043d:"}),Object(m.jsx)("span",{children:ft(O.created_at)})]}),Object(m.jsxs)("div",{className:it.a.updated_at,children:[Object(m.jsx)("h4",{children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:"}),Object(m.jsx)("span",{children:ft(O.updated_at)})]})]})]}),Object(m.jsxs)("div",{className:it.a.buttons,children:[Object(m.jsxs)("div",{className:it.a["button-submit"],onClick:W,children:[Object(m.jsx)("input",{type:"submit",value:"Ready"}),Object(m.jsx)("span",{children:"Submit"})]}),Object(m.jsx)("div",{className:it.a["button-cancel"],children:Object(m.jsx)("span",{id:it.a.cancel,onClick:B,children:"Cancel"})})]})]})]})},zt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object(n.useState)(t),a=Object(d.a)(r,2),c=a[0],i=a[1],s=Object(n.useMemo)((function(){var t=Object(at.a)(e);return t.length?(null!==c&&t.sort((function(e,t){return e[c.key]>t[c.key]?"asc"===c.direction?1:-1:e[c.key]<t[c.key]?"asc"===c.direction?-1:1:0})),t):[]}),[e,c]);function o(e){var t="asc";null!==c?(c.key===e&&"asc"===c.direction&&(t="desc"),i({key:e,direction:t})):i({key:e,direction:t})}return{items:s,requestSort:o,sortConfig:c}},Wt=r(41),Zt=r.n(Wt);function Xt(e){var t=e.target;return"TD"===t.tagName||t.closest("td")?{row:t.closest("tr").id,column:t.getAttribute("name"),cell:t.innerText}:void 0}function Qt(){return(Qt=Object(u.a)(o.a.mark((function e(t,r,n){var a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,c=Xt(t)){e.next=4;break}return e.abrupt("return");case 4:if("SPAN"!==a.tagName){e.next=16;break}if(!(n&&a.className===Zt.a.del&&window.confirm("".concat(a.innerText,"\n\rYou'r realy wanted delete this product?")))){e.next=14;break}return i=c.row,e.next=10,n(i,null,"product");case 10:s=e.sent,alert("Product id: ".concat(s,"\n\rDELETED!")),e.next=15;break;case 14:alert("CANCEL DELETED!");case 15:return e.abrupt("return");case 16:r?r(c.row):alert(JSON.stringify(c,null,2));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){var t=e.products,r=zt(t),n=r.items,a=r.requestSort,c=r.sortConfig;if(!n.length)return Object(m.jsx)("p",{children:"Empty Group!"});var i=e.schema||Object.keys(t[0]),s=e.schema.map((function(e){return e[1]})),o=function(e){if(c)switch(c.key===e?c.direction:null){case"asc":return"fa fa-sort-amount-up-alt";case"desc":return"fa fa-sort-amount-down"}};return Object(m.jsx)("div",{onClick:function(t){return function(e,t,r){return Qt.apply(this,arguments)}(t,e.callback,e.deleteProduct)},children:Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:s.map((function(e,t){return"uuid"===e||"id"===e?null:Object(m.jsxs)("th",{onClick:function(){return a(i[t][0])},children:[e,Object(m.jsx)("i",{className:o(i[t][0])})]},e)}))})}),Object(m.jsx)("tbody",{children:n.map((function(e){return Object(m.jsxs)("tr",{id:e.uuid||e.id,children:[i.map((function(t){return"uuid"===t[0]||"id"===t[0]?null:Object(m.jsx)("td",{name:t[0],children:e[t[0]]},"".concat(t[0],"_").concat(e.id||e.uuid))})),Object(m.jsx)("td",{children:Object(m.jsx)("span",{className:Zt.a.del})},"del_".concat(e.id||e.uuid))]},e.uuid||e.id)}))})]})})}var er=r(11),tr=r.n(er),rr={SearchPeriod:function(e){var t=e.head,r=e.name,n=e.type,a=e.viewPeriod,c=e.changeFormElement,i=e.changePeriod,s=r.match("price","gi")?a?"\u041e\u0442":"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435":a?"\u041d\u0430\u0447\u0430\u043b\u043e":"\u0414\u0430\u0442\u0430",o=r.match("price","gi")?"\u0414\u043e":"\u041a\u043e\u043d\u0435\u0446";function u(e,t){return"date"===e?Object(m.jsx)("input",{type:e,name:"".concat(r,"-").concat(t),onChange:c,min:dt(),max:lt()}):Object(m.jsx)("input",{type:e,name:"".concat(r,"-").concat(t),onChange:c})}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:tr.a["".concat(r,"-row")],children:[Object(m.jsx)("span",{className:"fa",children:t}),Object(m.jsxs)("div",{className:tr.a["input-row"],children:[Object(m.jsx)("label",{htmlFor:"".concat(r,"-from"),children:s}),u(n,"from")]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"checkbox",name:"".concat(r,"-period"),onChange:i}),Object(m.jsx)("span",{className:"fa",children:"\u043f\u0435\u0440\u0438\u043e\u0434"})]}),a&&Object(m.jsxs)("div",{className:tr.a["input-row"],children:[Object(m.jsx)("label",{htmlFor:"".concat(r,"-to"),children:o}),u(n,"to")]})]})})},Button:function(e){var t=e.type,r=e.label,n=e.icon,a=e.callback;return Object(m.jsx)("div",{className:tr.a["filter-button"],children:Object(m.jsxs)("span",{className:tr.a.filter,onClick:a,children:[r,Object(m.jsx)("i",{className:n}),"submit"===t&&Object(m.jsx)("input",{type:"submit",value:"\u0418\u0441\u043a\u0430\u0442\u044c",className:tr.a.hidden})]})})}},nr={created_at:!1,updated_at:!1,price:!1,cost_price:!1},ar=function(e){var t=Object(n.useState)(!1),r=Object(d.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)({}),s=Object(d.a)(i,2),o=s[0],u=s[1],l=Object(n.useState)(e.parent_id),p=Object(d.a)(l,2),b=p[0],j=p[1],f=Object(n.useState)(nr),h=Object(d.a)(f,2),O=h[0],v=h[1],x=Object(n.useState)(""),_=Object(d.a)(x,2),y=_[0],k=_[1],N=e.searchProducts,w=e.setIsSearching,S=Object(n.useCallback)((function(e){N(e)}),[]),E=Object(n.useCallback)((function(){var e=document.forms["form-search"]["current-pid"],t=Object(g.a)({},o);return e.checked||delete t.parent_id,Object.keys(t).forEach((function(e){t[e]&&t[e].length||delete t[e],O[e]&&1===t[e].length&&(t[e][1]=null)})),y.length&&(t.name=y),t}),[o,y,O]);function C(e){var t=e.target,r=t.name.split("-"),n=Object(d.a)(r,2),a=n[0],c=n[1],i=o[a];if(c){var s;switch(c){case"from":s=0;break;case"to":s=1;break;default:s=0}var l=t.value;"date"===e.target.type&&(l=Date.parse(l)),"number"===e.target.type&&(l=Number(l)),i?i[s]=l||null:(i=[],i=0===s?[l]:[null,l])}u(Object(g.a)(Object(g.a)({},o),{},Object(nt.a)({},a,i)))}function F(e){e.preventDefault(),e.stopPropagation(),S(E()),w(!0)}function I(e){var t=e.target.name.split("-")[0],r=e.target.checked;if(v(Object(g.a)(Object(g.a)({},O),{},Object(nt.a)({},t,r))),!r){if(!o[t])return;var n=[o[t][0]];u(Object(g.a)(Object(g.a)({},o),{},Object(nt.a)({},t,n)))}}return Object(n.useEffect)((function(){return j(e.parent_id)}),[e.parent_id]),Object(n.useEffect)((function(){Object.keys(o).length?w(!0):w(!1)}),[o,w]),Object(n.useEffect)((function(){y.length>2&&"rgx"!==y.slice(0,3)&&(S(E()),w(!0))}),[E,y,w,S]),Object(m.jsx)("div",{className:tr.a["form-container"],children:Object(m.jsxs)("form",{name:"form-search",id:tr.a["form-search"],onSubmit:F,children:[Object(m.jsxs)("div",{className:tr.a.search,children:[Object(m.jsxs)("div",{className:tr.a["form-search-row"],children:[Object(m.jsx)(rr.Button,{label:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440",icon:"fa fa-times",callback:function(t){var r=document.forms["form-search"];Array.from(r.elements).forEach((function(e){"INPUT"===e.tagName&&("checkbox"===e.type?e.checked=!1:e.value="")})),u({}),k(""),v(nr),c(!1),e.returnBeforeSearch()}}),Object(m.jsxs)("div",{className:tr.a["search-name"],children:[Object(m.jsx)("label",{htmlFor:"name",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(m.jsx)("input",{type:"text",name:"name",value:y,onChange:function(e){var t=e.target.value;k(t)}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"\u0412 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u0435"}),Object(m.jsx)("input",{type:"checkbox",name:"current-pid",onChange:function(e){e.target.checked&&u(Object(g.a)(Object(g.a)({},o),{},{parent_id:b||"0"})),S(E())},className:tr.a["current-pid"],id:e.pid})]})]}),Object(m.jsx)(rr.Button,{label:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440",icon:"fa fa-filter",callback:function(){return c((function(e){return!e}))}}),Object(m.jsx)(rr.Button,{label:"\u0418\u0441\u043a\u0430\u0442\u044c",icon:"fa fa-search",callback:F,type:"submit"})]}),Object(m.jsxs)("fieldset",{className:a?"":tr.a.hidden,children:[Object(m.jsxs)("div",{className:tr.a["form-search-date"],children:[Object(m.jsx)(rr.SearchPeriod,{head:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",name:"created_at",type:"date",viewPeriod:O.created_at,changeFormElement:C,changePeriod:I}),Object(m.jsx)(rr.SearchPeriod,{head:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",name:"updated_at",type:"date",viewPeriod:O.updated_at,changeFormElement:C,changePeriod:I})]}),Object(m.jsxs)("div",{className:tr.a["form-search-price"],children:[Object(m.jsx)(rr.SearchPeriod,{head:"\u0426\u0435\u043d\u0430",name:"price",type:"number",viewPeriod:O.price,changeFormElement:C,changePeriod:I}),Object(m.jsx)(rr.SearchPeriod,{head:"\u0426\u0435\u043d\u0430 \u043f\u043e \u043f\u0440\u0438\u0445\u043e\u0434\u0443",name:"cost_price",type:"number",viewPeriod:O.cost_price,changeFormElement:C,changePeriod:I})]})]})]})})};var cr=function(e,t){var r=undefined;return e===String.prototype.match||e===Array.prototype.includes?(r=t[0],t=t.slice(1)):e===RegExp.prototype.test&&(r=t[1],t=t.slice(0,1)),e.call.apply(e,[r].concat(Object(at.a)(t)))};function ir(e){var t=[];return Object.keys(e).forEach((function(r){var n,a,c=[r],i=e[r],s=function(e,t){return e===t};switch(typeof i){case"string":if("name"===r)(function(e){if(isNaN(Number(e)))return!1;if(![7,8,12,13].includes(e.length))return!1;var t=0;return e.split("").forEach((function(e,r){r%2!==0?(t+=3*Number(e),t%=10):(t+=Number(e),t%=10)})),!t})(i)&&(a=[i],c=["barcodes"],s=Array.prototype.includes),a=[function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("rgx"===t.slice(0,3)){e=t.replace(/rgx\s*/,"").replace(/^[(/](.*)[)/]$/,"$1");try{return new RegExp(e,"gi")}catch(r){return console.log(r.message),alert(r.message),r}}return e=t.replace(/[-[.+$*()^\]\\]/g,"\\$&"),console.log(e),new RegExp(e,"gi")}(i)],c=[].concat(Object(at.a)(c),["article_number","description"]),s=RegExp.prototype.test;else a=[i];n={keys:c,target:a,callback:s};break;case"number":"barcodes"===r?s=Array.prototype.includes:r.match(/_at/gi)&&(s=function(e,t){return e>=t&&e<=t+864e5}),n={keys:c,target:a=[i],callback:s};break;case"object":if(Array.isArray(i))if(a=Object(at.a)(i),i.length>1)null!==i[0]&&i[0]?null!==i[1]&&i[1]?s=function(e,t,r){return t<=r?e>=t&&e<=r:e>=r&&e<=t}:(s=function(e,t){return e>=t},a=[i[0]]):(s=function(e,t){return e<=t},a=[i[1]]);else if(r.match(/_at/gi))s=function(e,t,r){return t<=r?e>=t&&e<=r:e>=r&&e<=t},a=[i[0],i[0]+864e5];n={keys:c,target:a,callback:s};break;default:n={keys:c,target:[i],callback:s}}t.push(n)})),t}var sr=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),i=Object(d.a)(c,2),s=i[0],o=i[1];return Object(n.useEffect)((function(){return r.length&&B("all").then((function(e){var t=Object(at.a)(e).filter((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!e&&(!t.length||t.reduce((function(t,r){var n=r.keys.reduce((function(t,n){return e[n]&&cr(r.callback,[e[n]].concat(Object(at.a)(r.target)))||t}),!1);return t&&!!n}),!0))}(e,r)}));o(t)})),function(){return o([])}}),[r]),{items:s,setFilterConfig:function(e){a(ir(e))},search:r}},or=r(32),ur=r.n(or),lr=function(e){var t=Object(at.a)(e.groups),r=t.find((function(t){return t.id===e.parent_id})),n=r?r.label:"Root",a=e.disabled?null:e.onClick;function c(){return(c=Object(u.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443\n\r".concat(n,"\n\rid: ").concat(e.parent_id,"?"))){t.next=10;break}return t.next=4,G(e.parent_id);case 4:return(r=t.sent.parent_id)||(r="0"),t.next=8,e.deleteProduct(e.parent_id,r,"group");case 8:t.next=11;break;case 10:alert("DELETED CANCEL");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:ur.a["tree-container"],children:[e.treeView&&Object(m.jsx)(Rt,{children:Object(m.jsx)("div",{className:ur.a["tree-modal"],children:Object(m.jsx)(kt,{data:t,price:"Price",treeLabel:"Groups",callback:e.callbackTree,viewEdit:e.viewEdit,pId:e.parent_id})})}),"0"!==e.parent_id&&Object(m.jsx)("div",{onClick:function(){return e.getProductId(e.parent_id,!0)},className:ur.a.edit,children:Object(m.jsx)("i",{className:"fa fa-edit fa-1x"})}),Object(m.jsx)("div",{className:ur.a["g-tree"],onClick:a,children:Object(m.jsxs)("div",{name:"parent_id",children:[e.label||n,Object(m.jsx)("i",{className:"fa fa-bars fa-1x"})]})}),e.isEmpty&&Object(m.jsx)("div",{onClick:function(){return c.apply(this,arguments)},className:ur.a.del,children:Object(m.jsx)("i",{className:"fa fa-trash-alt"})})]})},dr=function(e){var t=sr(),r=t.items,a=t.setFilterConfig,c=Object(n.useState)(e.pid),i=Object(d.a)(c,2),s=i[0],o=i[1],u=Object(n.useState)(!1),l=Object(d.a)(u,2),p=l[0],b=l[1],j=Object(n.useState)(""),f=Object(d.a)(j,2),h=f[0],O=f[1],v=Object(n.useState)(!1),x=Object(d.a)(v,2),_=x[0],y=x[1],k=e.setCommodities,N=Object(n.useMemo)((function(){var t=e.schema,r=[];return Object.keys(t).forEach((function(e){var n;t[e][1]&&(n=t[e][0]?t[e][0]:e,r.push([e,n]))})),r}),[e.schema]),S=Object(n.useState)(!1),E=Object(d.a)(S,2),C=E[0],F=E[1];e.isInit||e.history.push("/settings");var I=e.setPid;Object(n.useEffect)((function(){I(s)}),[s,I]),Object(n.useEffect)((function(){!e.isLoaded&&e.isInit&&(e.setPid("0"),e.getGroups()),!e.comIsLoaded&&e.isInit&&e.getProducts(e.pid),e.error&&(alert("".concat(e.error.name,"\n\r").concat(e.error.message)),e.setError(null))}),[e]),Object(n.useEffect)((function(){k(r),_&&O("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 - ".concat(r.length," \u043f\u043e\u0437\u0438\u0446\u0438\u0439."))}),[r,k,_]),Object(n.useEffect)((function(){return e.commodities.length||b(!0),function(){return b(!1)}}),[e.commodities]);var D={searchProducts:function(e){a(e)},returnBeforeSearch:function(){e.getProducts(e.pid),y(!1),O("")},setIsSearching:y,parent_id:s};return e.error?Object(m.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430...",e.error.message]}):e.isLoaded?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:et.a.head,children:[Object(m.jsx)("div",{className:et.a.buttons,children:Object(m.jsxs)("span",{className:"".concat(et.a["button-add"]," fa"),onClick:function(){e.getProductId()},children:["+ \u0422\u043e\u0432\u0430\u0440/\u0413\u0440\u0443\u043f\u043f\u0443",Object(m.jsx)("i",{className:"fa fa-file"})]})}),Object(m.jsx)(ar,Object(g.a)({},D))]}),e.viewForm&&Object(m.jsx)(Rt,{children:Object(m.jsx)(Yt,{groups:e.groups,formData:e.formData,formPost:e.formPost,formError:e.formError,setViewForm:e.setViewForm,setFormData:e.setFormData,toggleFormPost:e.toggleFormPost,postFormData:e.postFormData,setFormError:e.setFormError,pid:e.pid,isGroup:e.isGroup})}),Object(m.jsxs)("div",{className:et.a.container,children:[Object(m.jsx)(lr,{groups:e.groups,treeView:C,onClick:function(){F(!C)},callbackTree:function(t,r,n){var a;"SPAN"!==r&&"fa fa-edit"!==n||("fa fa-edit"!==n?(a=t||0,e.setPid(a),o(a)):e.getProductId(t,!0),F(!1))},parent_id:e.pid,isEmpty:p,deleteProduct:e.deleteProduct,getProductId:e.getProductId,label:h,viewEdit:!0}),Object(m.jsxs)("div",{className:et.a.list,children:[!e.comIsLoaded&&Object(m.jsx)(w,{limit:20,text:"Processing..."}),e.comIsLoaded&&Object(m.jsx)($t,{products:e.commodities,callback:e.getProductId,deleteProduct:e.deleteProduct,schema:N})]})]})]}):Object(m.jsx)(rt,{})},pr=Object(_.b)((function(e){var t=e.app.isInit,r=e.settings.products.table.schema;return{isLoaded:(e=e.commodityPage).isLoaded,groups:e.groups,price:"Price",pid:e.pid,commodities:e.commodities,comIsLoaded:e.comIsLoaded,error:e.error,viewForm:e.viewForm,formData:e.form.formData,isGroup:e.form.isGroup,formPost:e.form.formPost,formError:e.form.formError,isInit:t,schema:r}}),{getGroups:function(){return function(e){G("all").then((function(t){e(Ge(t))}))}},getProducts:function(e){return function(t){q(e).then((function(e){t(qe(e))}))}},setPid:function(e){return function(t){return t(Be(e))}},setViewForm:function(e){return function(t){t(He(e))}},getProductId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?function(r){(t?G:B)(e).then((function(e){return r(Je(e,t)),!0})).then((function(e){e&&r(He(!0))}))}:function(e){return e(He(!0))}},deleteProduct:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"product";return function(){var n=Object(u.a)(o.a.mark((function n(a,c){var i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=t||c().commodityPage.pid,n.next=4,U.deleteData(r,e);case 4:if(!(n.sent.status>=400)){n.next=9;break}throw new Error("Error deleting object \n\r id: ".concat(e));case 9:return n.next=11,J("".concat(r,"s"),e);case 11:if("group"!==r){n.next=17;break}return n.next=14,G("all");case 14:i=n.sent,a(Ge(i)),t="0";case 17:return a(Be(t||"0")),n.abrupt("return",e);case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(0),console.dir(n.t0),a(Me(Re(n.t0)));case 25:case"end":return n.stop()}}),n,null,[[0,21]])})));return function(e,t){return n.apply(this,arguments)}}()},setFormData:function(e){return function(t){t(Je(e))}},toggleFormPost:function(e){return function(t){return t(Ye(e))}},postFormData:function(e,t,r){return function(n){var a,c;switch(e){case"product":a="product";break;case"group":a="group";break;default:a="product"}switch(t){case"post":c=U.postData;break;case"put":c=U.putData;break;default:c=U.postData}c(a,r).then((function(e){if(!(e.status<400||e.id))throw Re(e);return H("".concat(a,"s"),e),e})).then((function(t){return"group"===e?t.id:t.parent_id?t.parent_id:"0"})).then((function(t){n(Ye(!1)),n(He(!1)),n(Je(null)),"group"===e?G("all").then((function(e){return n(Ge(e))})).then(n(Be(t))):n(Be(t))})).catch((function(e){console.dir(e),alert(e),n(Ve(Re(e))),n(Ye(!1))}))}},setFormError:function(e){return function(t){return t(Ve(e))}},setError:function(e){return function(t){return t(Me(e))}},setCommodities:function(e){return function(t){return t(qe(e))}}})(dr),br=r(36),jr=r.n(br),fr=function(e){var t;return t=Object(m.jsxs)("div",{children:[e.name,Object(m.jsx)("hr",{}),e.description,Object(m.jsx)("hr",{}),e.article]}),Object(m.jsxs)("article",{className:jr.a.article,children:[Object(m.jsx)("h3",{children:e.index}),t]})},mr=r(116),hr=function(e){var t=Object(n.useState)([]),r=Object(d.a)(t,2),a=r[0],c=r[1],i=[];return Object(m.jsxs)("div",{className:jr.a.page,children:[Object(m.jsx)("input",{type:"file",id:"input",onChange:function(e){Object(mr.a)(e.target.files[0]).then((function(e){e.forEach((function(e,t){if(t){var r=Object(m.jsx)(fr,{index:e[3],name:e[1],description:e[8],article:e[9]},e[0]);i.push(r)}}))})).then((function(){c(i)}))}}),Object(m.jsx)("h1",{children:"LATEST NEWS"}),Object(m.jsx)("div",{className:jr.a.archive,children:a})]})},Or=function(e){var t=e.count;return Object(n.useEffect)((function(){return console.log("render - "+t),function(){console.log("unmount - "+t)}}),[t]),Object(m.jsxs)("div",{children:["example: ",t]})},vr=r(70),xr=function(e){var t=sr([]),r=t.items,a=t.setFilterConfig,c=t.search,i=Object(n.useState)([]),s=Object(d.a)(i,2),l=s[0],p=s[1],b=Object(n.useState)(0),j=Object(d.a)(b,2),f=j[0],h=j[1];Object(n.useEffect)((function(){return p(r),console.log(l),console.log(c),function(){return p([])}}),[l,r,c]);var O=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getSchemes();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=vr)[0].uuid=localStorage.getItem("storeKey"),t[0].appId=localStorage.getItem("appKey"),e.next=5,U.postSchemes(t);case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return G("0").then((function(e){return console.log(e)})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(){h(f+1),f>5&&h(0)},children:f}),Object(m.jsx)("button",{onClick:function(){a({parent_id:"0"})},children:"Filter"}),f<5&&Object(m.jsx)(Or,{count:f}),f<5&&Object(m.jsx)(Or,{count:-1}),Object(m.jsx)("button",{onClick:v,disabled:!0,children:"Post Schemes"}),Object(m.jsx)("button",{onClick:O,children:"Get Schemes"})]})},gr=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),i=Object(d.a)(c,2),s=i[0],l=i[1];function p(){return(p=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:r=e.sent,console.log(r),alert(JSON.stringify(r,null,2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(u.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,U.getGroupsEvo();case 3:return t=e.sent,console.log(t),e.next=7,t.items;case 7:return r=e.sent,e.next=10,M("groups",r);case 10:return e.next=12,G("all");case 12:(n=e.sent).forEach((function(e){e.pid=e.parent_id?e.parent_id:null,e.label=e.name})),a(n),l(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"IDB Test"}),Object(m.jsx)("button",{onClick:function(){return function(){return b.apply(this,arguments)}()},disabled:s,children:"get Groups Evo"}),s&&Object(m.jsx)("p",{children:"Loading..."}),!!r.length&&Object(m.jsx)(kt,{data:r,price:"Price",treeLabel:"Groups",callback:function(e){return p.apply(this,arguments)}})]})},_r=r(72);function yr(e){var t=e.obj,r=Object(_r.a)(e,["obj"]),n=JSON.stringify(t,null,2),a=new Blob([n],{type:"application/json"});return Object(g.a)({blob:a},r)}function kr(e){var t=e.blob,r=e.fileName,n=void 0===r?"test":r,a=e.ext,c=void 0===a?"json":a,i=document.createElement("a");i.download="".concat(n,".").concat(c),i.href=URL.createObjectURL(t),i.click(),URL.revokeObjectURL(i.href)}function Nr(){for(var e={},t=0,r=Object.keys(localStorage);t<r.length;t++){var n=r[t];e[n]=localStorage.getItem(n)}return e}function wr(){return Sr.apply(this,arguments)}function Sr(){return(Sr=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,G("all");case 3:return t.groups=e.sent,e.next=6,B("all");case 6:return t.products=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Er(e){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(u.a)(o.a.mark((function e(t){var r,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.type,n=t.fileName,a=void 0===n?"config":n,c={},e.t0=r,e.next="config"===e.t0?5:"commodities"===e.t0?7:11;break;case 5:return c.config=Nr(),e.abrupt("break",13);case 7:return e.next=9,wr();case 9:return c.commodities=e.sent,e.abrupt("break",13);case 11:return c.config=Nr(),e.abrupt("break",13);case 13:z(kr,yr)({obj:c,fileName:a});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.files[0],(n=new FileReader).readAsText(r),e.abrupt("return",new Promise((function(e,t){n.onload=function(){var t=JSON.parse(n.result);e(t)},n.onerror=function(){console.error(n.error),t(n.error)}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(e){var t=document.getElementById(e).value;if(t)return window.localStorage[e]=t,t}var Tr=Object(_.b)((function(e){return{appKey:e.app.appKey,storeKey:e.app.storeKey,isInit:e.app.isInit,stores:e.app.stores,periodUpdate:e.app.periodUpdate}}),{setAppKey:we,setStoreKey:Se,setStores:function(e){return function(t){t(function(e){return{type:ce,stores:e}}(e))}},toggleInitApp:Ee,setPeriodUpdate:Fe})((function(e){var t=a.a.createRef();function r(){return(r=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er({fileName:"backup_config_".concat((new Date).toJSON())});case 2:if(console.log("File with config saved"),!window.confirm("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432?")){e.next=8;break}return e.next=7,Er({type:"commodities",fileName:"backup_commodities_".concat((new Date).toJSON())});case 7:console.log("File with Data saved");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.appKey=r,e.setAppKey(r),t.prev=2,t.next=5,U.getStores();case 5:n=t.sent,e.setStores(n),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),delete localStorage.appKey,e.setAppKey(null),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}function s(){return(s=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Dr("appKey")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,c(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(t){var r=t.target.id;localStorage.storeKey=r,e.setStoreKey(r)}var p=Object(n.useState)(!1),b=Object(d.a)(p,2),j=b[0],f=b[1];function h(){return(h=Object(u.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),localStorage.clear(),t.next=4,V(r);case 4:e.setAppKey(null),e.setStoreKey(null),e.toggleInitApp(!1),f(!1),window.location.reload();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(u.a)(o.a.mark((function r(){var n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.current,r.next=3,Fr(n);case 3:return a=r.sent.config,r.next=6,c(a.appKey);case 6:localStorage.storeKey=a.storeKey,e.setStoreKey(a.storeKey);case 8:case"end":return r.stop()}}),r)})))).apply(this,arguments)}var v=Object(n.useState)(e.periodUpdate),x=Object(d.a)(v,2),g=x[0],_=x[1];return Object(n.useEffect)((function(){return _(e.periodUpdate)}),[e.periodUpdate]),Object(m.jsxs)("div",{children:[e.appKey&&e.storeKey&&!e.isInit&&Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:"\u0418\u0434\u0435\u0442 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f..."})}),!e.appKey&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435!"}),Object(m.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f..."})]}),j&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"\u0418\u0434\u0435\u0442 \u043e\u0447\u0438\u0441\u0442\u043a\u0430 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430..."}),Object(m.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438."}),Object(m.jsx)("p",{children:"\u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u0442\u044f\u043d\u0443\u043b\u0441\u044f, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u0440\u0443\u0447\u043d\u0443\u044e."})]}),!e.appKey&&Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{id:"appKey"}),Object(m.jsx)("button",{onClick:function(){return s.apply(this,arguments)},children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"})]}),!!e.appKey&&!e.isInit&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"\u0422\u043e\u043a\u0435\u043d \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),Object(m.jsx)("p",{children:e.appKey})]}),e.appKey&&!!e.stores.length&&!e.storeKey&&Object(m.jsxs)("div",{style:{cursor:"pointer"},children:[Object(m.jsx)("h3",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0430\u0433\u0430\u0437\u0438\u043d"}),Object(m.jsx)("ul",{children:e.stores.map((function(e){return Object(m.jsxs)("li",{id:e.id,onClick:l,children:[e.id,": ",e.name]},e.id)}))})]}),!!e.storeKey&&!e.isInit&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043c\u0430\u0433\u0430\u0437\u0438\u043d"}),Object(m.jsx)("p",{children:e.storeKey})]}),e.isInit&&!j&&Object(m.jsx)("h2",{children:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e!"}),e.isInit&&!j&&Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:function(){return function(e){return h.apply(this,arguments)}("Evo")},children:"cleare Storage"}),Object(m.jsx)("button",{onClick:function(){return r.apply(this,arguments)},children:"Save Config"}),Object(m.jsx)("label",{htmlFor:"periodUpdate",children:"\u041f\u0435\u0440\u0438\u043e\u0434 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f(\u0447\u0430\u0441.):"}),Object(m.jsx)("input",{type:"number",name:"periodUpdate",id:"periodUpdate",style:{width:"3rem"},value:g,onChange:function(e){return _(e.target.value)},onBlur:function(t){localStorage.setItem("periodUpdate",g),e.setPeriodUpdate(g)}})]}),!e.appKey&&Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"\u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438..."}),Object(m.jsxs)("label",{children:["\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438\u0437 \u0444\u0430\u0439\u043b\u0430",Object(m.jsx)("input",{type:"file",ref:t,onChange:function(){return O.apply(this,arguments)},hidden:!0})]})]})]})})),Pr=r(38),Lr=r.n(Pr);function Ur(e){var t,r;return Object(m.jsxs)("div",{className:Lr.a["card-container"],children:[Object(m.jsx)("div",{className:Lr.a["card-header"],children:Object(m.jsxs)("h3",{children:[e.type,": ",e.number]})}),Object(m.jsx)("div",{className:Lr.a["card-body"],children:Object(m.jsx)("ul",{children:(null===(t=e.body)||void 0===t?void 0:t.positions)&&e.body.positions.map((function(e){return Object(m.jsxs)("li",{id:e.uuid,children:[Object(m.jsx)("span",{children:e.product_name})," |",Object(m.jsx)("span",{children:e.price})," |",Object(m.jsx)("span",{children:e.quantity})," |",Object(m.jsx)("span",{children:e.sum})]},e.uuid)}))})}),Object(m.jsxs)("div",{className:Lr.a["card-footer"],children:["Sum: ",null===(r=e.body)||void 0===r?void 0:r.result_sum]})]})}var Ar=Object(_.b)((function(e){return{isInit:e.app.isInit}}))((function(e){e.isInit||e.history.push("/settings");var t=[["ACCEPT","\u041f\u0440\u0438\u0435\u043c\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"],["INVENTORY","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438"],["REVALUATION","\u041f\u0435\u0440\u0435\u043e\u0446\u0435\u043d\u043a\u0430"],["RETURN","\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0443"],["WRITE_OFF","\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435"],["SELL","\u041f\u0440\u043e\u0434\u0430\u0436\u0430"],["PAYBACK","\u0412\u043e\u0437\u0432\u0440\u0430\u0442"],["employees","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"],["ofd","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u041e\u0424\u0414"]],r=Object(n.useState)([]),a=Object(d.a)(r,2),c=a[0],i=a[1],s=Object(n.useState)(!1),l=Object(d.a)(s,2),p=l[0],b=l[1],j=Object(n.useState)(t[0][0]),f=Object(d.a)(j,2),h=f[0],O=f[1],v=Object(n.useState)({dateStart:new Date,dateEnd:new Date,dateMin:dt()}),x=Object(d.a)(v,2),_=x[0],y=x[1];function k(){return(k=Object(u.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),console.log(h),e.prev=2,"employees"!==h){e.next=9;break}return e.next=6,U.getEmoloyees();case 6:t=e.sent,e.next=19;break;case 9:if("ofd"!==h){e.next=15;break}return e.next=12,U.getOfdDocuments();case 12:t=e.sent,e.next=19;break;case 15:return r={dateStart:_.dateStart.getTime(),dateEnd:_.dateEnd.getTime()},e.next=18,U.getDocuments(h,r);case 18:t=e.sent;case 19:t.items?i(t.items):i([]),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),alert(e.t0.message),i([]);case 26:console.log(t),b(!1);case 28:case"end":return e.stop()}}),e,null,[[2,22]])})))).apply(this,arguments)}function N(e){var t=new Date(e.currentTarget.value);"dateStart"===e.currentTarget.name?t.setHours(0):t.setHours(23),y(Object(g.a)(Object(g.a)({},_),{},Object(nt.a)({},e.currentTarget.name,t)))}function S(e){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("SPAN"===t.target.tagName){e.next=2;break}return e.abrupt("return");case 2:if("\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442!"!==(r=t.currentTarget.id)){e.next=6;break}return alert(r),e.abrupt("return");case 6:if("employees"!==h){e.next=12;break}return e.next=9,U.getEmoloyees(r);case 9:n=e.sent,e.next=15;break;case 12:return e.next=14,U.getDocuments(null,null,r);case 14:n=e.sent;case 15:console.log(n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){_.dateStart.setHours(0,0,0)}),[_]);var C={cursor:"pointer",border:"1px solid green",paddingTop:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",background:"yellow"};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h1",{children:["Documents ",h]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"dateStart",children:"Date start:"}),Object(m.jsx)("input",{type:"date",name:"dateStart",id:"dateStart",value:lt(_.dateStart),min:_.dateMin,max:lt(),onChange:N}),Object(m.jsx)("label",{htmlFor:"dateEnd",children:"Date end:"}),Object(m.jsx)("input",{type:"date",name:"dateEnd",id:"dateEnd",value:lt(_.dateEnd),min:_.dateMin,max:lt(),onChange:N})]}),Object(m.jsxs)("label",{children:["DocType",Object(m.jsx)("select",{name:"type_docs",id:"typeDocs",onChange:function(e){O(e.target.value),i([])},children:t.map((function(e){return Object(m.jsx)("option",{value:e[0],children:e[1]},e[0])}))})]}),Object(m.jsx)("button",{onClick:function(){return k.apply(this,arguments)},disabled:p,children:"get Documents"}),p&&Object(m.jsx)(w,{limit:20,delay:500,text:"Loading "}),!!c.length&&Object(m.jsx)("ul",{children:c.map((function(e,t){return"SELL"===h?Object(m.jsx)(Ur,Object(g.a)({},e),e.id):t<20&&Object(m.jsx)("li",{id:e.id,onClick:S,style:{margin:"0.5rem"},children:Object(m.jsx)("span",{style:C,children:e.id})},e.id)}))})]})})),Kr=Object(_.b)((function(e){return{appKey:e.app.appKey,storeKey:e.app.storeKey,isInit:e.app.isInit,lastUpdate:e.app.lastUpdate,periodUpdate:e.app.periodUpdate}}),{initializeApp:function(){return function(e){localStorage.appKey&&(e(_e(localStorage.appKey)),localStorage.storeKey&&e(ye(localStorage.storeKey)),localStorage.lastUpdate&&(e(Ne(localStorage.lastUpdate)),e(ke(!0))),localStorage.periodUpdate&&e(Fe(localStorage.periodUpdate)))}},toggleInitApp:Ee,setAppKey:we,setStoreKey:Se,setLastUpdate:Ce,setPeriodUpdate:Fe})((function(e){return Object(n.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(r){var n,a=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:24,!W(r,n)){t.next=5;break}return t.next=4,Z();case 4:e.setLastUpdate();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.isInit||e.initializeApp(),e.appKey&&e.storeKey&&!e.isInit&&function(e){return t.apply(this,arguments)}(e.lastUpdate,e.periodUpdate).then((function(){return e.toggleInitApp(!0)})).catch((function(e){return alert(e.message)}))}),[e]),Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(Qe,{}),Object(m.jsxs)("div",{className:"app-content",children:[Object(m.jsx)(l.a,{exact:!0,path:"/"}),Object(m.jsx)(l.a,{exact:!0,path:"/settings",component:Tr}),Object(m.jsx)(l.a,{path:"/example",component:xr}),e.isInit&&Object(m.jsx)(l.a,{path:"/commodity",component:pr}),Object(m.jsx)(l.a,{path:"/game",component:x}),Object(m.jsx)(l.a,{path:"/table",component:hr}),Object(m.jsx)(l.a,{path:"/test",component:gr}),Object(m.jsx)(l.a,{path:"/documents",component:Ar})]})]})})),Rr=r(30),Gr={langs:{ru:0,en:1},currentLang:0,title:"",navBar:[{link:"/",title:["\u041d\u0430\u0447\u0430\u043b\u043e","Start"]},{link:"/settings",title:["\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","Settings"]},{link:"/commodity",title:["\u0422\u043e\u0432\u0430\u0440\u044b","Products"]},{link:"/documents",title:["\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b","Documents"]},{link:"/game",title:["\u0418\u0433\u0440\u0430\u0442\u044c","Game"]},{link:"/table",title:["\u042d\u043a\u0441\u043f\u043e\u0440\u0442 Excel","Export Excel"]}]},Br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:var r,n=e.navBar.find((function(e){return e.link===t.path}));return void 0!==n&&(r=n.title[e.currentLang]),Object(g.a)(Object(g.a)({},e),{},{title:r});case de:return Object(g.a)(Object(g.a)({},e),{},{currentLang:e.langs[t.lng]});default:return e}},qr={groups:[],commodities:[],pid:null,isLoaded:!1,comIsLoaded:!1,error:null,lastUpdate:15851664e5,isUpdated:!1,viewForm:!1,form:{formData:{id:null,name:"",code:"",measure_name:"\u0448\u0442",tax:"NO_VAT",allow_to_sell:!0,description:"",article_number:"",parent_id:null,type:"NORMAL",price:0,cost_price:0,quantity:0,photos:[],barcodes:[]},formPost:!1,resMessage:null,formError:null,isGroup:!1,photos:[]}},Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:var r=[];return t.groups.forEach((function(e){var t={id:e.id,pid:e.parent_id?e.parent_id:null,label:e.name};r.push(t)})),Object(g.a)(Object(g.a)({},e),{},{groups:[].concat(r),isLoaded:!0});case be:return Object(g.a)(Object(g.a)({},e),{},{pid:t.pid,comIsLoaded:!1});case je:return Object(g.a)(Object(g.a)({},e),{},{commodities:t.commodities,comIsLoaded:!0});case fe:return Object(g.a)(Object(g.a)({},e),{},{error:t.error});case ve:return Object(g.a)(Object(g.a)({},e),{},{form:Object(g.a)(Object(g.a)({},e.form),{},{formError:t.error})});case me:return Object(g.a)(Object(g.a)({},e),{},{viewForm:t.viewForm});case Oe:return Object(g.a)(Object(g.a)({},e),{},{form:Object(g.a)(Object(g.a)({},e.form),{},{formPost:t.formPost})});case he:var n=null===t.formData?qr.form.formData:t.formData,a=t.isGroup;return Object(g.a)(Object(g.a)({},e),{},{form:Object(g.a)(Object(g.a)({},e.form),{},{formData:n,isGroup:a})});case xe:return Object(g.a)(Object(g.a)({},e),{},{form:t.photos});default:return e}},Vr=r(71),Hr={appKey:null,storeKey:null,isInit:!1,stores:[],lastUpdate:null,periodUpdate:24,syncData:{products:[],groups:[]}},Jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(g.a)(Object(g.a)({},e),{},{appKey:t.key});case ne:return Object(g.a)(Object(g.a)({},e),{},{storeKey:t.key});case ae:return Object(g.a)(Object(g.a)({},e),{},{isInit:t.init});case ce:return Object(g.a)(Object(g.a)({},e),{},{stores:Object(at.a)(t.stores)});case ie:return Object(g.a)(Object(g.a)({},e),{},{lastUpdate:+t.dateUpdate});case se:return Object(g.a)(Object(g.a)({},e),{},{periodUpdate:t.periodUpdate});case oe:return Object(g.a)(Object(g.a)({},e),{},{syncData:{products:Object(at.a)(t.products),groups:Object(at.a)(t.groups)}});case ue:return Object(g.a)(Object(g.a)({},e),{},{syncData:{products:[],groups:[]}});default:return e}},Yr={app:{appKey:null,storeKey:null,isInit:!1,stores:[],lastUpdate:null,periodUpdate:24},products:{table:{schema:{id:["",0],name:["\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",1],code:["",0],measure_name:["",0],tax:["",0],allow_to_sell:["",0],description:["",0],article_number:["\u0410\u0440\u0442\u0438\u043a\u0443\u043b",1],parent_id:["",0],type:["",0],price:["\u0426\u0435\u043d\u0430",1],cost_price:["",0],quantity:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",1],barcodes:["",0]}}}},zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:var r=Object(g.a)(Object(g.a)({},e.products.table.schema),t.schema),n=Object(g.a)({},e);return n.products.table.schema=Object(g.a)({},r),n;default:return e}},Wr=Object(Rr.c)({navigation:Br,commodityPage:Mr,app:Jr,settings:zr}),Zr=Object(Rr.d)(Wr,Object(Rr.a)(Vr.a));i.a.render(Object(m.jsx)(_.a,{store:Zr,children:Object(m.jsx)(te.a,{children:Object(m.jsx)(Kr,{})})}),document.getElementById("root")),window.store=Zr},22:function(e,t,r){e.exports={"attributes-ul":"BlockMod_attributes-ul__1cSEM","choices-ul":"BlockMod_choices-ul__2IoZY",attribut:"BlockMod_attribut__3ECdF",choice:"BlockMod_choice__15NUI","form-change-name":"BlockMod_form-change-name__3Yylj"}},23:function(e,t,r){e.exports={"column-1":"Header_column-1__1RbZq",info:"Header_info__2BNjI",navbar:"Header_navbar__eQySY","column-2":"Header_column-2__gg_EM",title:"Header_title__1REPZ",lng:"Header_lng__1HHqf"}},31:function(e,t,r){e.exports={container:"Commodity_container__2O07C",list:"Commodity_list__2ILIG",selected:"Commodity_selected__3t5hz",del:"Commodity_del__RIa5V",head:"Commodity_head__2sL_Q",buttons:"Commodity_buttons__lNlz7","button-add":"Commodity_button-add__LhQoK"}},32:function(e,t,r){e.exports={"tree-container":"GroupsTree_tree-container__21gHs","g-tree":"GroupsTree_g-tree__17BND","tree-modal":"GroupsTree_tree-modal__2xccT",del:"GroupsTree_del__1J4Fs",edit:"GroupsTree_edit__2W3JP"}},36:function(e,t,r){e.exports={image:"ImpExcel_image__3T78n",page:"ImpExcel_page__escWJ",archive:"ImpExcel_archive__39uKW",article:"ImpExcel_article__23hzN"}},37:function(e,t,r){e.exports={"cover-div":"FormModalWrapper_cover-div__2PEhn",container:"FormModalWrapper_container__190ch"}},38:function(e,t,r){e.exports={"card-container":"CardSell_card-container__2KUht","card-footer":"CardSell_card-footer__3mcSe"}},41:function(e,t,r){e.exports={del:"Table_del__3ZTVB"}},43:function(e){e.exports=JSON.parse('{"measure_names":["","\u0448\u0442","\u043a\u0433","\u043b","\u043c","\u043a\u043c","\u043c2","\u043c3","\u043a\u043e\u043c\u043f\u043b","\u0443\u043f\u0430\u043a","\u0435\u0434","\u0434\u0440\u043e\u0431"],"types":[{"type":"NORMAL","description":"\u043e\u0431\u044b\u0447\u043d\u044b\u0439"},{"type":"ALCOHOL_MARKED","description":"\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c"},{"type":"ALCOHOL_NOT_MARKED","description":"\u043d\u0435\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c"},{"type":"TOBACCO_MARKED","description":"\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0430\u0431\u0430\u043a"},{"type":"SHOES_MARKED","description":"\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u043e\u0431\u0443\u0432\u044c"},{"type":"MEDICINE_MARKED","description":"\u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430"},{"type":"SERVICE","description":"\u0443\u0441\u043b\u0443\u0433\u0430"}],"taxes":[{"tax":"NO_VAT","description":"\u0431\u0435\u0437 \u041d\u0414\u0421"},{"tax":"VAT_0","description":"\u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 0%"},{"tax":"VAT_10","description":"\u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 10%"},{"tax":"VAT_10_110","description":"\u0440\u0430\u0441\u0447\u0451\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 10%"},{"tax":"VAT_18","description":"\u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 18%."},{"tax":"VAT_18_118","description":"\u0440\u0430\u0441\u0447\u0451\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 18%."}]}')},44:function(e,t,r){e.exports={tree:"Tree_tree__2BiYs",selected:"Tree_selected__3nfeH","children-length":"Tree_children-length__MnPzu"}},48:function(e,t,r){e.exports={item:"Navbar_item__3BYsL",active:"Navbar_active__2-ZqH"}},51:function(e,t,r){e.exports={"div-cover":"Modal_div-cover__NbL5i","div-container":"Modal_div-container__uuIn_"}},6:function(e,t,r){e.exports={"form-product":"Form_form-product__rFtLH","menu-buttons":"Form_menu-buttons__5lLq7","menu-buttons-groups":"Form_menu-buttons-groups__QxTTd","product-info":"Form_product-info__2OoX8","id-barcodes-photos":"Form_id-barcodes-photos__2EtGr",uuid:"Form_uuid__390Ur","allow-edit":"Form_allow-edit__2bNLl","form-photo":"Form_form-photo__KUrWt","picture-small":"Form_picture-small__3G_dV","div-picture":"Form_div-picture__1ZjeF",barcodes:"Form_barcodes__U-W5R",barcode:"Form_barcode__3l5Vp","add-bc":"Form_add-bc__3ZUsN","barcodes-hidden":"Form_barcodes-hidden__3RH5e","barcode-err":"Form_barcode-err__3XErq","view-barcode":"Form_view-barcode__1dcmC","del-bc":"Form_del-bc__1LwSb",code_article:"Form_code_article__jY4wJ",code:"Form_code__1DUSp","article-number":"Form_article-number__2ncsP",propertyes:"Form_propertyes__39JHl",tax:"Form_tax__10Vyu","tree-container":"Form_tree-container__1Dby-","g-tree":"Form_g-tree__e4Uyg",tree:"Form_tree__3nwNl",name:"Form_name__1YFWH",description:"Form_description__J0kCp",prices:"Form_prices__4dNT8",price:"Form_price__Khzda",buttons:"Form_buttons__3k3hF","button-submit":"Form_button-submit__24VDU","button-cancel":"Form_button-cancel__1wDlz",select:"Form_select__JfE4L","big-img":"Form_big-img__1-g2E",required:"Form_required__3vB1c","product-dates":"Form_product-dates__3wb-N",created_at:"Form_created_at__1C-ca",updated_at:"Form_updated_at__16XZc","attr-container":"Form_attr-container__3Zolp",attr:"Form_attr__1NDhW","attr-select":"Form_attr-select__K9JP2","attr-choices":"Form_attr-choices__FfdB4",choice:"Form_choice__3kyfR",selected:"Form_selected__4K6BO"}},70:function(e){e.exports=JSON.parse('[{"uuid":"","appId":"","items":[{"title":"TestSchemaString","editable":true,"uuid":"","type":"TEXT_FIELD","data":{"test":"TestString"},"regexp":"\\\\\\\\w+"},{"title":"TestSchemaDictionary","editable":false,"uuid":"","type":"DICTIONARY_FIELD","multiple":false,"items":[{"title":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 1","value":""},{"title":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 1","value":""}]}]}]')},78:function(e,t,r){},79:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){},83:function(e,t,r){},9:function(e){e.exports=JSON.parse('{"baseURL":"https://api.evotor.ru/","url":"","headers":{"Accept":"application/vnd.evotor.v2+json","Content-Type":"application/vnd.evotor.v2+json","X-Authorization":""}}')}},[[114,1,2]]]);
//# sourceMappingURL=main.138542e1.chunk.js.map